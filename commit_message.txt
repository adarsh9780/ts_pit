feat(ui): add alert deep links, persisted UI state, and clean agent history restore

- add route support for `/ui/:alertId` and keep dashboard rendering on direct alert URLs
- sync selected alert with route params so refresh reopens the same alert
- persist dashboard UI state (filters, sidebar collapse, agent panel) in localStorage
- persist per-alert detail preferences (theme, period, chart/view modes, summary tab)
- align legacy alerts table navigation to use `alertId` route param
- make `/agent/history/{session_id}` return turn-level chat (user + final assistant) instead of raw internal graph messages
- keep tool-call visibility by attaching tool metadata to assistant turns during history restore
