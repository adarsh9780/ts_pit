feat(agent_v2): add token-based summarize-and-trim memory node

- add summarize_and_trim node to the v2 graph before planning
- trigger memory compression when estimated conversation tokens exceed threshold
- create/update rolling conversation summary from older dialogue turns
- keep recent dialogue window while preserving durable context via summary
- switch model invocations to use curated context (system + runtime + summary + recent messages)
- keep persisted chat history unchanged while reducing prompt growth risk
- fix route typing for classify_intent conditional edge
