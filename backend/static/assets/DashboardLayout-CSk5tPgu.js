import{_ as lt,o as N,c as Sn,w as vi,a as $,b as S,t as U,d as ce,T as pl,e as Re,f as E,V as vl,m as ie,g as he,i as ke,h as Fe,r as me,s as $c,j as fe,k as St,l as gl,n as zc,D as Fc,p as es,S as Hc,q as Gc,u as aa,v as ne,x as _e,y as Un,M as mt,z as Vc,A as ge,B as Uc,C as Ot,E as gi,F as Wc,G as qc,H as ts,I as Oe,J as jc,K as Zc,L as nt,N as ve,O as ml,P as Xc,Q as Yc,R as Te,U as Wn,W as yl,X as Kc,Y as Jc,Z as Y,$ as Qc,a0 as Ra,a1 as qn,a2 as ze,a3 as bl,a4 as rs,a5 as eh,a6 as vn,a7 as th,a8 as Oa,a9 as Ee,aa as wn,ab as je,ac as xl,ad as _l,ae as gn,af as ns,ag as rh,ah as nh,ai as ah,aj as wt,ak as Pa,al as ih,am as sh,an as oh,ao as lh,ap as uh,aq as ch,ar as hh,as as fh,at as dh,au as ph,av as vh,aw as gh,ax as mh,ay as yh,az as bh,aA as Na,aB as kn,aC as xh,aD as xt,aE as Pt,aF as kt,aG as it,aH as _h,aI as Sh,aJ as wh,aK as kh,aL as Ah,aM as Ch,aN as Dh,aO as Th,aP as Lh,aQ as Ih,aR as Mh,aS as Eh,aT as Rh,aU as Oh,aV as Ph,aW as Sl,aX as Nh,aY as as,aZ as wl,a_ as An,a$ as kl,b0 as jr,b1 as Ba,b2 as Bh,b3 as Al,b4 as Be,b5 as $a,b6 as $h,b7 as Cl,b8 as zh,b9 as Fh,ba as Hh,bb as Gh,bc as Vh,bd as Zr,be as Uh,bf as Wh,bg as Ae,bh as $e,bi as qh,bj as Xr,bk as Me,bl as qt,bm as ee,bn as is,bo as jh,bp as Zh,bq as Pe,br as mi,bs as st,bt as Er,bu as Dl,bv as Xh,bw as Rr,bx as jt,by as ye,bz as ss,bA as Yh,bB as yi,bC as Kh,bD as os,bE as zt,bF as ls,bG as Xe,bH as bi,bI as Zt,bJ as Ar,bK as za,bL as us,bM as At,bN as Jh,bO as Tl,bP as Qh,bQ as cs,bR as ef,bS as Ll,bT as hs,bU as ia,bV as tf,bW as rf,bX as xi,bY as Cn,bZ as _i,b_ as nf,b$ as Il,c0 as Xt,c1 as af,c2 as Cr,c3 as Ml,c4 as yt,c5 as jn,c6 as Si,c7 as Dn,c8 as Tn,c9 as El,ca as wi,cb as fs,cc as sf,cd as of,ce as Ln,cf as Rl,cg as Dr,ch as lf,ci as uf,cj as Wt,ck as In,cl as ds,cm as ps,cn as cf,co as sa,cp as hf,cq as Ol,cr as Pl,cs as Fa,ct as ff,cu as df,cv as pf,cw as ki,cx as Nl,cy as vs,cz as vf,cA as gf,cB as mf,cC as Bl,cD as yf,cE as bf,cF as xf,cG as Mn,cH as _f,cI as oa,cJ as gs,cK as ms,cL as Sf,cM as wf,cN as kf,cO as Af,cP as ys,cQ as $l,cR as Cf,cS as Df,cT as Tf,cU as Lf,cV as If,cW as bs,cX as Mf,cY as xs,cZ as _s,c_ as Ef,c$ as Ss,d0 as Rf,d1 as Of,d2 as Pf,d3 as ws,d4 as _r,d5 as Nf,d6 as Bf,d7 as be,d8 as pe,d9 as xe,da as Ce,db as $f,dc as zf,dd as Yt,de as rt,df as q,dg as Sr,dh as Ha,di as Ff,dj as yr,dk as Ai,dl as gt,dm as zl,dn as Hf,dp as ks}from"./index-BqoDj_m-.js";function Fl(r,e){return function(){return r.apply(e,arguments)}}const{toString:Gf}=Object.prototype,{getPrototypeOf:Ci}=Object,{iterator:Zn,toStringTag:Hl}=Symbol,Xn=(r=>e=>{const t=Gf.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Ye=r=>(r=r.toLowerCase(),e=>Xn(e)===r),Yn=r=>e=>typeof e===r,{isArray:tr}=Array,Kt=Yn("undefined");function Or(r){return r!==null&&!Kt(r)&&r.constructor!==null&&!Kt(r.constructor)&&Le(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const Gl=Ye("ArrayBuffer");function Vf(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&Gl(r.buffer),e}const Uf=Yn("string"),Le=Yn("function"),Vl=Yn("number"),Pr=r=>r!==null&&typeof r=="object",Wf=r=>r===!0||r===!1,mn=r=>{if(Xn(r)!=="object")return!1;const e=Ci(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Hl in r)&&!(Zn in r)},qf=r=>{if(!Pr(r)||Or(r))return!1;try{return Object.keys(r).length===0&&Object.getPrototypeOf(r)===Object.prototype}catch{return!1}},jf=Ye("Date"),Zf=Ye("File"),Xf=Ye("Blob"),Yf=Ye("FileList"),Kf=r=>Pr(r)&&Le(r.pipe),Jf=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||Le(r.append)&&((e=Xn(r))==="formdata"||e==="object"&&Le(r.toString)&&r.toString()==="[object FormData]"))},Qf=Ye("URLSearchParams"),[ed,td,rd,nd]=["ReadableStream","Request","Response","Headers"].map(Ye),ad=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Nr(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let n,a;if(typeof r!="object"&&(r=[r]),tr(r))for(n=0,a=r.length;n<a;n++)e.call(null,r[n],n,r);else{if(Or(r))return;const i=t?Object.getOwnPropertyNames(r):Object.keys(r),s=i.length;let o;for(n=0;n<s;n++)o=i[n],e.call(null,r[o],o,r)}}function Ul(r,e){if(Or(r))return null;e=e.toLowerCase();const t=Object.keys(r);let n=t.length,a;for(;n-- >0;)if(a=t[n],e===a.toLowerCase())return a;return null}const Mt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Wl=r=>!Kt(r)&&r!==Mt;function Ga(){const{caseless:r,skipUndefined:e}=Wl(this)&&this||{},t={},n=(a,i)=>{const s=r&&Ul(t,i)||i;mn(t[s])&&mn(a)?t[s]=Ga(t[s],a):mn(a)?t[s]=Ga({},a):tr(a)?t[s]=a.slice():(!e||!Kt(a))&&(t[s]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&Nr(arguments[a],n);return t}const id=(r,e,t,{allOwnKeys:n}={})=>(Nr(e,(a,i)=>{t&&Le(a)?Object.defineProperty(r,i,{value:Fl(a,t),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(r,i,{value:a,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:n}),r),sd=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),od=(r,e,t,n)=>{r.prototype=Object.create(e.prototype,n),Object.defineProperty(r.prototype,"constructor",{value:r,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},ld=(r,e,t,n)=>{let a,i,s;const o={};if(e=e||{},r==null)return e;do{for(a=Object.getOwnPropertyNames(r),i=a.length;i-- >0;)s=a[i],(!n||n(s,r,e))&&!o[s]&&(e[s]=r[s],o[s]=!0);r=t!==!1&&Ci(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},ud=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const n=r.indexOf(e,t);return n!==-1&&n===t},cd=r=>{if(!r)return null;if(tr(r))return r;let e=r.length;if(!Vl(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},hd=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&Ci(Uint8Array)),fd=(r,e)=>{const n=(r&&r[Zn]).call(r);let a;for(;(a=n.next())&&!a.done;){const i=a.value;e.call(r,i[0],i[1])}},dd=(r,e)=>{let t;const n=[];for(;(t=r.exec(e))!==null;)n.push(t);return n},pd=Ye("HTMLFormElement"),vd=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,a){return n.toUpperCase()+a}),As=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),gd=Ye("RegExp"),ql=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),n={};Nr(t,(a,i)=>{let s;(s=e(a,i,r))!==!1&&(n[i]=s||a)}),Object.defineProperties(r,n)},md=r=>{ql(r,(e,t)=>{if(Le(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=r[t];if(Le(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},yd=(r,e)=>{const t={},n=a=>{a.forEach(i=>{t[i]=!0})};return tr(r)?n(r):n(String(r).split(e)),t},bd=()=>{},xd=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e;function _d(r){return!!(r&&Le(r.append)&&r[Hl]==="FormData"&&r[Zn])}const Sd=r=>{const e=new Array(10),t=(n,a)=>{if(Pr(n)){if(e.indexOf(n)>=0)return;if(Or(n))return n;if(!("toJSON"in n)){e[a]=n;const i=tr(n)?[]:{};return Nr(n,(s,o)=>{const l=t(s,a+1);!Kt(l)&&(i[o]=l)}),e[a]=void 0,i}}return n};return t(r,0)},wd=Ye("AsyncFunction"),kd=r=>r&&(Pr(r)||Le(r))&&Le(r.then)&&Le(r.catch),jl=((r,e)=>r?setImmediate:e?((t,n)=>(Mt.addEventListener("message",({source:a,data:i})=>{a===Mt&&i===t&&n.length&&n.shift()()},!1),a=>{n.push(a),Mt.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Le(Mt.postMessage)),Ad=typeof queueMicrotask<"u"?queueMicrotask.bind(Mt):typeof process<"u"&&process.nextTick||jl,Cd=r=>r!=null&&Le(r[Zn]),C={isArray:tr,isArrayBuffer:Gl,isBuffer:Or,isFormData:Jf,isArrayBufferView:Vf,isString:Uf,isNumber:Vl,isBoolean:Wf,isObject:Pr,isPlainObject:mn,isEmptyObject:qf,isReadableStream:ed,isRequest:td,isResponse:rd,isHeaders:nd,isUndefined:Kt,isDate:jf,isFile:Zf,isBlob:Xf,isRegExp:gd,isFunction:Le,isStream:Kf,isURLSearchParams:Qf,isTypedArray:hd,isFileList:Yf,forEach:Nr,merge:Ga,extend:id,trim:ad,stripBOM:sd,inherits:od,toFlatObject:ld,kindOf:Xn,kindOfTest:Ye,endsWith:ud,toArray:cd,forEachEntry:fd,matchAll:dd,isHTMLForm:pd,hasOwnProperty:As,hasOwnProp:As,reduceDescriptors:ql,freezeMethods:md,toObjectSet:yd,toCamelCase:vd,noop:bd,toFiniteNumber:xd,findKey:Ul,global:Mt,isContextDefined:Wl,isSpecCompliantForm:_d,toJSONObject:Sd,isAsyncFn:wd,isThenable:kd,setImmediate:jl,asap:Ad,isIterable:Cd};let X=class Zl extends Error{static from(e,t,n,a,i,s){const o=new Zl(e.message,t||e.code,n,a,i);return o.cause=e,o.name=e.name,s&&Object.assign(o,s),o}constructor(e,t,n,a,i){super(e),this.name="AxiosError",this.isAxiosError=!0,t&&(this.code=t),n&&(this.config=n),a&&(this.request=a),i&&(this.response=i,this.status=i.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:C.toJSONObject(this.config),code:this.code,status:this.status}}};X.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";X.ERR_BAD_OPTION="ERR_BAD_OPTION";X.ECONNABORTED="ECONNABORTED";X.ETIMEDOUT="ETIMEDOUT";X.ERR_NETWORK="ERR_NETWORK";X.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";X.ERR_DEPRECATED="ERR_DEPRECATED";X.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";X.ERR_BAD_REQUEST="ERR_BAD_REQUEST";X.ERR_CANCELED="ERR_CANCELED";X.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";X.ERR_INVALID_URL="ERR_INVALID_URL";const Dd=null;function Va(r){return C.isPlainObject(r)||C.isArray(r)}function Xl(r){return C.endsWith(r,"[]")?r.slice(0,-2):r}function Cs(r,e,t){return r?r.concat(e).map(function(a,i){return a=Xl(a),!t&&i?"["+a+"]":a}).join(t?".":""):e}function Td(r){return C.isArray(r)&&!r.some(Va)}const Ld=C.toFlatObject(C,{},null,function(e){return/^is[A-Z]/.test(e)});function Kn(r,e,t){if(!C.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=C.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,m){return!C.isUndefined(m[v])});const n=t.metaTokens,a=t.visitor||c,i=t.dots,s=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&C.isSpecCompliantForm(e);if(!C.isFunction(a))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(C.isDate(p))return p.toISOString();if(C.isBoolean(p))return p.toString();if(!l&&C.isBlob(p))throw new X("Blob is not supported. Use a Buffer instead.");return C.isArrayBuffer(p)||C.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function c(p,v,m){let g=p;if(p&&!m&&typeof p=="object"){if(C.endsWith(v,"{}"))v=n?v:v.slice(0,-2),p=JSON.stringify(p);else if(C.isArray(p)&&Td(p)||(C.isFileList(p)||C.endsWith(v,"[]"))&&(g=C.toArray(p)))return v=Xl(v),g.forEach(function(b,_){!(C.isUndefined(b)||b===null)&&e.append(s===!0?Cs([v],_,i):s===null?v:v+"[]",u(b))}),!1}return Va(p)?!0:(e.append(Cs(m,v,i),u(p)),!1)}const h=[],f=Object.assign(Ld,{defaultVisitor:c,convertValue:u,isVisitable:Va});function d(p,v){if(!C.isUndefined(p)){if(h.indexOf(p)!==-1)throw Error("Circular reference detected in "+v.join("."));h.push(p),C.forEach(p,function(g,y){(!(C.isUndefined(g)||g===null)&&a.call(e,g,C.isString(y)?y.trim():y,v,f))===!0&&d(g,v?v.concat(y):[y])}),h.pop()}}if(!C.isObject(r))throw new TypeError("data must be an object");return d(r),e}function Ds(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Di(r,e){this._pairs=[],r&&Kn(r,this,e)}const Yl=Di.prototype;Yl.append=function(e,t){this._pairs.push([e,t])};Yl.toString=function(e){const t=e?function(n){return e.call(this,n,Ds)}:Ds;return this._pairs.map(function(a){return t(a[0])+"="+t(a[1])},"").join("&")};function Id(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Kl(r,e,t){if(!e)return r;const n=t&&t.encode||Id,a=C.isFunction(t)?{serialize:t}:t,i=a&&a.serialize;let s;if(i?s=i(e,a):s=C.isURLSearchParams(e)?e.toString():new Di(e,a).toString(n),s){const o=r.indexOf("#");o!==-1&&(r=r.slice(0,o)),r+=(r.indexOf("?")===-1?"?":"&")+s}return r}class Ts{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){C.forEach(this.handlers,function(n){n!==null&&e(n)})}}const Jl={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Md=typeof URLSearchParams<"u"?URLSearchParams:Di,Ed=typeof FormData<"u"?FormData:null,Rd=typeof Blob<"u"?Blob:null,Od={isBrowser:!0,classes:{URLSearchParams:Md,FormData:Ed,Blob:Rd},protocols:["http","https","file","blob","url","data"]},Ti=typeof window<"u"&&typeof document<"u",Ua=typeof navigator=="object"&&navigator||void 0,Pd=Ti&&(!Ua||["ReactNative","NativeScript","NS"].indexOf(Ua.product)<0),Nd=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Bd=Ti&&window.location.href||"http://localhost",$d=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ti,hasStandardBrowserEnv:Pd,hasStandardBrowserWebWorkerEnv:Nd,navigator:Ua,origin:Bd},Symbol.toStringTag,{value:"Module"})),we={...$d,...Od};function zd(r,e){return Kn(r,new we.classes.URLSearchParams,{visitor:function(t,n,a,i){return we.isNode&&C.isBuffer(t)?(this.append(n,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function Fd(r){return C.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Hd(r){const e={},t=Object.keys(r);let n;const a=t.length;let i;for(n=0;n<a;n++)i=t[n],e[i]=r[i];return e}function Ql(r){function e(t,n,a,i){let s=t[i++];if(s==="__proto__")return!0;const o=Number.isFinite(+s),l=i>=t.length;return s=!s&&C.isArray(a)?a.length:s,l?(C.hasOwnProp(a,s)?a[s]=[a[s],n]:a[s]=n,!o):((!a[s]||!C.isObject(a[s]))&&(a[s]=[]),e(t,n,a[s],i)&&C.isArray(a[s])&&(a[s]=Hd(a[s])),!o)}if(C.isFormData(r)&&C.isFunction(r.entries)){const t={};return C.forEachEntry(r,(n,a)=>{e(Fd(n),a,t,0)}),t}return null}function Gd(r,e,t){if(C.isString(r))try{return(e||JSON.parse)(r),C.trim(r)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(r)}const Br={transitional:Jl,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",a=n.indexOf("application/json")>-1,i=C.isObject(e);if(i&&C.isHTMLForm(e)&&(e=new FormData(e)),C.isFormData(e))return a?JSON.stringify(Ql(e)):e;if(C.isArrayBuffer(e)||C.isBuffer(e)||C.isStream(e)||C.isFile(e)||C.isBlob(e)||C.isReadableStream(e))return e;if(C.isArrayBufferView(e))return e.buffer;if(C.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return zd(e,this.formSerializer).toString();if((o=C.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Kn(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||a?(t.setContentType("application/json",!1),Gd(e)):e}],transformResponse:[function(e){const t=this.transitional||Br.transitional,n=t&&t.forcedJSONParsing,a=this.responseType==="json";if(C.isResponse(e)||C.isReadableStream(e))return e;if(e&&C.isString(e)&&(n&&!this.responseType||a)){const s=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e,this.parseReviver)}catch(o){if(s)throw o.name==="SyntaxError"?X.from(o,X.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:we.classes.FormData,Blob:we.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};C.forEach(["delete","get","head","post","put","patch"],r=>{Br.headers[r]={}});const Vd=C.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ud=r=>{const e={};let t,n,a;return r&&r.split(`
`).forEach(function(s){a=s.indexOf(":"),t=s.substring(0,a).trim().toLowerCase(),n=s.substring(a+1).trim(),!(!t||e[t]&&Vd[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},Ls=Symbol("internals");function or(r){return r&&String(r).trim().toLowerCase()}function yn(r){return r===!1||r==null?r:C.isArray(r)?r.map(yn):String(r)}function Wd(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(r);)e[n[1]]=n[2];return e}const qd=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function la(r,e,t,n,a){if(C.isFunction(n))return n.call(this,e,t);if(a&&(e=t),!!C.isString(e)){if(C.isString(n))return e.indexOf(n)!==-1;if(C.isRegExp(n))return n.test(e)}}function jd(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function Zd(r,e){const t=C.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(r,n+t,{value:function(a,i,s){return this[n].call(this,e,a,i,s)},configurable:!0})})}let Ie=class{constructor(e){e&&this.set(e)}set(e,t,n){const a=this;function i(o,l,u){const c=or(l);if(!c)throw new Error("header name must be a non-empty string");const h=C.findKey(a,c);(!h||a[h]===void 0||u===!0||u===void 0&&a[h]!==!1)&&(a[h||l]=yn(o))}const s=(o,l)=>C.forEach(o,(u,c)=>i(u,c,l));if(C.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(C.isString(e)&&(e=e.trim())&&!qd(e))s(Ud(e),t);else if(C.isObject(e)&&C.isIterable(e)){let o={},l,u;for(const c of e){if(!C.isArray(c))throw TypeError("Object iterator must return a key-value pair");o[u=c[0]]=(l=o[u])?C.isArray(l)?[...l,c[1]]:[l,c[1]]:c[1]}s(o,t)}else e!=null&&i(t,e,n);return this}get(e,t){if(e=or(e),e){const n=C.findKey(this,e);if(n){const a=this[n];if(!t)return a;if(t===!0)return Wd(a);if(C.isFunction(t))return t.call(this,a,n);if(C.isRegExp(t))return t.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=or(e),e){const n=C.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||la(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let a=!1;function i(s){if(s=or(s),s){const o=C.findKey(n,s);o&&(!t||la(n,n[o],o,t))&&(delete n[o],a=!0)}}return C.isArray(e)?e.forEach(i):i(e),a}clear(e){const t=Object.keys(this);let n=t.length,a=!1;for(;n--;){const i=t[n];(!e||la(this,this[i],i,e,!0))&&(delete this[i],a=!0)}return a}normalize(e){const t=this,n={};return C.forEach(this,(a,i)=>{const s=C.findKey(n,i);if(s){t[s]=yn(a),delete t[i];return}const o=e?jd(i):String(i).trim();o!==i&&delete t[i],t[o]=yn(a),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return C.forEach(this,(n,a)=>{n!=null&&n!==!1&&(t[a]=e&&C.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(a=>n.set(a)),n}static accessor(e){const n=(this[Ls]=this[Ls]={accessors:{}}).accessors,a=this.prototype;function i(s){const o=or(s);n[o]||(Zd(a,s),n[o]=!0)}return C.isArray(e)?e.forEach(i):i(e),this}};Ie.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);C.reduceDescriptors(Ie.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(n){this[t]=n}}});C.freezeMethods(Ie);function ua(r,e){const t=this||Br,n=e||t,a=Ie.from(n.headers);let i=n.data;return C.forEach(r,function(o){i=o.call(t,i,a.normalize(),e?e.status:void 0)}),a.normalize(),i}function eu(r){return!!(r&&r.__CANCEL__)}let $r=class extends X{constructor(e,t,n){super(e??"canceled",X.ERR_CANCELED,t,n),this.name="CanceledError",this.__CANCEL__=!0}};function tu(r,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?r(t):e(new X("Request failed with status code "+t.status,[X.ERR_BAD_REQUEST,X.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function Xd(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function Yd(r,e){r=r||10;const t=new Array(r),n=new Array(r);let a=0,i=0,s;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=n[i];s||(s=u),t[a]=l,n[a]=u;let h=i,f=0;for(;h!==a;)f+=t[h++],h=h%r;if(a=(a+1)%r,a===i&&(i=(i+1)%r),u-s<e)return;const d=c&&u-c;return d?Math.round(f*1e3/d):void 0}}function Kd(r,e){let t=0,n=1e3/e,a,i;const s=(u,c=Date.now())=>{t=c,a=null,i&&(clearTimeout(i),i=null),r(...u)};return[(...u)=>{const c=Date.now(),h=c-t;h>=n?s(u,c):(a=u,i||(i=setTimeout(()=>{i=null,s(a)},n-h)))},()=>a&&s(a)]}const En=(r,e,t=3)=>{let n=0;const a=Yd(50,250);return Kd(i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,l=s-n,u=a(l),c=s<=o;n=s;const h={loaded:s,total:o,progress:o?s/o:void 0,bytes:l,rate:u||void 0,estimated:u&&o&&c?(o-s)/u:void 0,event:i,lengthComputable:o!=null,[e?"download":"upload"]:!0};r(h)},t)},Is=(r,e)=>{const t=r!=null;return[n=>e[0]({lengthComputable:t,total:r,loaded:n}),e[1]]},Ms=r=>(...e)=>C.asap(()=>r(...e)),Jd=we.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,we.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(we.origin),we.navigator&&/(msie|trident)/i.test(we.navigator.userAgent)):()=>!0,Qd=we.hasStandardBrowserEnv?{write(r,e,t,n,a,i,s){if(typeof document>"u")return;const o=[`${r}=${encodeURIComponent(e)}`];C.isNumber(t)&&o.push(`expires=${new Date(t).toUTCString()}`),C.isString(n)&&o.push(`path=${n}`),C.isString(a)&&o.push(`domain=${a}`),i===!0&&o.push("secure"),C.isString(s)&&o.push(`SameSite=${s}`),document.cookie=o.join("; ")},read(r){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+r+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(r){this.write(r,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function ep(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function tp(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function ru(r,e,t){let n=!ep(e);return r&&(n||t==!1)?tp(r,e):e}const Es=r=>r instanceof Ie?{...r}:r;function Nt(r,e){e=e||{};const t={};function n(u,c,h,f){return C.isPlainObject(u)&&C.isPlainObject(c)?C.merge.call({caseless:f},u,c):C.isPlainObject(c)?C.merge({},c):C.isArray(c)?c.slice():c}function a(u,c,h,f){if(C.isUndefined(c)){if(!C.isUndefined(u))return n(void 0,u,h,f)}else return n(u,c,h,f)}function i(u,c){if(!C.isUndefined(c))return n(void 0,c)}function s(u,c){if(C.isUndefined(c)){if(!C.isUndefined(u))return n(void 0,u)}else return n(void 0,c)}function o(u,c,h){if(h in e)return n(u,c);if(h in r)return n(void 0,u)}const l={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(u,c,h)=>a(Es(u),Es(c),h,!0)};return C.forEach(Object.keys({...r,...e}),function(c){const h=l[c]||a,f=h(r[c],e[c],c);C.isUndefined(f)&&h!==o||(t[c]=f)}),t}const nu=r=>{const e=Nt({},r);let{data:t,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:i,headers:s,auth:o}=e;if(e.headers=s=Ie.from(s),e.url=Kl(ru(e.baseURL,e.url,e.allowAbsoluteUrls),r.params,r.paramsSerializer),o&&s.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),C.isFormData(t)){if(we.hasStandardBrowserEnv||we.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(C.isFunction(t.getHeaders)){const l=t.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([c,h])=>{u.includes(c.toLowerCase())&&s.set(c,h)})}}if(we.hasStandardBrowserEnv&&(n&&C.isFunction(n)&&(n=n(e)),n||n!==!1&&Jd(e.url))){const l=a&&i&&Qd.read(i);l&&s.set(a,l)}return e},rp=typeof XMLHttpRequest<"u",np=rp&&function(r){return new Promise(function(t,n){const a=nu(r);let i=a.data;const s=Ie.from(a.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:u}=a,c,h,f,d,p;function v(){d&&d(),p&&p(),a.cancelToken&&a.cancelToken.unsubscribe(c),a.signal&&a.signal.removeEventListener("abort",c)}let m=new XMLHttpRequest;m.open(a.method.toUpperCase(),a.url,!0),m.timeout=a.timeout;function g(){if(!m)return;const b=Ie.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),x={data:!o||o==="text"||o==="json"?m.responseText:m.response,status:m.status,statusText:m.statusText,headers:b,config:r,request:m};tu(function(w){t(w),v()},function(w){n(w),v()},x),m=null}"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(g)},m.onabort=function(){m&&(n(new X("Request aborted",X.ECONNABORTED,r,m)),m=null)},m.onerror=function(_){const x=_&&_.message?_.message:"Network Error",k=new X(x,X.ERR_NETWORK,r,m);k.event=_||null,n(k),m=null},m.ontimeout=function(){let _=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const x=a.transitional||Jl;a.timeoutErrorMessage&&(_=a.timeoutErrorMessage),n(new X(_,x.clarifyTimeoutError?X.ETIMEDOUT:X.ECONNABORTED,r,m)),m=null},i===void 0&&s.setContentType(null),"setRequestHeader"in m&&C.forEach(s.toJSON(),function(_,x){m.setRequestHeader(x,_)}),C.isUndefined(a.withCredentials)||(m.withCredentials=!!a.withCredentials),o&&o!=="json"&&(m.responseType=a.responseType),u&&([f,p]=En(u,!0),m.addEventListener("progress",f)),l&&m.upload&&([h,d]=En(l),m.upload.addEventListener("progress",h),m.upload.addEventListener("loadend",d)),(a.cancelToken||a.signal)&&(c=b=>{m&&(n(!b||b.type?new $r(null,r,m):b),m.abort(),m=null)},a.cancelToken&&a.cancelToken.subscribe(c),a.signal&&(a.signal.aborted?c():a.signal.addEventListener("abort",c)));const y=Xd(a.url);if(y&&we.protocols.indexOf(y)===-1){n(new X("Unsupported protocol "+y+":",X.ERR_BAD_REQUEST,r));return}m.send(i||null)})},ap=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let n=new AbortController,a;const i=function(u){if(!a){a=!0,o();const c=u instanceof Error?u:this.reason;n.abort(c instanceof X?c:new $r(c instanceof Error?c.message:c))}};let s=e&&setTimeout(()=>{s=null,i(new X(`timeout of ${e}ms exceeded`,X.ETIMEDOUT))},e);const o=()=>{r&&(s&&clearTimeout(s),s=null,r.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),r=null)};r.forEach(u=>u.addEventListener("abort",i));const{signal:l}=n;return l.unsubscribe=()=>C.asap(o),l}},ip=function*(r,e){let t=r.byteLength;if(t<e){yield r;return}let n=0,a;for(;n<t;)a=n+e,yield r.slice(n,a),n=a},sp=async function*(r,e){for await(const t of op(r))yield*ip(t,e)},op=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{await e.cancel()}},Rs=(r,e,t,n)=>{const a=sp(r,e);let i=0,s,o=l=>{s||(s=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:u,value:c}=await a.next();if(u){o(),l.close();return}let h=c.byteLength;if(t){let f=i+=h;t(f)}l.enqueue(new Uint8Array(c))}catch(u){throw o(u),u}},cancel(l){return o(l),a.return()}},{highWaterMark:2})},Os=64*1024,{isFunction:Yr}=C,lp=(({Request:r,Response:e})=>({Request:r,Response:e}))(C.global),{ReadableStream:Ps,TextEncoder:Ns}=C.global,Bs=(r,...e)=>{try{return!!r(...e)}catch{return!1}},up=r=>{r=C.merge.call({skipUndefined:!0},lp,r);const{fetch:e,Request:t,Response:n}=r,a=e?Yr(e):typeof fetch=="function",i=Yr(t),s=Yr(n);if(!a)return!1;const o=a&&Yr(Ps),l=a&&(typeof Ns=="function"?(p=>v=>p.encode(v))(new Ns):async p=>new Uint8Array(await new t(p).arrayBuffer())),u=i&&o&&Bs(()=>{let p=!1;const v=new t(we.origin,{body:new Ps,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!v}),c=s&&o&&Bs(()=>C.isReadableStream(new n("").body)),h={stream:c&&(p=>p.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!h[p]&&(h[p]=(v,m)=>{let g=v&&v[p];if(g)return g.call(v);throw new X(`Response type '${p}' is not supported`,X.ERR_NOT_SUPPORT,m)})});const f=async p=>{if(p==null)return 0;if(C.isBlob(p))return p.size;if(C.isSpecCompliantForm(p))return(await new t(we.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(C.isArrayBufferView(p)||C.isArrayBuffer(p))return p.byteLength;if(C.isURLSearchParams(p)&&(p=p+""),C.isString(p))return(await l(p)).byteLength},d=async(p,v)=>{const m=C.toFiniteNumber(p.getContentLength());return m??f(v)};return async p=>{let{url:v,method:m,data:g,signal:y,cancelToken:b,timeout:_,onDownloadProgress:x,onUploadProgress:k,responseType:w,headers:I,withCredentials:L="same-origin",fetchOptions:T}=nu(p),A=e||fetch;w=w?(w+"").toLowerCase():"text";let O=ap([y,b&&b.toAbortSignal()],_),D=null;const P=O&&O.unsubscribe&&(()=>{O.unsubscribe()});let z;try{if(k&&u&&m!=="get"&&m!=="head"&&(z=await d(I,g))!==0){let F=new t(v,{method:"POST",body:g,duplex:"half"}),V;if(C.isFormData(g)&&(V=F.headers.get("content-type"))&&I.setContentType(V),F.body){const[j,J]=Is(z,En(Ms(k)));g=Rs(F.body,Os,j,J)}}C.isString(L)||(L=L?"include":"omit");const W=i&&"credentials"in t.prototype,K={...T,signal:O,method:m.toUpperCase(),headers:I.normalize().toJSON(),body:g,duplex:"half",credentials:W?L:void 0};D=i&&new t(v,K);let M=await(i?A(D,T):A(v,K));const R=c&&(w==="stream"||w==="response");if(c&&(x||R&&P)){const F={};["status","statusText","headers"].forEach(le=>{F[le]=M[le]});const V=C.toFiniteNumber(M.headers.get("content-length")),[j,J]=x&&Is(V,En(Ms(x),!0))||[];M=new n(Rs(M.body,Os,j,()=>{J&&J(),P&&P()}),F)}w=w||"text";let B=await h[C.findKey(h,w)||"text"](M,p);return!R&&P&&P(),await new Promise((F,V)=>{tu(F,V,{data:B,headers:Ie.from(M.headers),status:M.status,statusText:M.statusText,config:p,request:D})})}catch(W){throw P&&P(),W&&W.name==="TypeError"&&/Load failed|fetch/i.test(W.message)?Object.assign(new X("Network Error",X.ERR_NETWORK,p,D),{cause:W.cause||W}):X.from(W,W&&W.code,p,D)}}},cp=new Map,au=r=>{let e=r&&r.env||{};const{fetch:t,Request:n,Response:a}=e,i=[n,a,t];let s=i.length,o=s,l,u,c=cp;for(;o--;)l=i[o],u=c.get(l),u===void 0&&c.set(l,u=o?new Map:up(e)),c=u;return u};au();const Li={http:Dd,xhr:np,fetch:{get:au}};C.forEach(Li,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const $s=r=>`- ${r}`,hp=r=>C.isFunction(r)||r===null||r===!1;function fp(r,e){r=C.isArray(r)?r:[r];const{length:t}=r;let n,a;const i={};for(let s=0;s<t;s++){n=r[s];let o;if(a=n,!hp(n)&&(a=Li[(o=String(n)).toLowerCase()],a===void 0))throw new X(`Unknown adapter '${o}'`);if(a&&(C.isFunction(a)||(a=a.get(e))))break;i[o||"#"+s]=a}if(!a){const s=Object.entries(i).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=t?s.length>1?`since :
`+s.map($s).join(`
`):" "+$s(s[0]):"as no adapter specified";throw new X("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a}const iu={getAdapter:fp,adapters:Li};function ca(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new $r(null,r)}function zs(r){return ca(r),r.headers=Ie.from(r.headers),r.data=ua.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),iu.getAdapter(r.adapter||Br.adapter,r)(r).then(function(n){return ca(r),n.data=ua.call(r,r.transformResponse,n),n.headers=Ie.from(n.headers),n},function(n){return eu(n)||(ca(r),n&&n.response&&(n.response.data=ua.call(r,r.transformResponse,n.response),n.response.headers=Ie.from(n.response.headers))),Promise.reject(n)})}const su="1.13.4",Jn={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{Jn[r]=function(n){return typeof n===r||"a"+(e<1?"n ":" ")+r}});const Fs={};Jn.transitional=function(e,t,n){function a(i,s){return"[Axios v"+su+"] Transitional option '"+i+"'"+s+(n?". "+n:"")}return(i,s,o)=>{if(e===!1)throw new X(a(s," has been removed"+(t?" in "+t:"")),X.ERR_DEPRECATED);return t&&!Fs[s]&&(Fs[s]=!0,console.warn(a(s," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(i,s,o):!0}};Jn.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function dp(r,e,t){if(typeof r!="object")throw new X("options must be an object",X.ERR_BAD_OPTION_VALUE);const n=Object.keys(r);let a=n.length;for(;a-- >0;){const i=n[a],s=e[i];if(s){const o=r[i],l=o===void 0||s(o,i,r);if(l!==!0)throw new X("option "+i+" must be "+l,X.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new X("Unknown option "+i,X.ERR_BAD_OPTION)}}const bn={assertOptions:dp,validators:Jn},Je=bn.validators;let Et=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Ts,response:new Ts}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Nt(this.defaults,t);const{transitional:n,paramsSerializer:a,headers:i}=t;n!==void 0&&bn.assertOptions(n,{silentJSONParsing:Je.transitional(Je.boolean),forcedJSONParsing:Je.transitional(Je.boolean),clarifyTimeoutError:Je.transitional(Je.boolean)},!1),a!=null&&(C.isFunction(a)?t.paramsSerializer={serialize:a}:bn.assertOptions(a,{encode:Je.function,serialize:Je.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),bn.assertOptions(t,{baseUrl:Je.spelling("baseURL"),withXsrfToken:Je.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=i&&C.merge(i.common,i[t.method]);i&&C.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),t.headers=Ie.concat(s,i);const o=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(t)===!1||(l=l&&v.synchronous,o.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let c,h=0,f;if(!l){const p=[zs.bind(this),void 0];for(p.unshift(...o),p.push(...u),f=p.length,c=Promise.resolve(t);h<f;)c=c.then(p[h++],p[h++]);return c}f=o.length;let d=t;for(;h<f;){const p=o[h++],v=o[h++];try{d=p(d)}catch(m){v.call(this,m);break}}try{c=zs.call(this,d)}catch(p){return Promise.reject(p)}for(h=0,f=u.length;h<f;)c=c.then(u[h++],u[h++]);return c}getUri(e){e=Nt(this.defaults,e);const t=ru(e.baseURL,e.url,e.allowAbsoluteUrls);return Kl(t,e.params,e.paramsSerializer)}};C.forEach(["delete","get","head","options"],function(e){Et.prototype[e]=function(t,n){return this.request(Nt(n||{},{method:e,url:t,data:(n||{}).data}))}});C.forEach(["post","put","patch"],function(e){function t(n){return function(i,s,o){return this.request(Nt(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}Et.prototype[e]=t(),Et.prototype[e+"Form"]=t(!0)});let pp=class ou{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(i){t=i});const n=this;this.promise.then(a=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](a);n._listeners=null}),this.promise.then=a=>{let i;const s=new Promise(o=>{n.subscribe(o),i=o}).then(a);return s.cancel=function(){n.unsubscribe(i)},s},e(function(i,s,o){n.reason||(n.reason=new $r(i,s,o),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=n=>{e.abort(n)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new ou(function(a){e=a}),cancel:e}}};function vp(r){return function(t){return r.apply(null,t)}}function gp(r){return C.isObject(r)&&r.isAxiosError===!0}const Wa={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Wa).forEach(([r,e])=>{Wa[e]=r});function lu(r){const e=new Et(r),t=Fl(Et.prototype.request,e);return C.extend(t,Et.prototype,e,{allOwnKeys:!0}),C.extend(t,e,null,{allOwnKeys:!0}),t.create=function(a){return lu(Nt(r,a))},t}const oe=lu(Br);oe.Axios=Et;oe.CanceledError=$r;oe.CancelToken=pp;oe.isCancel=eu;oe.VERSION=su;oe.toFormData=Kn;oe.AxiosError=X;oe.Cancel=oe.CanceledError;oe.all=function(e){return Promise.all(e)};oe.spread=vp;oe.isAxiosError=gp;oe.mergeConfig=Nt;oe.AxiosHeaders=Ie;oe.formToJSON=r=>Ql(C.isHTMLForm(r)?new FormData(r):r);oe.getAdapter=iu.getAdapter;oe.HttpStatusCode=Wa;oe.default=oe;const{Axios:X_,AxiosError:Y_,CanceledError:K_,isCancel:J_,CancelToken:Q_,VERSION:e1,all:t1,Cancel:r1,isAxiosError:n1,spread:a1,toFormData:i1,AxiosHeaders:s1,HttpStatusCode:o1,formToJSON:l1,getAdapter:u1,mergeConfig:c1}=oe,mp={key:0,class:"modal-overlay"},yp={class:"modal-container"},bp={class:"modal-header"},xp={class:"modal-body"},_p={key:0,class:"modal-footer"},Sp={__name:"ConfirmDialog",props:{isOpen:Boolean,title:{type:String,default:"Confirm Action"},message:{type:String,default:"Are you sure you want to proceed?"},confirmText:{type:String,default:"Confirm"},cancelText:{type:String,default:"Cancel"},showButtons:{type:Boolean,default:!0}},emits:["confirm","cancel"],setup(r,{emit:e}){return(t,n)=>(N(),Sn(pl,{name:"fade"},{default:vi(()=>[r.isOpen?(N(),$("div",mp,[S("div",yp,[S("div",bp,[S("h3",null,U(r.title),1)]),S("div",xp,[S("p",null,U(r.message),1)]),r.showButtons?(N(),$("div",_p,[S("button",{class:"btn btn-cancel",onClick:n[0]||(n[0]=a=>t.$emit("cancel"))},U(r.cancelText),1),S("button",{class:"btn btn-confirm",onClick:n[1]||(n[1]=a=>t.$emit("confirm"))},U(r.confirmText),1)])):ce("",!0)])])):ce("",!0)]),_:1}))}},uu=lt(Sp,[["__scopeId","data-v-ba3f84d8"]]);function lr(r){return r==null?0:r.length||1}function Hs(r){return r}var wp=(function(){function r(e,t,n,a,i,s){this._old=e,this._new=t,this._oldKeyGetter=n||Hs,this._newKeyGetter=a||Hs,this.context=i,this._diffModeMultiple=s==="multiple"}return r.prototype.add=function(e){return this._add=e,this},r.prototype.update=function(e){return this._update=e,this},r.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},r.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},r.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},r.prototype.remove=function(e){return this._remove=e,this},r.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},r.prototype._executeOneToOne=function(){var e=this._old,t=this._new,n={},a=new Array(e.length),i=new Array(t.length);this._initIndexMap(e,null,a,"_oldKeyGetter"),this._initIndexMap(t,n,i,"_newKeyGetter");for(var s=0;s<e.length;s++){var o=a[s],l=n[o],u=lr(l);if(u>1){var c=l.shift();l.length===1&&(n[o]=l[0]),this._update&&this._update(c,s)}else u===1?(n[o]=null,this._update&&this._update(l,s)):this._remove&&this._remove(s)}this._performRestAdd(i,n)},r.prototype._executeMultiple=function(){var e=this._old,t=this._new,n={},a={},i=[],s=[];this._initIndexMap(e,n,i,"_oldKeyGetter"),this._initIndexMap(t,a,s,"_newKeyGetter");for(var o=0;o<i.length;o++){var l=i[o],u=n[l],c=a[l],h=lr(u),f=lr(c);if(h>1&&f===1)this._updateManyToOne&&this._updateManyToOne(c,u),a[l]=null;else if(h===1&&f>1)this._updateOneToMany&&this._updateOneToMany(c,u),a[l]=null;else if(h===1&&f===1)this._update&&this._update(c,u),a[l]=null;else if(h>1&&f>1)this._updateManyToMany&&this._updateManyToMany(c,u),a[l]=null;else if(h>1)for(var d=0;d<h;d++)this._remove&&this._remove(u[d]);else this._remove&&this._remove(u)}this._performRestAdd(s,a)},r.prototype._performRestAdd=function(e,t){for(var n=0;n<e.length;n++){var a=e[n],i=t[a],s=lr(i);if(s>1)for(var o=0;o<s;o++)this._add&&this._add(i[o]);else s===1&&this._add&&this._add(i);t[a]=null}},r.prototype._initIndexMap=function(e,t,n,a){for(var i=this._diffModeMultiple,s=0;s<e.length;s++){var o="_ec_"+this[a](e[s],s);if(i||(n[s]=o),!!t){var l=t[o],u=lr(l);u===0?(t[o]=s,i&&n.push(o)):u===1?t[o]=[l,s]:l.push(s)}}},r})(),kp=(function(){function r(e,t){this._encode=e,this._schema=t}return r.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},r.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},r})();function Ap(r,e){var t={},n=t.encode={},a=Re(),i=[],s=[],o={};E(r.dimensions,function(f){var d=r.getDimensionInfo(f),p=d.coordDim;if(p){var v=d.coordDimIndex;ha(n,p)[v]=f,d.isExtraCoord||(a.set(p,1),Cp(d.type)&&(i[0]=f),ha(o,p)[v]=r.getDimensionIndex(d.name)),d.defaultTooltip&&s.push(f)}vl.each(function(m,g){var y=ha(n,g),b=d.otherDims[g];b!=null&&b!==!1&&(y[b]=d.name)})});var l=[],u={};a.each(function(f,d){var p=n[d];u[d]=p[0],l=l.concat(p)}),t.dataDimsOnCoord=l,t.dataDimIndicesOnCoord=ie(l,function(f){return r.getDimensionInfo(f).storeDimIndex}),t.encodeFirstDimNotExtra=u;var c=n.label;c&&c.length&&(i=c.slice());var h=n.tooltip;return h&&h.length?s=h.slice():s.length||(s=i.slice()),n.defaultedLabel=i,n.defaultedTooltip=s,t.userOutput=new kp(o,e),t}function ha(r,e){return r.hasOwnProperty(e)||(r[e]=[]),r[e]}function qa(r){return r==="category"?"ordinal":r==="time"?"time":"float"}function Cp(r){return!(r==="ordinal"||r==="time")}var xn=(function(){function r(e){this.otherDims={},e!=null&&he(this,e)}return r})(),Dp=Fe(),Tp={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},cu=(function(){function r(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return r.prototype.isDimensionOmitted=function(){return this._dimOmitted},r.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=du(this.source)))},r.prototype.getSourceDimensionIndex=function(e){return me(this._dimNameMap.get(e),-1)},r.prototype.getSourceDimension=function(e){var t=this.source.dimensionsDefine;if(t)return t[e]},r.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,t=$c(this.source),n=!pu(e),a="",i=[],s=0,o=0;s<e;s++){var l=void 0,u=void 0,c=void 0,h=this.dimensions[o];if(h&&h.storeDimIndex===s)l=t?h.name:null,u=h.type,c=h.ordinalMeta,o++;else{var f=this.getSourceDimension(s);f&&(l=t?f.name:null,u=f.type)}i.push({property:l,type:u,ordinalMeta:c}),t&&l!=null&&(!h||!h.isCalculationCoord)&&(a+=n?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),a+="$",a+=Tp[u]||"f",c&&(a+=c.uid),a+="$"}var d=this.source,p=[d.seriesLayoutBy,d.startIndex,a].join("$$");return{dimensions:i,hash:p}},r.prototype.makeOutputDimensionNames=function(){for(var e=[],t=0,n=0;t<this._fullDimCount;t++){var a=void 0,i=this.dimensions[n];if(i&&i.storeDimIndex===t)i.isCalculationCoord||(a=i.name),n++;else{var s=this.getSourceDimension(t);s&&(a=s.name)}e.push(a)}return e},r.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},r})();function hu(r){return r instanceof cu}function fu(r){for(var e=Re(),t=0;t<(r||[]).length;t++){var n=r[t],a=ke(n)?n.name:n;a!=null&&e.get(a)==null&&e.set(a,t)}return e}function du(r){var e=Dp(r);return e.dimNameMap||(e.dimNameMap=fu(r.dimensionsDefine))}function pu(r){return r>30}var ur=ke,ct=ie,Lp=typeof Int32Array>"u"?Array:Int32Array,Ip="e\0\0",Gs=-1,Mp=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],Ep=["_approximateExtent"],Vs,Kr,cr,hr,fa,fr,da,Rn=(function(){function r(e,t){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var n,a=!1;hu(e)?(n=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(a=!0,n=e),n=n||["x","y"];for(var i={},s=[],o={},l=!1,u={},c=0;c<n.length;c++){var h=n[c],f=fe(h)?new xn({name:h}):h instanceof xn?h:new xn(h),d=f.name;f.type=f.type||"float",f.coordDim||(f.coordDim=d,f.coordDimIndex=0);var p=f.otherDims=f.otherDims||{};s.push(d),i[d]=f,u[d]!=null&&(l=!0),f.createInvertedIndices&&(o[d]=[]);var v=c;St(f.storeDimIndex)&&(v=f.storeDimIndex),p.itemName===0&&(this._nameDimIdx=v),p.itemId===0&&(this._idDimIdx=v),a&&(f.storeDimIndex=c)}if(this.dimensions=s,this._dimInfos=i,this._initGetDimensionInfo(l),this.hostModel=t,this._invertedIndicesMap=o,this._dimOmitted){var m=this._dimIdxToName=Re();E(s,function(g){m.set(i[g].storeDimIndex,g)})}}return r.prototype.getDimension=function(e){var t=this._recognizeDimIndex(e);if(t==null)return e;if(t=e,!this._dimOmitted)return this.dimensions[t];var n=this._dimIdxToName.get(t);if(n!=null)return n;var a=this._schema.getSourceDimension(t);if(a)return a.name},r.prototype.getDimensionIndex=function(e){var t=this._recognizeDimIndex(e);if(t!=null)return t;if(e==null)return-1;var n=this._getDimInfo(e);return n?n.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},r.prototype._recognizeDimIndex=function(e){if(St(e)||e!=null&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},r.prototype._getStoreDimIndex=function(e){var t=this.getDimensionIndex(e);return t},r.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},r.prototype._initGetDimensionInfo=function(e){var t=this._dimInfos;this._getDimInfo=e?function(n){return t.hasOwnProperty(n)?t[n]:void 0}:function(n){return t[n]}},r.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},r.prototype.mapDimension=function(e,t){var n=this._dimSummary;if(t==null)return n.encodeFirstDimNotExtra[e];var a=n.encode[e];return a?a[t]:null},r.prototype.mapDimensionsAll=function(e){var t=this._dimSummary,n=t.encode[e];return(n||[]).slice()},r.prototype.getStore=function(){return this._store},r.prototype.initData=function(e,t,n){var a=this,i;if(e instanceof es&&(i=e),!i){var s=this.dimensions,o=gl(e)||zc(e)?new Fc(e,s.length):e;i=new es;var l=ct(s,function(u){return{type:a._dimInfos[u].type,property:u}});i.initData(o,l,n)}this._store=i,this._nameList=(t||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,i.count()),this._dimSummary=Ap(this,this._schema),this.userOutput=this._dimSummary.userOutput},r.prototype.appendData=function(e){var t=this._store.appendData(e);this._doInit(t[0],t[1])},r.prototype.appendValues=function(e,t){var n=this._store.appendValues(e,t&&t.length),a=n.start,i=n.end,s=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),t)for(var o=a;o<i;o++){var l=o-a;this._nameList[o]=t[l],s&&da(this,o)}},r.prototype._updateOrdinalMeta=function(){for(var e=this._store,t=this.dimensions,n=0;n<t.length;n++){var a=this._dimInfos[t[n]];a.ordinalMeta&&e.collectOrdinalMeta(a.storeDimIndex,a.ordinalMeta)}},r.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return this._idDimIdx==null&&e.getSource().sourceFormat!==Hc&&!e.fillStorage},r.prototype._doInit=function(e,t){if(!(e>=t)){var n=this._store,a=n.getProvider();this._updateOrdinalMeta();var i=this._nameList,s=this._idList,o=a.getSource().sourceFormat,l=o===gi;if(l&&!a.pure)for(var u=[],c=e;c<t;c++){var h=a.getItem(c,u);if(!this.hasItemOption&&Gc(h)&&(this.hasItemOption=!0),h){var f=h.name;i[c]==null&&f!=null&&(i[c]=aa(f,null));var d=h.id;s[c]==null&&d!=null&&(s[c]=aa(d,null))}}if(this._shouldMakeIdFromName())for(var c=e;c<t;c++)da(this,c);Vs(this)}},r.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},r.prototype.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},r.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},r.prototype.setCalculationInfo=function(e,t){ur(e)?he(this._calculationInfo,e):this._calculationInfo[e]=t},r.prototype.getName=function(e){var t=this.getRawIndex(e),n=this._nameList[t];return n==null&&this._nameDimIdx!=null&&(n=cr(this,this._nameDimIdx,t)),n==null&&(n=""),n},r.prototype._getCategory=function(e,t){var n=this._store.get(e,t),a=this._store.getOrdinalMeta(e);return a?a.categories[n]:n},r.prototype.getId=function(e){return Kr(this,this.getRawIndex(e))},r.prototype.count=function(){return this._store.count()},r.prototype.get=function(e,t){var n=this._store,a=this._dimInfos[e];if(a)return n.get(a.storeDimIndex,t)},r.prototype.getByRawIndex=function(e,t){var n=this._store,a=this._dimInfos[e];if(a)return n.getByRawIndex(a.storeDimIndex,t)},r.prototype.getIndices=function(){return this._store.getIndices()},r.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},r.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},r.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},r.prototype.getValues=function(e,t){var n=this,a=this._store;return ne(e)?a.getValues(ct(e,function(i){return n._getStoreDimIndex(i)}),t):a.getValues(e)},r.prototype.hasValue=function(e){for(var t=this._dimSummary.dataDimIndicesOnCoord,n=0,a=t.length;n<a;n++)if(isNaN(this._store.get(t[n],e)))return!1;return!0},r.prototype.indexOfName=function(e){for(var t=0,n=this._store.count();t<n;t++)if(this.getName(t)===e)return t;return-1},r.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},r.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},r.prototype.rawIndexOf=function(e,t){var n=e&&this._invertedIndicesMap[e],a=n&&n[t];return a==null||isNaN(a)?Gs:a},r.prototype.each=function(e,t,n){ge(e)&&(n=t,t=e,e=[]);var a=n||this,i=ct(hr(e),this._getStoreDimIndex,this);this._store.each(i,a?_e(t,a):t)},r.prototype.filterSelf=function(e,t,n){ge(e)&&(n=t,t=e,e=[]);var a=n||this,i=ct(hr(e),this._getStoreDimIndex,this);return this._store=this._store.filter(i,a?_e(t,a):t),this},r.prototype.selectRange=function(e){var t=this,n={},a=Un(e);return E(a,function(i){var s=t._getStoreDimIndex(i);n[s]=e[i]}),this._store=this._store.selectRange(n),this},r.prototype.mapArray=function(e,t,n){ge(e)&&(n=t,t=e,e=[]),n=n||this;var a=[];return this.each(e,function(){a.push(t&&t.apply(this,arguments))},n),a},r.prototype.map=function(e,t,n,a){var i=n||a||this,s=ct(hr(e),this._getStoreDimIndex,this),o=fr(this);return o._store=this._store.map(s,i?_e(t,i):t),o},r.prototype.modify=function(e,t,n,a){var i=n||a||this,s=ct(hr(e),this._getStoreDimIndex,this);this._store.modify(s,i?_e(t,i):t)},r.prototype.downSample=function(e,t,n,a){var i=fr(this);return i._store=this._store.downSample(this._getStoreDimIndex(e),t,n,a),i},r.prototype.minmaxDownSample=function(e,t){var n=fr(this);return n._store=this._store.minmaxDownSample(this._getStoreDimIndex(e),t),n},r.prototype.lttbDownSample=function(e,t){var n=fr(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(e),t),n},r.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},r.prototype.getItemModel=function(e){var t=this.hostModel,n=this.getRawDataItem(e);return new mt(n,t,t&&t.ecModel)},r.prototype.diff=function(e){var t=this;return new wp(e?e.getStore().getIndices():[],this.getStore().getIndices(),function(n){return Kr(e,n)},function(n){return Kr(t,n)})},r.prototype.getVisual=function(e){var t=this._visual;return t&&t[e]},r.prototype.setVisual=function(e,t){this._visual=this._visual||{},ur(e)?he(this._visual,e):this._visual[e]=t},r.prototype.getItemVisual=function(e,t){var n=this._itemVisuals[e],a=n&&n[t];return a??this.getVisual(t)},r.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},r.prototype.ensureUniqueItemVisual=function(e,t){var n=this._itemVisuals,a=n[e];a||(a=n[e]={});var i=a[t];return i==null&&(i=this.getVisual(t),ne(i)?i=i.slice():ur(i)&&(i=he({},i)),a[t]=i),i},r.prototype.setItemVisual=function(e,t,n){var a=this._itemVisuals[e]||{};this._itemVisuals[e]=a,ur(t)?he(a,t):a[t]=n},r.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},r.prototype.setLayout=function(e,t){ur(e)?he(this._layout,e):this._layout[e]=t},r.prototype.getLayout=function(e){return this._layout[e]},r.prototype.getItemLayout=function(e){return this._itemLayouts[e]},r.prototype.setItemLayout=function(e,t,n){this._itemLayouts[e]=n?he(this._itemLayouts[e]||{},t):t},r.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},r.prototype.setItemGraphicEl=function(e,t){var n=this.hostModel&&this.hostModel.seriesIndex;Vc(n,this.dataType,e,t),this._graphicEls[e]=t},r.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},r.prototype.eachItemGraphicEl=function(e,t){E(this._graphicEls,function(n,a){n&&e&&e.call(t,n,a)})},r.prototype.cloneShallow=function(e){return e||(e=new r(this._schema?this._schema:ct(this.dimensions,this._getDimInfo,this),this.hostModel)),fa(e,this),e._store=this._store,e},r.prototype.wrapMethod=function(e,t){var n=this[e];ge(n)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var a=n.apply(this,arguments);return t.apply(this,[a].concat(Uc(arguments)))})},r.internalField=(function(){Vs=function(e){var t=e._invertedIndicesMap;E(t,function(n,a){var i=e._dimInfos[a],s=i.ordinalMeta,o=e._store;if(s){n=t[a]=new Lp(s.categories.length);for(var l=0;l<n.length;l++)n[l]=Gs;for(var l=0;l<o.count();l++)n[o.get(i.storeDimIndex,l)]=l}})},cr=function(e,t,n){return aa(e._getCategory(t,n),null)},Kr=function(e,t){var n=e._idList[t];return n==null&&e._idDimIdx!=null&&(n=cr(e,e._idDimIdx,t)),n==null&&(n=Ip+t),n},hr=function(e){return ne(e)||(e=e!=null?[e]:[]),e},fr=function(e){var t=new r(e._schema?e._schema:ct(e.dimensions,e._getDimInfo,e),e.hostModel);return fa(t,e),t},fa=function(e,t){E(Mp.concat(t.__wrappedMethods||[]),function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e.__wrappedMethods=t.__wrappedMethods,E(Ep,function(n){e[n]=Ot(t[n])}),e._calculationInfo=he({},t._calculationInfo)},da=function(e,t){var n=e._nameList,a=e._idList,i=e._nameDimIdx,s=e._idDimIdx,o=n[t],l=a[t];if(o==null&&i!=null&&(n[t]=o=cr(e,i,t)),l==null&&s!=null&&(a[t]=l=cr(e,s,t)),l==null&&o!=null){var u=e._nameRepeatCount,c=u[o]=(u[o]||0)+1;l=o,c>1&&(l+="__ec__"+c),a[t]=l}}})(),r})();function vu(r,e){gl(r)||(r=Wc(r)),e=e||{};var t=e.coordDimensions||[],n=e.dimensionsDefine||r.dimensionsDefine||[],a=Re(),i=[],s=Op(r,t,n,e.dimensionsCount),o=e.canOmitUnusedDimensions&&pu(s),l=n===r.dimensionsDefine,u=l?du(r):fu(n),c=e.encodeDefine;!c&&e.encodeDefaulter&&(c=e.encodeDefaulter(r,s));for(var h=Re(c),f=new qc(s),d=0;d<f.length;d++)f[d]=-1;function p(L){var T=f[L];if(T<0){var A=n[L],O=ke(A)?A:{name:A},D=new xn,P=O.name;P!=null&&u.get(P)!=null&&(D.name=D.displayName=P),O.type!=null&&(D.type=O.type),O.displayName!=null&&(D.displayName=O.displayName);var z=i.length;return f[L]=z,D.storeDimIndex=L,i.push(D),D}return i[T]}if(!o)for(var d=0;d<s;d++)p(d);h.each(function(L,T){var A=ts(L).slice();if(A.length===1&&!fe(A[0])&&A[0]<0){h.set(T,!1);return}var O=h.set(T,[]);E(A,function(D,P){var z=fe(D)?u.get(D):D;z!=null&&z<s&&(O[P]=z,m(p(z),T,P))})});var v=0;E(t,function(L){var T,A,O,D;if(fe(L))T=L,D={};else{D=L,T=D.name;var P=D.ordinalMeta;D.ordinalMeta=null,D=he({},D),D.ordinalMeta=P,A=D.dimsDef,O=D.otherDims,D.name=D.coordDim=D.coordDimIndex=D.dimsDef=D.otherDims=null}var z=h.get(T);if(z!==!1){if(z=ts(z),!z.length)for(var W=0;W<(A&&A.length||1);W++){for(;v<s&&p(v).coordDim!=null;)v++;v<s&&z.push(v++)}E(z,function(K,M){var R=p(K);if(l&&D.type!=null&&(R.type=D.type),m(Oe(R,D),T,M),R.name==null&&A){var B=A[M];!ke(B)&&(B={name:B}),R.name=R.displayName=B.name,R.defaultTooltip=B.defaultTooltip}O&&Oe(R.otherDims,O)})}});function m(L,T,A){vl.get(T)!=null?L.otherDims[T]=A:(L.coordDim=T,L.coordDimIndex=A,a.set(T,!0))}var g=e.generateCoord,y=e.generateCoordCount,b=y!=null;y=g?y||1:0;var _=g||"value";function x(L){L.name==null&&(L.name=L.coordDim)}if(o)E(i,function(L){x(L)}),i.sort(function(L,T){return L.storeDimIndex-T.storeDimIndex});else for(var k=0;k<s;k++){var w=p(k),I=w.coordDim;I==null&&(w.coordDim=Pp(_,a,b),w.coordDimIndex=0,(!g||y<=0)&&(w.isExtraCoord=!0),y--),x(w),w.type==null&&(jc(r,k)===Zc.Must||w.isExtraCoord&&(w.otherDims.itemName!=null||w.otherDims.seriesName!=null))&&(w.type="ordinal")}return Rp(i),new cu({source:r,dimensions:i,fullDimensionCount:s,dimensionOmitted:o})}function Rp(r){for(var e=Re(),t=0;t<r.length;t++){var n=r[t],a=n.name,i=e.get(a)||0;i>0&&(n.name=a+(i-1)),i++,e.set(a,i)}}function Op(r,e,t,n){var a=Math.max(r.dimensionsDetectedCount||1,e.length,t.length,n||0);return E(e,function(i){var s;ke(i)&&(s=i.dimsDef)&&(a=Math.max(a,s.length))}),a}function Pp(r,e,t){if(t||e.hasKey(r)){for(var n=0;e.hasKey(r+n);)n++;r+=n}return e.set(r,!0),r}var Np=(function(){function r(e){this.coordSysDims=[],this.axisMap=Re(),this.categoryAxisMap=Re(),this.coordSysName=e}return r})();function Bp(r){var e=r.get("coordinateSystem"),t=new Np(e),n=$p[e];if(n)return n(r,t,t.axisMap,t.categoryAxisMap),t}var $p={cartesian2d:function(r,e,t,n){var a=r.getReferringComponents("xAxis",nt).models[0],i=r.getReferringComponents("yAxis",nt).models[0];e.coordSysDims=["x","y"],t.set("x",a),t.set("y",i),Vt(a)&&(n.set("x",a),e.firstCategoryDimIndex=0),Vt(i)&&(n.set("y",i),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},singleAxis:function(r,e,t,n){var a=r.getReferringComponents("singleAxis",nt).models[0];e.coordSysDims=["single"],t.set("single",a),Vt(a)&&(n.set("single",a),e.firstCategoryDimIndex=0)},polar:function(r,e,t,n){var a=r.getReferringComponents("polar",nt).models[0],i=a.findAxisModel("radiusAxis"),s=a.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],t.set("radius",i),t.set("angle",s),Vt(i)&&(n.set("radius",i),e.firstCategoryDimIndex=0),Vt(s)&&(n.set("angle",s),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},geo:function(r,e,t,n){e.coordSysDims=["lng","lat"]},parallel:function(r,e,t,n){var a=r.ecModel,i=a.getComponent("parallel",r.get("parallelIndex")),s=e.coordSysDims=i.dimensions.slice();E(i.parallelAxisIndex,function(o,l){var u=a.getComponent("parallelAxis",o),c=s[l];t.set(c,u),Vt(u)&&(n.set(c,u),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=l))})},matrix:function(r,e,t,n){var a=r.getReferringComponents("matrix",nt).models[0];e.coordSysDims=["x","y"];var i=a.getDimensionModel("x"),s=a.getDimensionModel("y");t.set("x",i),t.set("y",s),n.set("x",i),n.set("y",s)}};function Vt(r){return r.get("type")==="category"}function zp(r,e,t){t=t||{};var n=t.byIndex,a=t.stackedCoordDimension,i,s,o;Fp(e)?i=e:(s=e.schema,i=s.dimensions,o=e.store);var l=!!(r&&r.get("stack")),u,c,h,f;if(E(i,function(y,b){fe(y)&&(i[b]=y={name:y}),l&&!y.isExtraCoord&&(!n&&!u&&y.ordinalMeta&&(u=y),!c&&y.type!=="ordinal"&&y.type!=="time"&&(!a||a===y.coordDim)&&(c=y))}),c&&!n&&!u&&(n=!0),c){h="__\0ecstackresult_"+r.id,f="__\0ecstackedover_"+r.id,u&&(u.createInvertedIndices=!0);var d=c.coordDim,p=c.type,v=0;E(i,function(y){y.coordDim===d&&v++});var m={name:h,coordDim:d,coordDimIndex:v,type:p,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length},g={name:f,coordDim:f,coordDimIndex:v+1,type:p,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length+1};s?(o&&(m.storeDimIndex=o.ensureCalculationDimension(f,p),g.storeDimIndex=o.ensureCalculationDimension(h,p)),s.appendCalculationDimension(m),s.appendCalculationDimension(g)):(i.push(m),i.push(g))}return{stackedDimension:c&&c.name,stackedByDimension:u&&u.name,isStackedByIndex:n,stackedOverDimension:f,stackResultDimension:h}}function Fp(r){return!hu(r.schema)}function Bt(r,e){return!!e&&e===r.getCalculationInfo("stackedDimension")}function Hp(r,e){return Bt(r,e)?r.getCalculationInfo("stackResultDimension"):e}function Gp(r,e){var t=r.get("coordinateSystem"),n=Xc.get(t),a;return e&&e.coordSysDims&&(a=ie(e.coordSysDims,function(i){var s={name:i},o=e.axisMap.get(i);if(o){var l=o.get("type");s.type=qa(l)}return s})),a||(a=n&&(n.getDimensionsInfo?n.getDimensionsInfo():n.dimensions.slice())||["x","y"]),a}function Vp(r,e,t){var n,a;return t&&E(r,function(i,s){var o=i.coordDim,l=t.categoryAxisMap.get(o);l&&(n==null&&(n=s),i.ordinalMeta=l.getOrdinalMeta(),e&&(i.createInvertedIndices=!0)),i.otherDims.itemName!=null&&(a=!0)}),!a&&n!=null&&(r[n].otherDims.itemName=0),n}function Qn(r,e,t){t=t||{};var n=e.getSourceManager(),a,i=!1;a=n.getSource(),i=a.sourceFormat===gi;var s=Bp(e),o=Gp(e,s),l=t.useEncodeDefaulter,u=ge(l)?l:l?ve(ml,o,e):null,c={coordDimensions:o,generateCoord:t.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!i},h=vu(a,c),f=Vp(h.dimensions,t.createInvertedIndices,s),d=i?null:n.getSharedDataStore(h),p=zp(e,{schema:h,store:d}),v=new Rn(h,e);v.setCalculationInfo(p);var m=f!=null&&Up(a)?function(g,y,b,_){return _===f?b:this.defaultDimValueGetter(g,y,b,_)}:null;return v.hasItemOption=!1,v.initData(i?a:d,null,m),v}function Up(r){if(r.sourceFormat===gi){var e=Wp(r.data||[]);return!ne(Yc(e))}}function Wp(r){for(var e=0;e<r.length&&r[e]==null;)e++;return r[e]}function ja(r){return r.type==="interval"||r.type==="log"}function qp(r,e,t,n,a){var i={},s=i.interval=yl(e/t);n!=null&&s<n&&(s=i.interval=n),a!=null&&s>a&&(s=i.interval=a);var o=i.intervalPrecision=Tr(s),l=i.niceTickExtent=[Te(Math.ceil(r[0]/s)*s,o),Te(Math.floor(r[1]/s)*s,o)];return jp(l,r),i}function pa(r){var e=Math.pow(10,Kc(r)),t=r/e;return t?t===2?t=3:t===3?t=5:t*=2:t=1,Te(t*e)}function Tr(r){return Wn(r)+2}function Us(r,e,t){r[e]=Math.max(Math.min(r[e],t[1]),t[0])}function jp(r,e){!isFinite(r[0])&&(r[0]=e[0]),!isFinite(r[1])&&(r[1]=e[1]),Us(r,0,e),Us(r,1,e),r[0]>r[1]&&(r[0]=r[1])}function Ii(r,e){return r>=e[0]&&r<=e[1]}var Zp=(function(){function r(){this.normalize=Ws,this.scale=qs}return r.prototype.updateMethods=function(e){e.hasBreaks()?(this.normalize=_e(e.normalize,e),this.scale=_e(e.scale,e)):(this.normalize=Ws,this.scale=qs)},r})();function Ws(r,e){return e[1]===e[0]?.5:(r-e[0])/(e[1]-e[0])}function qs(r,e){return r*(e[1]-e[0])+e[0]}function Za(r,e,t){var n=Math.log(r);return[Math.log(t?e[0]:Math.max(0,e[0]))/n,Math.log(t?e[1]:Math.max(0,e[1]))/n]}var Dt=(function(){function r(e){this._calculator=new Zp,this._setting=e||{},this._extent=[1/0,-1/0]}return r.prototype.getSetting=function(e){return this._setting[e]},r.prototype._innerUnionExtent=function(e){var t=this._extent;this._innerSetExtent(e[0]<t[0]?e[0]:t[0],e[1]>t[1]?e[1]:t[1])},r.prototype.unionExtentFromData=function(e,t){this._innerUnionExtent(e.getApproximateExtent(t))},r.prototype.getExtent=function(){return this._extent.slice()},r.prototype.setExtent=function(e,t){this._innerSetExtent(e,t)},r.prototype._innerSetExtent=function(e,t){var n=this._extent;isNaN(e)||(n[0]=e),isNaN(t)||(n[1]=t),this._brkCtx&&this._brkCtx.update(n)},r.prototype.setBreaksFromOption=function(e){},r.prototype._innerSetBreak=function(e){this._brkCtx&&(this._brkCtx.setBreaks(e),this._calculator.updateMethods(this._brkCtx),this._brkCtx.update(this._extent))},r.prototype._innerGetBreaks=function(){return this._brkCtx?this._brkCtx.breaks:[]},r.prototype.hasBreaks=function(){return this._brkCtx?this._brkCtx.hasBreaks():!1},r.prototype._getExtentSpanWithBreaks=function(){return this._brkCtx&&this._brkCtx.hasBreaks()?this._brkCtx.getExtentSpan():this._extent[1]-this._extent[0]},r.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},r.prototype.isBlank=function(){return this._isBlank},r.prototype.setBlank=function(e){this._isBlank=e},r})();Jc(Dt);var Xp=0,Xa=(function(){function r(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++Xp,this._onCollect=e.onCollect}return r.createByAxisModel=function(e){var t=e.option,n=t.data,a=n&&ie(n,Yp);return new r({categories:a,needCollect:!a,deduplication:t.dedplication!==!1})},r.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},r.prototype.parseAndCollect=function(e){var t,n=this._needCollect;if(!fe(e)&&!n)return e;if(n&&!this._deduplication)return t=this.categories.length,this.categories[t]=e,this._onCollect&&this._onCollect(e,t),t;var a=this._getOrCreateMap();return t=a.get(e),t==null&&(n?(t=this.categories.length,this.categories[t]=e,a.set(e,t),this._onCollect&&this._onCollect(e,t)):t=NaN),t},r.prototype._getOrCreateMap=function(){return this._map||(this._map=Re(this.categories))},r})();function Yp(r){return ke(r)&&r.value!=null?r.value:r+""}var gu=(function(r){Y(e,r);function e(t){var n=r.call(this,t)||this;n.type="ordinal";var a=n.getSetting("ordinalMeta");return a||(a=new Xa({})),ne(a)&&(a=new Xa({categories:ie(a,function(i){return ke(i)?i.value:i})})),n._ordinalMeta=a,n._extent=n.getSetting("extent")||[0,a.categories.length-1],n}return e.prototype.parse=function(t){return t==null?NaN:fe(t)?this._ordinalMeta.getOrdinal(t):Math.round(t)},e.prototype.contain=function(t){return Ii(t,this._extent)&&t>=0&&t<this._ordinalMeta.categories.length},e.prototype.normalize=function(t){return t=this._getTickNumber(t),this._calculator.normalize(t,this._extent)},e.prototype.scale=function(t){return t=Math.round(this._calculator.scale(t,this._extent)),this.getRawOrdinalNumber(t)},e.prototype.getTicks=function(){for(var t=[],n=this._extent,a=n[0];a<=n[1];)t.push({value:a}),a++;return t},e.prototype.getMinorTicks=function(t){},e.prototype.setSortInfo=function(t){if(t==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var n=t.ordinalNumbers,a=this._ordinalNumbersByTick=[],i=this._ticksByOrdinalNumber=[],s=0,o=this._ordinalMeta.categories.length,l=Math.min(o,n.length);s<l;++s){var u=n[s];a[s]=u,i[u]=s}for(var c=0;s<o;++s){for(;i[c]!=null;)c++;a.push(c),i[c]=s}},e.prototype._getTickNumber=function(t){var n=this._ticksByOrdinalNumber;return n&&t>=0&&t<n.length?n[t]:t},e.prototype.getRawOrdinalNumber=function(t){var n=this._ordinalNumbersByTick;return n&&t>=0&&t<n.length?n[t]:t},e.prototype.getLabel=function(t){if(!this.isBlank()){var n=this.getRawOrdinalNumber(t.value),a=this._ordinalMeta.categories[n];return a==null?"":a+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type="ordinal",e})(Dt);Dt.registerClass(gu);var ht=Te,Jt=(function(r){Y(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="interval",t._interval=0,t._intervalPrecision=2,t}return e.prototype.parse=function(t){return t==null||t===""?NaN:Number(t)},e.prototype.contain=function(t){return Ii(t,this._extent)},e.prototype.normalize=function(t){return this._calculator.normalize(t,this._extent)},e.prototype.scale=function(t){return this._calculator.scale(t,this._extent)},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=Tr(t)},e.prototype.getTicks=function(t){t=t||{};var n=this._interval,a=this._extent,i=this._niceExtent,s=this._intervalPrecision,o=Ra(),l=[];if(!n)return l;t.breakTicks;var u=1e4;a[0]<i[0]&&(t.expandToNicedExtent?l.push({value:ht(i[0]-n,s)}):l.push({value:a[0]}));for(var c=function(p,v){return Math.round((v-p)/n)},h=i[0];h<=i[1];){if(l.push({value:h}),h=ht(h+n,s),this._brkCtx){var f=this._brkCtx.calcNiceTickMultiple(h,c);f>=0&&(h=ht(h+f*n,s))}if(l.length>0&&h===l[l.length-1].value)break;if(l.length>u)return[]}var d=l.length?l[l.length-1].value:i[1];return a[1]>d&&(t.expandToNicedExtent?l.push({value:ht(d+n,s)}):l.push({value:a[1]})),t.breakTicks,l},e.prototype.getMinorTicks=function(t){for(var n=this.getTicks({expandToNicedExtent:!0}),a=[],i=this.getExtent(),s=1;s<n.length;s++){var o=n[s],l=n[s-1];if(!(l.break||o.break)){for(var u=0,c=[],h=o.value-l.value,f=h/t,d=Tr(f);u<t-1;){var p=ht(l.value+(u+1)*f,d);p>i[0]&&p<i[1]&&c.push(p),u++}var v=Ra();v&&v.pruneTicksByBreak("auto",c,this._getNonTransBreaks(),function(m){return m},this._interval,i),a.push(c)}}return a},e.prototype._getNonTransBreaks=function(){return this._brkCtx?this._brkCtx.breaks:[]},e.prototype.getLabel=function(t,n){if(t==null)return"";var a=n&&n.precision;a==null?a=Wn(t.value)||0:a==="auto"&&(a=this._intervalPrecision);var i=ht(t.value,a,!0);return Qc(i)},e.prototype.calcNiceTicks=function(t,n,a){t=t||5;var i=this._extent.slice(),s=this._getExtentSpanWithBreaks();if(isFinite(s)){s<0&&(s=-s,i.reverse(),this._innerSetExtent(i[0],i[1]),i=this._extent.slice());var o=qp(i,s,t,n,a);this._intervalPrecision=o.intervalPrecision,this._interval=o.interval,this._niceExtent=o.niceTickExtent}},e.prototype.calcNiceExtent=function(t){var n=this._extent.slice();if(n[0]===n[1])if(n[0]!==0){var a=Math.abs(n[0]);t.fixMax||(n[1]+=a/2),n[0]-=a/2}else n[1]=1;var i=n[1]-n[0];isFinite(i)||(n[0]=0,n[1]=1),this._innerSetExtent(n[0],n[1]),n=this._extent.slice(),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval);var s=this._interval,o=this._intervalPrecision;t.fixMin||(n[0]=ht(Math.floor(n[0]/s)*s,o)),t.fixMax||(n[1]=ht(Math.ceil(n[1]/s)*s,o)),this._innerSetExtent(n[0],n[1])},e.prototype.setNiceExtent=function(t,n){this._niceExtent=[t,n]},e.type="interval",e})(Dt);Dt.registerClass(Jt);var mu=typeof Float32Array<"u",Kp=mu?Float32Array:Array;function Qe(r){return ne(r)?mu?new Float32Array(r):r:new Kp(r)}var Jp="__ec_stack_";function yu(r){return r.get("stack")||Jp+r.seriesIndex}function Mi(r){return r.dim+r.index}function bu(r,e){var t=[];return e.eachSeriesByType(r,function(n){_u(n)&&t.push(n)}),t}function Qp(r){var e={};E(r,function(l){var u=l.coordinateSystem,c=u.getBaseAxis();if(!(c.type!=="time"&&c.type!=="value"))for(var h=l.getData(),f=c.dim+"_"+c.index,d=h.getDimensionIndex(h.mapDimension(c.dim)),p=h.getStore(),v=0,m=p.count();v<m;++v){var g=p.get(d,v);e[f]?e[f].push(g):e[f]=[g]}});var t={};for(var n in e)if(e.hasOwnProperty(n)){var a=e[n];if(a){a.sort(function(l,u){return l-u});for(var i=null,s=1;s<a.length;++s){var o=a[s]-a[s-1];o>0&&(i=i===null?o:Math.min(i,o))}t[n]=i}}return t}function xu(r){var e=Qp(r),t=[];return E(r,function(n){var a=n.coordinateSystem,i=a.getBaseAxis(),s=i.getExtent(),o;if(i.type==="category")o=i.getBandWidth();else if(i.type==="value"||i.type==="time"){var l=i.dim+"_"+i.index,u=e[l],c=Math.abs(s[1]-s[0]),h=i.scale.getExtent(),f=Math.abs(h[1]-h[0]);o=u?c/f*u:c}else{var d=n.getData();o=Math.abs(s[1]-s[0])/d.count()}var p=ze(n.get("barWidth"),o),v=ze(n.get("barMaxWidth"),o),m=ze(n.get("barMinWidth")||(Su(n)?.5:1),o),g=n.get("barGap"),y=n.get("barCategoryGap"),b=n.get("defaultBarGap");t.push({bandWidth:o,barWidth:p,barMaxWidth:v,barMinWidth:m,barGap:g,barCategoryGap:y,defaultBarGap:b,axisKey:Mi(i),stackId:yu(n)})}),ev(t)}function ev(r){var e={};E(r,function(n,a){var i=n.axisKey,s=n.bandWidth,o=e[i]||{bandWidth:s,remainedWidth:s,autoWidthCount:0,categoryGap:null,gap:n.defaultBarGap||0,stacks:{}},l=o.stacks;e[i]=o;var u=n.stackId;l[u]||o.autoWidthCount++,l[u]=l[u]||{width:0,maxWidth:0};var c=n.barWidth;c&&!l[u].width&&(l[u].width=c,c=Math.min(o.remainedWidth,c),o.remainedWidth-=c);var h=n.barMaxWidth;h&&(l[u].maxWidth=h);var f=n.barMinWidth;f&&(l[u].minWidth=f);var d=n.barGap;d!=null&&(o.gap=d);var p=n.barCategoryGap;p!=null&&(o.categoryGap=p)});var t={};return E(e,function(n,a){t[a]={};var i=n.stacks,s=n.bandWidth,o=n.categoryGap;if(o==null){var l=Un(i).length;o=Math.max(35-l*4,15)+"%"}var u=ze(o,s),c=ze(n.gap,1),h=n.remainedWidth,f=n.autoWidthCount,d=(h-u)/(f+(f-1)*c);d=Math.max(d,0),E(i,function(g){var y=g.maxWidth,b=g.minWidth;if(g.width){var _=g.width;y&&(_=Math.min(_,y)),b&&(_=Math.max(_,b)),g.width=_,h-=_+c*_,f--}else{var _=d;y&&y<_&&(_=Math.min(y,h)),b&&b>_&&(_=b),_!==d&&(g.width=_,h-=_+c*_,f--)}}),d=(h-u)/(f+(f-1)*c),d=Math.max(d,0);var p=0,v;E(i,function(g,y){g.width||(g.width=d),v=g,p+=g.width*(1+c)}),v&&(p-=v.width*c);var m=-p/2;E(i,function(g,y){t[a][y]=t[a][y]||{bandWidth:s,offset:m,width:g.width},m+=g.width*(1+c)})}),t}function tv(r,e,t){if(r&&e){var n=r[Mi(e)];return n}}function rv(r,e){var t=bu(r,e),n=xu(t);E(t,function(a){var i=a.getData(),s=a.coordinateSystem,o=s.getBaseAxis(),l=yu(a),u=n[Mi(o)][l],c=u.offset,h=u.width;i.setLayout({bandWidth:u.bandWidth,offset:c,size:h})})}function nv(r){return{seriesType:r,plan:qn(),reset:function(e){if(_u(e)){var t=e.getData(),n=e.coordinateSystem,a=n.getBaseAxis(),i=n.getOtherAxis(a),s=t.getDimensionIndex(t.mapDimension(i.dim)),o=t.getDimensionIndex(t.mapDimension(a.dim)),l=e.get("showBackground",!0),u=t.mapDimension(i.dim),c=t.getCalculationInfo("stackResultDimension"),h=Bt(t,u)&&!!t.getCalculationInfo("stackedOnSeries"),f=i.isHorizontal(),d=av(a,i),p=Su(e),v=e.get("barMinHeight")||0,m=c&&t.getDimensionIndex(c),g=t.getLayout("size"),y=t.getLayout("offset");return{progress:function(b,_){for(var x=b.count,k=p&&Qe(x*3),w=p&&l&&Qe(x*3),I=p&&Qe(x),L=n.master.getRect(),T=f?L.width:L.height,A,O=_.getStore(),D=0;(A=b.next())!=null;){var P=O.get(h?m:s,A),z=O.get(o,A),W=d,K=void 0;h&&(K=+P-O.get(s,A));var M=void 0,R=void 0,B=void 0,F=void 0;if(f){var V=n.dataToPoint([P,z]);if(h){var j=n.dataToPoint([K,z]);W=j[0]}M=W,R=V[1]+y,B=V[0]-W,F=g,Math.abs(B)<v&&(B=(B<0?-1:1)*v)}else{var V=n.dataToPoint([z,P]);if(h){var j=n.dataToPoint([z,K]);W=j[1]}M=V[0]+y,R=W,B=g,F=V[1]-W,Math.abs(F)<v&&(F=(F<=0?-1:1)*v)}p?(k[D]=M,k[D+1]=R,k[D+2]=f?B:F,w&&(w[D]=f?L.x:M,w[D+1]=f?R:L.y,w[D+2]=T),I[A]=A):_.setItemLayout(A,{x:M,y:R,width:B,height:F}),D+=3}p&&_.setLayout({largePoints:k,largeDataIndices:I,largeBackgroundPoints:w,valueAxisHorizontal:f})}}}}}}function _u(r){return r.coordinateSystem&&r.coordinateSystem.type==="cartesian2d"}function Su(r){return r.pipelineContext&&r.pipelineContext.large}function av(r,e){var t=e.model.get("startValue");return t||(t=0),e.toGlobalCoord(e.dataToCoord(e.type==="log"?t>0?t:1:t))}var iv=function(r,e,t,n){for(;t<n;){var a=t+n>>>1;r[a][1]<e?t=a+1:n=a}return t},wu=(function(r){Y(e,r);function e(t){var n=r.call(this,t)||this;return n.type="time",n}return e.prototype.getLabel=function(t){var n=this.getSetting("useUTC");return bl(t.value,rs[eh(vn(this._minLevelUnit))]||rs.second,n,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(t,n,a){var i=this.getSetting("useUTC"),s=this.getSetting("locale");return th(t,n,a,s,i)},e.prototype.getTicks=function(t){var n=this._interval,a=this._extent,i=[];if(!n)return i;var s=this.getSetting("useUTC"),o=Oa(a[1],s);i.push({value:a[0],time:{level:0,upperTimeUnit:o,lowerTimeUnit:o}});var l=dv(this._minLevelUnit,this._approxInterval,s,a,this._getExtentSpanWithBreaks(),this._brkCtx);i=i.concat(l);var u=Oa(a[1],s);i.push({value:a[1],time:{level:0,upperTimeUnit:u,lowerTimeUnit:u}}),this.getSetting("useUTC");var c=wn.length-1,h=0;return E(i,function(f){c=Math.min(c,Ee(wn,f.time.upperTimeUnit)),h=Math.max(h,f.time.level)}),i},e.prototype.calcNiceExtent=function(t){var n=this.getExtent();if(n[0]===n[1]&&(n[0]-=je,n[1]+=je),n[1]===-1/0&&n[0]===1/0){var a=new Date;n[1]=+new Date(a.getFullYear(),a.getMonth(),a.getDate()),n[0]=n[1]-je}this._innerSetExtent(n[0],n[1]),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval)},e.prototype.calcNiceTicks=function(t,n,a){t=t||10;var i=this._getExtentSpanWithBreaks();this._approxInterval=i/t,n!=null&&this._approxInterval<n&&(this._approxInterval=n),a!=null&&this._approxInterval>a&&(this._approxInterval=a);var s=Jr.length,o=Math.min(iv(Jr,this._approxInterval,0,s),s-1);this._interval=Jr[o][1],this._intervalPrecision=Tr(this._interval),this._minLevelUnit=Jr[Math.max(o-1,0)][0]},e.prototype.parse=function(t){return St(t)?t:+rh(t)},e.prototype.contain=function(t){return Ii(t,this._extent)},e.prototype.normalize=function(t){return this._calculator.normalize(t,this._extent)},e.prototype.scale=function(t){return this._calculator.scale(t,this._extent)},e.type="time",e})(Jt),Jr=[["second",xl],["minute",_l],["hour",gn],["quarter-day",gn*6],["half-day",gn*12],["day",je*1.2],["half-week",je*3.5],["week",je*7],["month",je*31],["quarter",je*95],["half-year",ns/2],["year",ns]];function sv(r,e,t,n){return Pa(new Date(e),r,n).getTime()===Pa(new Date(t),r,n).getTime()}function ov(r,e){return r/=je,r>16?16:r>7.5?7:r>3.5?4:r>1.5?2:1}function lv(r){var e=30*je;return r/=e,r>6?6:r>3?3:r>2?2:1}function uv(r){return r/=gn,r>12?12:r>6?6:r>3.5?4:r>2?2:1}function js(r,e){return r/=e?_l:xl,r>30?30:r>20?20:r>15?15:r>10?10:r>5?5:r>2?2:1}function cv(r){return yl(r)}function hv(r,e,t){var n=Math.max(0,Ee(wn,e)-1);return Pa(new Date(r),wn[n],t).getTime()}function fv(r,e){var t=new Date(0);t[r](1);var n=t.getTime();t[r](1+e);var a=t.getTime()-n;return function(i,s){return Math.max(0,Math.round((s-i)/a))}}function dv(r,e,t,n,a,i){var s=1e4,o=nh,l=0;function u(D,P,z,W,K,M,R){for(var B=fv(K,D),F=P,V=new Date(F);F<z&&F<=n[1]&&(R.push({value:F}),!(l++>s));)if(V[K](V[W]()+D),F=V.getTime(),i){var j=i.calcNiceTickMultiple(F,B);j>0&&(V[K](V[W]()+j*D),F=V.getTime())}R.push({value:F,notAdd:!0})}function c(D,P,z){var W=[],K=!P.length;if(!sv(vn(D),n[0],n[1],t)){K&&(P=[{value:hv(n[0],D,t)},{value:n[1]}]);for(var M=0;M<P.length-1;M++){var R=P[M].value,B=P[M+1].value;if(R!==B){var F=void 0,V=void 0,j=void 0,J=!1;switch(D){case"year":F=Math.max(1,Math.round(e/je/365)),V=mh(t),j=yh(t);break;case"half-year":case"quarter":case"month":F=lv(e),V=vh(t),j=gh(t);break;case"week":case"half-week":case"day":F=ov(e),V=dh(t),j=ph(t),J=!0;break;case"half-day":case"quarter-day":case"hour":F=uv(e),V=hh(t),j=fh(t);break;case"minute":F=js(e,!0),V=uh(t),j=ch(t);break;case"second":F=js(e,!1),V=oh(t),j=lh(t);break;case"millisecond":F=cv(e),V=ih(t),j=sh(t);break}B>=n[0]&&R<=n[1]&&u(F,R,B,V,j,J,W),D==="year"&&z.length>1&&M===0&&z.unshift({value:z[0].value-F})}}for(var M=0;M<W.length;M++)z.push(W[M])}}for(var h=[],f=[],d=0,p=0,v=0;v<o.length;++v){var m=vn(o[v]);if(ah(o[v])){c(o[v],h[h.length-1]||[],f);var g=o[v+1]?vn(o[v+1]):null;if(m!==g){if(f.length){p=d,f.sort(function(D,P){return D.value-P.value});for(var y=[],b=0;b<f.length;++b){var _=f[b].value;(b===0||f[b-1].value!==_)&&(y.push(f[b]),_>=n[0]&&_<=n[1]&&d++)}var x=a/e;if(d>x*1.5&&p>x/1.5||(h.push(y),d>x||r===o[v]))break}f=[]}}}for(var k=wt(ie(h,function(D){return wt(D,function(P){return P.value>=n[0]&&P.value<=n[1]&&!P.notAdd})}),function(D){return D.length>0}),w=[],I=k.length-1,v=0;v<k.length;++v)for(var L=k[v],T=0;T<L.length;++T){var A=Oa(L[T].value,t);w.push({value:L[T].value,time:{level:I-v,upperTimeUnit:A,lowerTimeUnit:A}})}w.sort(function(D,P){return D.value-P.value});for(var O=[],v=0;v<w.length;++v)(v===0||w[v].value!==w[v-1].value)&&O.push(w[v]);return O}Dt.registerClass(wu);var Ya=Te,pv=Math.floor,vv=Math.ceil,Qr=Math.pow,en=Math.log,ku=(function(r){Y(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="log",t.base=10,t._originalScale=new Jt,t}return e.prototype.getTicks=function(t){t=t||{};var n=this._extent.slice(),a=this._originalScale.getExtent(),i=r.prototype.getTicks.call(this,t),s=this.base;return this._originalScale._innerGetBreaks(),ie(i,function(o){var l=o.value,u=null,c=Qr(s,l);l===n[0]&&this._fixMin?u=a[0]:l===n[1]&&this._fixMax&&(u=a[1]);var h;return u!=null&&(c=va(c,u)),{value:c,break:h}},this)},e.prototype._getNonTransBreaks=function(){return this._originalScale._innerGetBreaks()},e.prototype.setExtent=function(t,n){this._originalScale.setExtent(t,n);var a=Za(this.base,[t,n]);r.prototype.setExtent.call(this,a[0],a[1])},e.prototype.getExtent=function(){var t=this.base,n=r.prototype.getExtent.call(this);n[0]=Qr(t,n[0]),n[1]=Qr(t,n[1]);var a=this._originalScale.getExtent();return this._fixMin&&(n[0]=va(n[0],a[0])),this._fixMax&&(n[1]=va(n[1],a[1])),n},e.prototype.unionExtentFromData=function(t,n){this._originalScale.unionExtentFromData(t,n);var a=Za(this.base,t.getApproximateExtent(n),!0);this._innerUnionExtent(a)},e.prototype.calcNiceTicks=function(t){t=t||10;var n=this._extent.slice(),a=this._getExtentSpanWithBreaks();if(!(!isFinite(a)||a<=0)){var i=bh(a),s=t/a*i;for(s<=.5&&(i*=10);!isNaN(i)&&Math.abs(i)<1&&Math.abs(i)>0;)i*=10;var o=[Ya(vv(n[0]/i)*i),Ya(pv(n[1]/i)*i)];this._interval=i,this._intervalPrecision=Tr(i),this._niceExtent=o}},e.prototype.calcNiceExtent=function(t){r.prototype.calcNiceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},e.prototype.contain=function(t){return t=en(t)/en(this.base),r.prototype.contain.call(this,t)},e.prototype.normalize=function(t){return t=en(t)/en(this.base),r.prototype.normalize.call(this,t)},e.prototype.scale=function(t){return t=r.prototype.scale.call(this,t),Qr(this.base,t)},e.prototype.setBreaksFromOption=function(t){},e.type="log",e})(Jt);function va(r,e){return Ya(r,Wn(e))}Dt.registerClass(ku);var gv=(function(){function r(e,t,n){this._prepareParams(e,t,n)}return r.prototype._prepareParams=function(e,t,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var a=this._isOrdinal=e.type==="ordinal";this._needCrossZero=e.type==="interval"&&t.getNeedCrossZero&&t.getNeedCrossZero();var i=t.get("min",!0);i==null&&(i=t.get("startValue",!0));var s=this._modelMinRaw=i;ge(s)?this._modelMinNum=tn(e,s({min:n[0],max:n[1]})):s!=="dataMin"&&(this._modelMinNum=tn(e,s));var o=this._modelMaxRaw=t.get("max",!0);if(ge(o)?this._modelMaxNum=tn(e,o({min:n[0],max:n[1]})):o!=="dataMax"&&(this._modelMaxNum=tn(e,o)),a)this._axisDataLen=t.getCategories().length;else{var l=t.get("boundaryGap"),u=ne(l)?l:[l||0,l||0];typeof u[0]=="boolean"||typeof u[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[Na(u[0],1),Na(u[1],1)]}},r.prototype.calculate=function(){var e=this._isOrdinal,t=this._dataMin,n=this._dataMax,a=this._axisDataLen,i=this._boundaryGapInner,s=e?null:n-t||Math.abs(t),o=this._modelMinRaw==="dataMin"?t:this._modelMinNum,l=this._modelMaxRaw==="dataMax"?n:this._modelMaxNum,u=o!=null,c=l!=null;o==null&&(o=e?a?0:NaN:t-i[0]*s),l==null&&(l=e?a?a-1:NaN:n+i[1]*s),(o==null||!isFinite(o))&&(o=NaN),(l==null||!isFinite(l))&&(l=NaN);var h=kn(o)||kn(l)||e&&!a;this._needCrossZero&&(o>0&&l>0&&!u&&(o=0),o<0&&l<0&&!c&&(l=0));var f=this._determinedMin,d=this._determinedMax;return f!=null&&(o=f,u=!0),d!=null&&(l=d,c=!0),{min:o,max:l,minFixed:u,maxFixed:c,isBlank:h}},r.prototype.modifyDataMinMax=function(e,t){this[yv[e]]=t},r.prototype.setDeterminedMinMax=function(e,t){var n=mv[e];this[n]=t},r.prototype.freeze=function(){this.frozen=!0},r})(),mv={min:"_determinedMin",max:"_determinedMax"},yv={min:"_dataMin",max:"_dataMax"};function bv(r,e,t){var n=r.rawExtentInfo;return n||(n=new gv(r,e,t),r.rawExtentInfo=n,n)}function tn(r,e){return e==null?null:kn(e)?NaN:r.parse(e)}function Au(r,e){var t=r.type,n=bv(r,e,r.getExtent()).calculate();r.setBlank(n.isBlank);var a=n.min,i=n.max,s=e.ecModel;if(s&&t==="time"){var o=bu("bar",s),l=!1;if(E(o,function(h){l=l||h.getBaseAxis()===e.axis}),l){var u=xu(o),c=xv(a,i,e,u);a=c.min,i=c.max}}return{extent:[a,i],fixMin:n.minFixed,fixMax:n.maxFixed}}function xv(r,e,t,n){var a=t.axis.getExtent(),i=Math.abs(a[1]-a[0]),s=tv(n,t.axis);if(s===void 0)return{min:r,max:e};var o=1/0;E(s,function(d){o=Math.min(d.offset,o)});var l=-1/0;E(s,function(d){l=Math.max(d.offset+d.width,l)}),o=Math.abs(o),l=Math.abs(l);var u=o+l,c=e-r,h=1-(o+l)/i,f=c/h-c;return e+=f*(l/u),r-=f*(o/u),{min:r,max:e}}function Zs(r,e){var t=e,n=Au(r,t),a=n.extent,i=t.get("splitNumber");r instanceof ku&&(r.base=t.get("logBase"));var s=r.type,o=t.get("interval"),l=s==="interval"||s==="time";r.setBreaksFromOption(Du(t)),r.setExtent(a[0],a[1]),r.calcNiceExtent({splitNumber:i,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:l?t.get("minInterval"):null,maxInterval:l?t.get("maxInterval"):null}),o!=null&&r.setInterval&&r.setInterval(o)}function _v(r,e){if(e=e||r.get("type"),e)switch(e){case"category":return new gu({ordinalMeta:r.getOrdinalMeta?r.getOrdinalMeta():r.getCategories(),extent:[1/0,-1/0]});case"time":return new wu({locale:r.ecModel.getLocaleModel(),useUTC:r.ecModel.get("useUTC")});default:return new(Dt.getClass(e)||Jt)}}function Sv(r){var e=r.scale.getExtent(),t=e[0],n=e[1];return!(t>0&&n>0||t<0&&n<0)}function zr(r){var e=r.getLabelModel().get("formatter");if(r.type==="time"){var t=xh(e);return function(a,i){return r.scale.getFormattedLabel(a,i,t)}}else{if(fe(e))return function(a){var i=r.scale.getLabel(a),s=e.replace("{value}",i??"");return s};if(ge(e)){if(r.type==="category")return function(a,i){return e(On(r,a),a.value-r.scale.getExtent()[0],null)};var n=Ra();return function(a,i){var s=null;return n&&(s=n.makeAxisLabelFormatterParamBreak(s,a.break)),e(On(r,a),i,s)}}else return function(a){return r.scale.getLabel(a)}}}function On(r,e){return r.type==="category"?r.scale.getLabel(e):e.value}function Ei(r){var e=r.get("interval");return e??"auto"}function Cu(r){return r.type==="category"&&Ei(r.getLabelModel())===0}function wv(r,e){var t={};return E(r.mapDimensionsAll(e),function(n){t[Hp(r,n)]=!0}),Un(t)}function Qt(r){return r==="middle"||r==="center"}function Lr(r){return r.getShallow("show")}function Du(r){var e=r.get("breaks",!0);e==null}var kv=(function(){function r(){}return r.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale},r.prototype.getCoordSysModel=function(){},r})(),Xs=[],Av={registerPreprocessor:Oh,registerProcessor:Rh,registerPostInit:Eh,registerPostUpdate:Mh,registerUpdateLifecycle:Ih,registerAction:Lh,registerCoordinateSystem:Th,registerLayout:Dh,registerVisual:Ch,registerTransform:Ah,registerLoading:kh,registerMap:wh,registerImpl:Sh,PRIORITY:_h,ComponentModel:it,ComponentView:kt,SeriesModel:Pt,ChartView:xt,registerComponentModel:function(r){it.registerClass(r)},registerComponentView:function(r){kt.registerClass(r)},registerSeriesModel:function(r){Pt.registerClass(r)},registerChartView:function(r){xt.registerClass(r)},registerCustomSeries:function(r,e){},registerSubTypeDefaulter:function(r,e){it.registerSubTypeDefaulter(r,e)},registerPainter:function(r,e){Ph(r,e)}};function ot(r){if(ne(r)){E(r,function(e){ot(e)});return}Ee(Xs,r)>=0||(Xs.push(r),ge(r)&&(r={install:r}),r.install(Av))}var Cv=Fe(),wr=Fe(),Ze={estimate:1,determine:2};function Pn(r){return{out:{noPxChangeTryDetermine:[]},kind:r}}function Tu(r,e){var t=ie(e,function(n){return r.scale.parse(n)});return r.type==="time"&&t.length>0&&(t.sort(),t.unshift(t[0]),t.push(t[t.length-1])),t}function Dv(r,e){var t=r.getLabelModel().get("customValues");if(t){var n=zr(r),a=r.scale.getExtent(),i=Tu(r,t),s=wt(i,function(o){return o>=a[0]&&o<=a[1]});return{labels:ie(s,function(o){var l={value:o};return{formattedLabel:n(l),rawLabel:r.scale.getLabel(l),tickValue:o,time:void 0,break:void 0}})}}return r.type==="category"?Lv(r,e):Mv(r)}function Tv(r,e,t){var n=r.getTickModel().get("customValues");if(n){var a=r.scale.getExtent(),i=Tu(r,n);return{ticks:wt(i,function(s){return s>=a[0]&&s<=a[1]})}}return r.type==="category"?Iv(r,e):{ticks:ie(r.scale.getTicks(t),function(s){return s.value})}}function Lv(r,e){var t=r.getLabelModel(),n=Lu(r,t,e);return!t.get("show")||r.scale.isBlank()?{labels:[]}:n}function Lu(r,e,t){var n=Rv(r),a=Ei(e),i=t.kind===Ze.estimate;if(!i){var s=Mu(n,a);if(s)return s}var o,l;ge(a)?o=Ou(r,a):(l=a==="auto"?Ov(r,t):a,o=Ru(r,l));var u={labels:o,labelCategoryInterval:l};return i?t.out.noPxChangeTryDetermine.push(function(){return Ka(n,a,u),!0}):Ka(n,a,u),u}function Iv(r,e){var t=Ev(r),n=Ei(e),a=Mu(t,n);if(a)return a;var i,s;if((!e.get("show")||r.scale.isBlank())&&(i=[]),ge(n))i=Ou(r,n,!0);else if(n==="auto"){var o=Lu(r,r.getLabelModel(),Pn(Ze.determine));s=o.labelCategoryInterval,i=ie(o.labels,function(l){return l.tickValue})}else s=n,i=Ru(r,s,!0);return Ka(t,n,{ticks:i,tickCategoryInterval:s})}function Mv(r){var e=r.scale.getTicks(),t=zr(r);return{labels:ie(e,function(n,a){return{formattedLabel:t(n,a),rawLabel:r.scale.getLabel(n),tickValue:n.value,time:n.time,break:n.break}})}}var Ev=Iu("axisTick"),Rv=Iu("axisLabel");function Iu(r){return function(t){return wr(t)[r]||(wr(t)[r]={list:[]})}}function Mu(r,e){for(var t=0;t<r.list.length;t++)if(r.list[t].key===e)return r.list[t].value}function Ka(r,e,t){return r.list.push({key:e,value:t}),t}function Ov(r,e){if(e.kind===Ze.estimate){var t=r.calculateCategoryInterval(e);return e.out.noPxChangeTryDetermine.push(function(){return wr(r).autoInterval=t,!0}),t}var n=wr(r).autoInterval;return n??(wr(r).autoInterval=r.calculateCategoryInterval(e))}function Pv(r,e){var t=e.kind,n=Bv(r),a=zr(r),i=(n.axisRotate-n.labelRotate)/180*Math.PI,s=r.scale,o=s.getExtent(),l=s.count();if(o[1]-o[0]<1)return 0;var u=1,c=40;l>c&&(u=Math.max(1,Math.floor(l/c)));for(var h=o[0],f=r.dataToCoord(h+1)-r.dataToCoord(h),d=Math.abs(f*Math.cos(i)),p=Math.abs(f*Math.sin(i)),v=0,m=0;h<=o[1];h+=u){var g=0,y=0,b=Sl(a({value:h}),n.font,"center","top");g=b.width*1.3,y=b.height*1.3,v=Math.max(v,g,7),m=Math.max(m,y,7)}var _=v/d,x=m/p;isNaN(_)&&(_=1/0),isNaN(x)&&(x=1/0);var k=Math.max(0,Math.floor(Math.min(_,x)));if(t===Ze.estimate)return e.out.noPxChangeTryDetermine.push(_e(Nv,null,r,k,l)),k;var w=Eu(r,k,l);return w??k}function Nv(r,e,t){return Eu(r,e,t)==null}function Eu(r,e,t){var n=Cv(r.model),a=r.getExtent(),i=n.lastAutoInterval,s=n.lastTickCount;if(i!=null&&s!=null&&Math.abs(i-e)<=1&&Math.abs(s-t)<=1&&i>e&&n.axisExtent0===a[0]&&n.axisExtent1===a[1])return i;n.lastTickCount=t,n.lastAutoInterval=e,n.axisExtent0=a[0],n.axisExtent1=a[1]}function Bv(r){var e=r.getLabelModel();return{axisRotate:r.getRotate?r.getRotate():r.isHorizontal&&!r.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function Ru(r,e,t){var n=zr(r),a=r.scale,i=a.getExtent(),s=r.getLabelModel(),o=[],l=Math.max((e||0)+1,1),u=i[0],c=a.count();u!==0&&l>1&&c/l>2&&(u=Math.round(Math.ceil(u/l)*l));var h=Cu(r),f=s.get("showMinLabel")||h,d=s.get("showMaxLabel")||h;f&&u!==i[0]&&v(i[0]);for(var p=u;p<=i[1];p+=l)v(p);d&&p-l!==i[1]&&v(i[1]);function v(m){var g={value:m};o.push(t?m:{formattedLabel:n(g),rawLabel:a.getLabel(g),tickValue:m,time:void 0,break:void 0})}return o}function Ou(r,e,t){var n=r.scale,a=zr(r),i=[];return E(n.getTicks(),function(s){var o=n.getLabel(s),l=s.value;e(s.value,o)&&i.push(t?l:{formattedLabel:a(s),rawLabel:o,tickValue:l,time:void 0,break:void 0})}),i}var Ys=[0,1],$v=(function(){function r(e,t,n){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=t,this._extent=n||[0,0]}return r.prototype.contain=function(e){var t=this._extent,n=Math.min(t[0],t[1]),a=Math.max(t[0],t[1]);return e>=n&&e<=a},r.prototype.containData=function(e){return this.scale.contain(this.scale.parse(e))},r.prototype.getExtent=function(){return this._extent.slice()},r.prototype.getPixelPrecision=function(e){return Nh(e||this.scale.getExtent(),this._extent)},r.prototype.setExtent=function(e,t){var n=this._extent;n[0]=e,n[1]=t},r.prototype.dataToCoord=function(e,t){var n=this._extent,a=this.scale;return e=a.normalize(a.parse(e)),this.onBand&&a.type==="ordinal"&&(n=n.slice(),Ks(n,a.count())),as(e,Ys,n,t)},r.prototype.coordToData=function(e,t){var n=this._extent,a=this.scale;this.onBand&&a.type==="ordinal"&&(n=n.slice(),Ks(n,a.count()));var i=as(e,n,Ys,t);return this.scale.scale(i)},r.prototype.pointToData=function(e,t){},r.prototype.getTicksCoords=function(e){e=e||{};var t=e.tickModel||this.getTickModel(),n=Tv(this,t,{breakTicks:e.breakTicks,pruneByBreak:e.pruneByBreak}),a=n.ticks,i=ie(a,function(o){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(o):o),tickValue:o}},this),s=t.get("alignWithLabel");return zv(this,i,s,e.clamp),i},r.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var e=this.model.getModel("minorTick"),t=e.get("splitNumber");t>0&&t<100||(t=5);var n=this.scale.getMinorTicks(t),a=ie(n,function(i){return ie(i,function(s){return{coord:this.dataToCoord(s),tickValue:s}},this)},this);return a},r.prototype.getViewLabels=function(e){return e=e||Pn(Ze.determine),Dv(this,e).labels},r.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},r.prototype.getTickModel=function(){return this.model.getModel("axisTick")},r.prototype.getBandWidth=function(){var e=this._extent,t=this.scale.getExtent(),n=t[1]-t[0]+(this.onBand?1:0);n===0&&(n=1);var a=Math.abs(e[1]-e[0]);return Math.abs(a)/n},r.prototype.calculateCategoryInterval=function(e){return e=e||Pn(Ze.determine),Pv(this,e)},r})();function Ks(r,e){var t=r[1]-r[0],n=e,a=t/n/2;r[0]+=a,r[1]-=a}function zv(r,e,t,n){var a=e.length;if(!r.onBand||t||!a)return;var i=r.getExtent(),s,o;if(a===1)e[0].coord=i[0],e[0].onBand=!0,s=e[1]={coord:i[1],tickValue:e[0].tickValue,onBand:!0};else{var l=e[a-1].tickValue-e[0].tickValue,u=(e[a-1].coord-e[0].coord)/l;E(e,function(d){d.coord-=u/2,d.onBand=!0});var c=r.scale.getExtent();o=1+c[1]-e[a-1].tickValue,s={coord:e[a-1].coord+u*o,tickValue:c[1]+1,onBand:!0},e.push(s)}var h=i[0]>i[1];f(e[0].coord,i[0])&&(n?e[0].coord=i[0]:e.shift()),n&&f(i[0],e[0].coord)&&e.unshift({coord:i[0],onBand:!0}),f(i[1],s.coord)&&(n?s.coord=i[1]:e.pop()),n&&f(s.coord,i[1])&&e.push({coord:i[1],onBand:!0});function f(d,p){return d=Te(d),p=Te(p),h?d>p:d<p}}var Js=["label","labelLine","layoutOption","priority","defaultAttr","marginForce","minMarginForce","marginDefault","suggestIgnore"],Fv=1,Nn=2,Pu=Fv|Nn;function Bn(r,e,t){t=t||Pu,e?r.dirty|=t:r.dirty&=~t}function Nu(r,e){return e=e||Pu,r.dirty==null||!!(r.dirty&e)}function Ct(r){if(r)return Nu(r)&&Hv(r,r.label,r),r}function Hv(r,e,t){var n=e.getComputedTransform();r.transform=wl(r.transform,n);var a=r.localRect=An(r.localRect,e.getBoundingRect()),i=e.style,s=i.margin,o=t&&t.marginForce,l=t&&t.minMarginForce,u=t&&t.marginDefault,c=i.__marginType;c==null&&u&&(s=u,c=jr.textMargin);for(var h=0;h<4;h++)ga[h]=c===jr.minMargin&&l&&l[h]!=null?l[h]:o&&o[h]!=null?o[h]:s?s[h]:0;c===jr.textMargin&&Ba(a,ga,!1,!1);var f=r.rect=An(r.rect,a);return n&&f.applyTransform(n),c===jr.minMargin&&Ba(f,ga,!1,!1),r.axisAligned=kl(n),(r.label=r.label||{}).ignore=e.ignore,Bn(r,!1),Bn(r,!0,Nn),r}var ga=[0,0,0,0];function Gv(r,e,t){return r.transform=wl(r.transform,t),r.localRect=An(r.localRect,e),r.rect=An(r.rect,e),t&&r.rect.applyTransform(t),r.axisAligned=kl(t),r.obb=void 0,(r.label=r.label||{}).ignore=!1,r}function Vv(r,e){if(r){r.label.x+=e.x,r.label.y+=e.y,r.label.markRedraw();var t=r.transform;t&&(t[4]+=e.x,t[5]+=e.y);var n=r.rect;n&&(n.x+=e.x,n.y+=e.y);var a=r.obb;a&&a.fromBoundingRect(r.localRect,t)}}function Qs(r,e){for(var t=0;t<Js.length;t++){var n=Js[t];r[n]==null&&(r[n]=e[n])}return Ct(r)}function eo(r){var e=r.obb;return(!e||Nu(r,Nn))&&(r.obb=e=e||new Bh,e.fromBoundingRect(r.localRect,r.transform),Bn(r,!1,Nn)),e}function Uv(r){var e=[];r.sort(function(u,c){return(c.suggestIgnore?1:0)-(u.suggestIgnore?1:0)||c.priority-u.priority});function t(u){if(!u.ignore){var c=u.ensureState("emphasis");c.ignore==null&&(c.ignore=!1)}u.ignore=!0}for(var n=0;n<r.length;n++){var a=Ct(r[n]);if(!a.label.ignore){for(var i=a.label,s=a.labelLine,o=!1,l=0;l<e.length;l++)if(Ri(a,e[l],null,{touchThreshold:.05})){o=!0;break}o?(t(i),s&&t(s)):e.push(a)}}}function Ri(r,e,t,n){return!r||!e||r.label&&r.label.ignore||e.label&&e.label.ignore||!r.rect.intersect(e.rect,t,n)?!1:r.axisAligned&&e.axisAligned?!0:eo(r).intersect(eo(e),t,n)}function to(r,e,t){var n=zh.createCanvas(),a=e.getWidth(),i=e.getHeight(),s=n.style;return s&&(s.position="absolute",s.left="0",s.top="0",s.width=a+"px",s.height=i+"px",n.setAttribute("data-zr-dom-id",r)),n.width=a*t,n.height=i*t,n}var ma=(function(r){Y(e,r);function e(t,n,a){var i=r.call(this)||this;i.motionBlur=!1,i.lastFrameAlpha=.7,i.dpr=1,i.virtual=!1,i.config={},i.incremental=!1,i.zlevel=0,i.maxRepaintRectCount=5,i.__dirty=!0,i.__firstTimePaint=!0,i.__used=!1,i.__drawIndex=0,i.__startIndex=0,i.__endIndex=0,i.__prevStartIndex=null,i.__prevEndIndex=null;var s;a=a||Cl,typeof t=="string"?s=to(t,n,a):ke(t)&&(s=t,t=s.id),i.id=t,i.dom=s;var o=s.style;return o&&(Al(s),s.onselectstart=function(){return!1},o.padding="0",o.margin="0",o.borderWidth="0"),i.painter=n,i.dpr=a,i}return e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=to("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),t!==1&&this.ctxBack.scale(t,t)},e.prototype.createRepaintRects=function(t,n,a,i){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var s=[],o=this.maxRepaintRectCount,l=!1,u=new Be(0,0,0,0);function c(y){if(!(!y.isFinite()||y.isZero()))if(s.length===0){var b=new Be(0,0,0,0);b.copy(y),s.push(b)}else{for(var _=!1,x=1/0,k=0,w=0;w<s.length;++w){var I=s[w];if(I.intersect(y)){var L=new Be(0,0,0,0);L.copy(I),L.union(y),s[w]=L,_=!0;break}else if(l){u.copy(y),u.union(I);var T=y.width*y.height,A=I.width*I.height,O=u.width*u.height,D=O-T-A;D<x&&(x=D,k=w)}}if(l&&(s[k].union(y),_=!0),!_){var b=new Be(0,0,0,0);b.copy(y),s.push(b)}l||(l=s.length>=o)}}for(var h=this.__startIndex;h<this.__endIndex;++h){var f=t[h];if(f){var d=f.shouldBePainted(a,i,!0,!0),p=f.__isRendered&&(f.__dirty&$a||!d)?f.getPrevPaintRect():null;p&&c(p);var v=d&&(f.__dirty&$a||!f.__isRendered)?f.getPaintRect():null;v&&c(v)}}for(var h=this.__prevStartIndex;h<this.__prevEndIndex;++h){var f=n[h],d=f&&f.shouldBePainted(a,i,!0,!0);if(f&&(!d||!f.__zr)&&f.__isRendered){var p=f.getPrevPaintRect();p&&c(p)}}var m;do{m=!1;for(var h=0;h<s.length;){if(s[h].isZero()){s.splice(h,1);continue}for(var g=h+1;g<s.length;)s[h].intersect(s[g])?(m=!0,s[h].union(s[g]),s.splice(g,1)):g++;h++}}while(m);return this._paintRects=s,s},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(t,n){var a=this.dpr,i=this.dom,s=i.style,o=this.domBack;s&&(s.width=t+"px",s.height=n+"px"),i.width=t*a,i.height=n*a,o&&(o.width=t*a,o.height=n*a,a!==1&&this.ctxBack.scale(a,a))},e.prototype.clear=function(t,n,a){var i=this.dom,s=this.ctx,o=i.width,l=i.height;n=n||this.clearColor;var u=this.motionBlur&&!t,c=this.lastFrameAlpha,h=this.dpr,f=this;u&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(i,0,0,o/h,l/h));var d=this.domBack;function p(v,m,g,y){if(s.clearRect(v,m,g,y),n&&n!=="transparent"){var b=void 0;if(Fh(n)){var _=n.global||n.__width===g&&n.__height===y;b=_&&n.__canvasGradient||Hh(s,n,{x:0,y:0,width:g,height:y}),n.__canvasGradient=b,n.__width=g,n.__height=y}else Gh(n)&&(n.scaleX=n.scaleX||h,n.scaleY=n.scaleY||h,b=Vh(s,n,{dirty:function(){f.setUnpainted(),f.painter.refresh()}}));s.save(),s.fillStyle=b||n,s.fillRect(v,m,g,y),s.restore()}u&&(s.save(),s.globalAlpha=c,s.drawImage(d,v,m,g,y),s.restore())}!a||u?p(0,0,o,l):a.length&&E(a,function(v){p(v.x*h,v.y*h,v.width*h,v.height*h)})},e})($h),ro=1e5,Lt=314159,rn=.01,Wv=.001;function qv(r){return r?r.__builtin__?!0:!(typeof r.resize!="function"||typeof r.refresh!="function"):!1}function jv(r,e){var t=document.createElement("div");return t.style.cssText=["position:relative","width:"+r+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",t}var Zv=(function(){function r(e,t,n,a){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var i=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=n=he({},n||{}),this.dpr=n.devicePixelRatio||Cl,this._singleCanvas=i,this.root=e;var s=e.style;s&&(Al(e),e.innerHTML=""),this.storage=t;var o=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(i){var c=e,h=c.width,f=c.height;n.width!=null&&(h=n.width),n.height!=null&&(f=n.height),this.dpr=n.devicePixelRatio||1,c.width=h*this.dpr,c.height=f*this.dpr,this._width=h,this._height=f;var d=new ma(c,this,this.dpr);d.__builtin__=!0,d.initContext(),l[Lt]=d,d.zlevel=Lt,o.push(Lt),this._domRoot=e}else{this._width=Xr(e,0,n),this._height=Xr(e,1,n);var u=this._domRoot=jv(this._width,this._height);e.appendChild(u)}}return r.prototype.getType=function(){return"canvas"},r.prototype.isSingleCanvas=function(){return this._singleCanvas},r.prototype.getViewportRoot=function(){return this._domRoot},r.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},r.prototype.refresh=function(e){var t=this.storage.getDisplayList(!0),n=this._prevDisplayList,a=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,n,e,this._redrawId);for(var i=0;i<a.length;i++){var s=a[i],o=this._layers[s];if(!o.__builtin__&&o.refresh){var l=i===0?this._backgroundColor:null;o.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=t.slice()),this},r.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},r.prototype._paintHoverList=function(e){var t=e.length,n=this._hoverlayer;if(n&&n.clear(),!!t){for(var a={inHover:!0,viewWidth:this._width,viewHeight:this._height},i,s=0;s<t;s++){var o=e[s];o.__inHover&&(n||(n=this._hoverlayer=this.getLayer(ro)),i||(i=n.ctx,i.save()),Zr(i,o,a,s===t-1))}i&&i.restore()}},r.prototype.getHoverLayer=function(){return this.getLayer(ro)},r.prototype.paintOne=function(e,t){Uh(e,t)},r.prototype._paintList=function(e,t,n,a){if(this._redrawId===a){n=n||!1,this._updateLayerStatus(e);var i=this._doPaintList(e,t,n),s=i.finished,o=i.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),o&&this._paintHoverList(e),s)this.eachLayer(function(u){u.afterBrush&&u.afterBrush()});else{var l=this;Wh(function(){l._paintList(e,t,n,a)})}}},r.prototype._compositeManually=function(){var e=this.getLayer(Lt).ctx,t=this._domRoot.width,n=this._domRoot.height;e.clearRect(0,0,t,n),this.eachBuiltinLayer(function(a){a.virtual&&e.drawImage(a.dom,0,0,t,n)})},r.prototype._doPaintList=function(e,t,n){for(var a=this,i=[],s=this._opts.useDirtyRect,o=0;o<this._zlevelList.length;o++){var l=this._zlevelList[o],u=this._layers[l];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||n)&&i.push(u)}for(var c=!0,h=!1,f=function(v){var m=i[v],g=m.ctx,y=s&&m.createRepaintRects(e,t,d._width,d._height),b=n?m.__startIndex:m.__drawIndex,_=!n&&m.incremental&&Date.now,x=_&&Date.now(),k=m.zlevel===d._zlevelList[0]?d._backgroundColor:null;if(m.__startIndex===m.__endIndex)m.clear(!1,k,y);else if(b===m.__startIndex){var w=e[b];(!w.incremental||!w.notClear||n)&&m.clear(!1,k,y)}b===-1&&(console.error("For some unknown reason. drawIndex is -1"),b=m.__startIndex);var I,L=function(D){var P={inHover:!1,allClipped:!1,prevEl:null,viewWidth:a._width,viewHeight:a._height};for(I=b;I<m.__endIndex;I++){var z=e[I];if(z.__inHover&&(h=!0),a._doPaintEl(z,m,s,D,P,I===m.__endIndex-1),_){var W=Date.now()-x;if(W>15)break}}P.prevElClipPaths&&g.restore()};if(y)if(y.length===0)I=m.__endIndex;else for(var T=d.dpr,A=0;A<y.length;++A){var O=y[A];g.save(),g.beginPath(),g.rect(O.x*T,O.y*T,O.width*T,O.height*T),g.clip(),L(O),g.restore()}else g.save(),L(),g.restore();m.__drawIndex=I,m.__drawIndex<m.__endIndex&&(c=!1)},d=this,p=0;p<i.length;p++)f(p);return Ae.wxa&&E(this._layers,function(v){v&&v.ctx&&v.ctx.draw&&v.ctx.draw()}),{finished:c,needsRefreshHover:h}},r.prototype._doPaintEl=function(e,t,n,a,i,s){var o=t.ctx;if(n){var l=e.getPaintRect();(!a||l&&l.intersect(a))&&(Zr(o,e,i,s),e.setPrevPaintRect(l))}else Zr(o,e,i,s)},r.prototype.getLayer=function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=Lt);var n=this._layers[e];return n||(n=new ma("zr_"+e,this,this.dpr),n.zlevel=e,n.__builtin__=!0,this._layerConfig[e]?$e(n,this._layerConfig[e],!0):this._layerConfig[e-rn]&&$e(n,this._layerConfig[e-rn],!0),t&&(n.virtual=t),this.insertLayer(e,n),n.initContext()),n},r.prototype.insertLayer=function(e,t){var n=this._layers,a=this._zlevelList,i=a.length,s=this._domRoot,o=null,l=-1;if(!n[e]&&qv(t)){if(i>0&&e>a[0]){for(l=0;l<i-1&&!(a[l]<e&&a[l+1]>e);l++);o=n[a[l]]}if(a.splice(l+1,0,e),n[e]=t,!t.virtual)if(o){var u=o.dom;u.nextSibling?s.insertBefore(t.dom,u.nextSibling):s.appendChild(t.dom)}else s.firstChild?s.insertBefore(t.dom,s.firstChild):s.appendChild(t.dom);t.painter||(t.painter=this)}},r.prototype.eachLayer=function(e,t){for(var n=this._zlevelList,a=0;a<n.length;a++){var i=n[a];e.call(t,this._layers[i],i)}},r.prototype.eachBuiltinLayer=function(e,t){for(var n=this._zlevelList,a=0;a<n.length;a++){var i=n[a],s=this._layers[i];s.__builtin__&&e.call(t,s,i)}},r.prototype.eachOtherLayer=function(e,t){for(var n=this._zlevelList,a=0;a<n.length;a++){var i=n[a],s=this._layers[i];s.__builtin__||e.call(t,s,i)}},r.prototype.getLayers=function(){return this._layers},r.prototype._updateLayerStatus=function(e){this.eachBuiltinLayer(function(h,f){h.__dirty=h.__used=!1});function t(h){i&&(i.__endIndex!==h&&(i.__dirty=!0),i.__endIndex=h)}if(this._singleCanvas)for(var n=1;n<e.length;n++){var a=e[n];if(a.zlevel!==e[n-1].zlevel||a.incremental){this._needsManuallyCompositing=!0;break}}var i=null,s=0,o,l;for(l=0;l<e.length;l++){var a=e[l],u=a.zlevel,c=void 0;o!==u&&(o=u,s=0),a.incremental?(c=this.getLayer(u+Wv,this._needsManuallyCompositing),c.incremental=!0,s=1):c=this.getLayer(u+(s>0?rn:0),this._needsManuallyCompositing),c.__builtin__||qh("ZLevel "+u+" has been used by unkown layer "+c.id),c!==i&&(c.__used=!0,c.__startIndex!==l&&(c.__dirty=!0),c.__startIndex=l,c.incremental?c.__drawIndex=-1:c.__drawIndex=l,t(l),i=c),a.__dirty&$a&&!a.__inHover&&(c.__dirty=!0,c.incremental&&c.__drawIndex<0&&(c.__drawIndex=l))}t(l),this.eachBuiltinLayer(function(h,f){!h.__used&&h.getElementCount()>0&&(h.__dirty=!0,h.__startIndex=h.__endIndex=h.__drawIndex=0),h.__dirty&&h.__drawIndex<0&&(h.__drawIndex=h.__startIndex)})},r.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},r.prototype._clearLayer=function(e){e.clear()},r.prototype.setBackgroundColor=function(e){this._backgroundColor=e,E(this._layers,function(t){t.setUnpainted()})},r.prototype.configLayer=function(e,t){if(t){var n=this._layerConfig;n[e]?$e(n[e],t,!0):n[e]=t;for(var a=0;a<this._zlevelList.length;a++){var i=this._zlevelList[a];if(i===e||i===e+rn){var s=this._layers[i];$e(s,n[e],!0)}}}},r.prototype.delLayer=function(e){var t=this._layers,n=this._zlevelList,a=t[e];a&&(a.dom.parentNode.removeChild(a.dom),delete t[e],n.splice(Ee(n,e),1))},r.prototype.resize=function(e,t){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var a=this._opts,i=this.root;if(e!=null&&(a.width=e),t!=null&&(a.height=t),e=Xr(i,0,a),t=Xr(i,1,a),n.style.display="",this._width!==e||t!==this._height){n.style.width=e+"px",n.style.height=t+"px";for(var s in this._layers)this._layers.hasOwnProperty(s)&&this._layers[s].resize(e,t);this.refresh(!0)}this._width=e,this._height=t}else{if(e==null||t==null)return;this._width=e,this._height=t,this.getLayer(Lt).resize(e,t)}return this},r.prototype.clearLayer=function(e){var t=this._layers[e];t&&t.clear()},r.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},r.prototype.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[Lt].dom;var t=new ma("image",this,e.pixelRatio||this.dpr);t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor);var n=t.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var a=t.dom.width,i=t.dom.height;this.eachLayer(function(h){h.__builtin__?n.drawImage(h.dom,0,0,a,i):h.renderToCanvas&&(n.save(),h.renderToCanvas(n),n.restore())})}else for(var s={inHover:!1,viewWidth:this._width,viewHeight:this._height},o=this.storage.getDisplayList(!0),l=0,u=o.length;l<u;l++){var c=o[l];Zr(n,c,s,l===u-1)}return t.dom},r.prototype.getWidth=function(){return this._width},r.prototype.getHeight=function(){return this._height},r})();function Xv(r){r.registerPainter("canvas",Zv)}var Yv=(function(r){Y(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t){return Qn(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(t){var n=new Me,a=qt("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);n.add(a),a.setStyle(t.lineStyle);var i=this.getData().getVisual("symbol"),s=this.getData().getVisual("symbolRotate"),o=i==="none"?"circle":i,l=t.itemHeight*.8,u=qt(o,(t.itemWidth-l)/2,(t.itemHeight-l)/2,l,l,t.itemStyle.fill);n.add(u),u.setStyle(t.itemStyle);var c=t.iconRotate==="inherit"?s:t.iconRotate||0;return u.rotation=c*Math.PI/180,u.setOrigin([t.itemWidth/2,t.itemHeight/2]),o.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill=ee.color.neutral00,u.style.lineWidth=2),n},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:6,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e})(Pt);function Oi(r,e){var t=r.mapDimensionsAll("defaultedLabel"),n=t.length;if(n===1){var a=is(r,e,t[0]);return a!=null?a+"":null}else if(n){for(var i=[],s=0;s<t.length;s++)i.push(is(r,e,t[s]));return i.join(" ")}}function Bu(r,e){var t=r.mapDimensionsAll("defaultedLabel");if(!ne(e))return e+"";for(var n=[],a=0;a<t.length;a++){var i=r.getDimensionIndex(t[a]);i>=0&&n.push(e[i])}return n.join(" ")}var Pi=(function(r){Y(e,r);function e(t,n,a,i){var s=r.call(this)||this;return s.updateData(t,n,a,i),s}return e.prototype._createSymbol=function(t,n,a,i,s,o){this.removeAll();var l=qt(t,-1,-1,2,2,null,o);l.attr({z2:me(s,100),culling:!0,scaleX:i[0]/2,scaleY:i[1]/2}),l.drift=Kv,this._symbolType=t,this.add(l)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){jh(this.childAt(0))},e.prototype.downplay=function(){Zh(this.childAt(0))},e.prototype.setZ=function(t,n){var a=this.childAt(0);a.zlevel=t,a.z=n},e.prototype.setDraggable=function(t,n){var a=this.childAt(0);a.draggable=t,a.cursor=!n&&t?"move":a.cursor},e.prototype.updateData=function(t,n,a,i){this.silent=!1;var s=t.getItemVisual(n,"symbol")||"circle",o=t.hostModel,l=e.getSymbolSize(t,n),u=e.getSymbolZ2(t,n),c=s!==this._symbolType,h=i&&i.disableAnimation;if(c){var f=t.getItemVisual(n,"symbolKeepAspect");this._createSymbol(s,t,n,l,u,f)}else{var d=this.childAt(0);d.silent=!1;var p={scaleX:l[0]/2,scaleY:l[1]/2};h?d.attr(p):Pe(d,p,o,n),mi(d)}if(this._updateCommon(t,n,l,a,i),c){var d=this.childAt(0);if(!h){var p={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:d.style.opacity}};d.scaleX=d.scaleY=0,d.style.opacity=0,st(d,p,o,n)}}h&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(t,n,a,i,s){var o=this.childAt(0),l=t.hostModel,u,c,h,f,d,p,v,m,g;if(i&&(u=i.emphasisItemStyle,c=i.blurItemStyle,h=i.selectItemStyle,f=i.focus,d=i.blurScope,v=i.labelStatesModels,m=i.hoverScale,g=i.cursorStyle,p=i.emphasisDisabled),!i||t.hasItemOption){var y=i&&i.itemModel?i.itemModel:t.getItemModel(n),b=y.getModel("emphasis");u=b.getModel("itemStyle").getItemStyle(),h=y.getModel(["select","itemStyle"]).getItemStyle(),c=y.getModel(["blur","itemStyle"]).getItemStyle(),f=b.get("focus"),d=b.get("blurScope"),p=b.get("disabled"),v=Er(y),m=b.getShallow("scale"),g=y.getShallow("cursor")}var _=t.getItemVisual(n,"symbolRotate");o.attr("rotation",(_||0)*Math.PI/180||0);var x=Dl(t.getItemVisual(n,"symbolOffset"),a);x&&(o.x=x[0],o.y=x[1]),g&&o.attr("cursor",g);var k=t.getItemVisual(n,"style"),w=k.fill;if(o instanceof Xh){var I=o.style;o.useStyle(he({image:I.image,x:I.x,y:I.y,width:I.width,height:I.height},k))}else o.__isEmptyBrush?o.useStyle(he({},k)):o.useStyle(k),o.style.decal=null,o.setColor(w,s&&s.symbolInnerColor),o.style.strokeNoScale=!0;var L=t.getItemVisual(n,"liftZ"),T=this._z2;L!=null?T==null&&(this._z2=o.z2,o.z2+=L):T!=null&&(o.z2=T,this._z2=null);var A=s&&s.useNameLabel;Rr(o,v,{labelFetcher:l,labelDataIndex:n,defaultText:O,inheritColor:w,defaultOpacity:k.opacity});function O(z){return A?t.getName(z):Oi(t,z)}this._sizeX=a[0]/2,this._sizeY=a[1]/2;var D=o.ensureState("emphasis");D.style=u,o.ensureState("select").style=h,o.ensureState("blur").style=c;var P=m==null||m===!0?Math.max(1.1,3/this._sizeY):isFinite(m)&&m>0?+m:1;D.scaleX=this._sizeX*P,D.scaleY=this._sizeY*P,this.setSymbolScale(1),jt(this,f,d,p)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,n,a){var i=this.childAt(0),s=ye(this).dataIndex,o=a&&a.animation;if(this.silent=i.silent=!0,a&&a.fadeLabel){var l=i.getTextContent();l&&ss(l,{style:{opacity:0}},n,{dataIndex:s,removeOpt:o,cb:function(){i.removeTextContent()}})}else i.removeTextContent();ss(i,{style:{opacity:0},scaleX:0,scaleY:0},n,{dataIndex:s,cb:t,removeOpt:o})},e.getSymbolSize=function(t,n){return Yh(t.getItemVisual(n,"symbolSize"))},e.getSymbolZ2=function(t,n){return t.getItemVisual(n,"z2")},e})(Me);function Kv(r,e){this.parent.drift(r,e)}function ya(r,e,t,n){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(n.isIgnore&&n.isIgnore(t))&&!(n.clipShape&&!n.clipShape.contain(e[0],e[1]))&&r.getItemVisual(t,"symbol")!=="none"}function no(r){return r!=null&&!ke(r)&&(r={isIgnore:r}),r||{}}function ao(r){var e=r.hostModel,t=e.getModel("emphasis");return{emphasisItemStyle:t.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:t.get("focus"),blurScope:t.get("blurScope"),emphasisDisabled:t.get("disabled"),hoverScale:t.get("scale"),labelStatesModels:Er(e),cursorStyle:e.get("cursor")}}var $u=(function(){function r(e){this.group=new Me,this._SymbolCtor=e||Pi}return r.prototype.updateData=function(e,t){this._progressiveEls=null,t=no(t);var n=this.group,a=e.hostModel,i=this._data,s=this._SymbolCtor,o=t.disableAnimation,l=ao(e),u={disableAnimation:o},c=t.getSymbolPoint||function(h){return e.getItemLayout(h)};i||n.removeAll(),e.diff(i).add(function(h){var f=c(h);if(ya(e,f,h,t)){var d=new s(e,h,l,u);d.setPosition(f),e.setItemGraphicEl(h,d),n.add(d)}}).update(function(h,f){var d=i.getItemGraphicEl(f),p=c(h);if(!ya(e,p,h,t)){n.remove(d);return}var v=e.getItemVisual(h,"symbol")||"circle",m=d&&d.getSymbolType&&d.getSymbolType();if(!d||m&&m!==v)n.remove(d),d=new s(e,h,l,u),d.setPosition(p);else{d.updateData(e,h,l,u);var g={x:p[0],y:p[1]};o?d.attr(g):Pe(d,g,a)}n.add(d),e.setItemGraphicEl(h,d)}).remove(function(h){var f=i.getItemGraphicEl(h);f&&f.fadeOut(function(){n.remove(f)},a)}).execute(),this._getSymbolPoint=c,this._data=e},r.prototype.updateLayout=function(){var e=this,t=this._data;t&&t.eachItemGraphicEl(function(n,a){var i=e._getSymbolPoint(a);n.setPosition(i),n.markRedraw()})},r.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=ao(e),this._data=null,this.group.removeAll()},r.prototype.incrementalUpdate=function(e,t,n){this._progressiveEls=[],n=no(n);function a(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var i=e.start;i<e.end;i++){var s=t.getItemLayout(i);if(ya(t,s,i,n)){var o=new this._SymbolCtor(t,i,this._seriesScope);o.traverse(a),o.setPosition(s),this.group.add(o),t.setItemGraphicEl(i,o),this._progressiveEls.push(o)}}},r.prototype.eachRendered=function(e){yi(this._progressiveEls||this.group,e)},r.prototype.remove=function(e){var t=this.group,n=this._data;n&&e?n.eachItemGraphicEl(function(a){a.fadeOut(function(){t.remove(a)},n.hostModel)}):t.removeAll()},r})();function zu(r,e,t){var n=r.getBaseAxis(),a=r.getOtherAxis(n),i=Jv(a,t),s=n.dim,o=a.dim,l=e.mapDimension(o),u=e.mapDimension(s),c=o==="x"||o==="radius"?1:0,h=ie(r.dimensions,function(p){return e.mapDimension(p)}),f=!1,d=e.getCalculationInfo("stackResultDimension");return Bt(e,h[0])&&(f=!0,h[0]=d),Bt(e,h[1])&&(f=!0,h[1]=d),{dataDimsForPoint:h,valueStart:i,valueAxisDim:o,baseAxisDim:s,stacked:!!f,valueDim:l,baseDim:u,baseDataOffset:c,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function Jv(r,e){var t=0,n=r.scale.getExtent();return e==="start"?t=n[0]:e==="end"?t=n[1]:St(e)&&!isNaN(e)?t=e:n[0]>0?t=n[0]:n[1]<0&&(t=n[1]),t}function Fu(r,e,t,n){var a=NaN;r.stacked&&(a=t.get(t.getCalculationInfo("stackedOverDimension"),n)),isNaN(a)&&(a=r.valueStart);var i=r.baseDataOffset,s=[];return s[i]=t.get(r.baseDim,n),s[1-i]=a,e.dataToPoint(s)}function Qv(r,e){var t=[];return e.diff(r).add(function(n){t.push({cmd:"+",idx:n})}).update(function(n,a){t.push({cmd:"=",idx:a,idx1:n})}).remove(function(n){t.push({cmd:"-",idx:n})}).execute(),t}function eg(r,e,t,n,a,i,s,o){for(var l=Qv(r,e),u=[],c=[],h=[],f=[],d=[],p=[],v=[],m=zu(a,e,s),g=r.getLayout("points")||[],y=e.getLayout("points")||[],b=0;b<l.length;b++){var _=l[b],x=!0,k=void 0,w=void 0;switch(_.cmd){case"=":k=_.idx*2,w=_.idx1*2;var I=g[k],L=g[k+1],T=y[w],A=y[w+1];(isNaN(I)||isNaN(L))&&(I=T,L=A),u.push(I,L),c.push(T,A),h.push(t[k],t[k+1]),f.push(n[w],n[w+1]),v.push(e.getRawIndex(_.idx1));break;case"+":var O=_.idx,D=m.dataDimsForPoint,P=a.dataToPoint([e.get(D[0],O),e.get(D[1],O)]);w=O*2,u.push(P[0],P[1]),c.push(y[w],y[w+1]);var z=Fu(m,a,e,O);h.push(z[0],z[1]),f.push(n[w],n[w+1]),v.push(e.getRawIndex(O));break;case"-":x=!1}x&&(d.push(_),p.push(p.length))}p.sort(function(le,Ht){return v[le]-v[Ht]});for(var W=u.length,K=Qe(W),M=Qe(W),R=Qe(W),B=Qe(W),F=[],b=0;b<p.length;b++){var V=p[b],j=b*2,J=V*2;K[j]=u[J],K[j+1]=u[J+1],M[j]=c[J],M[j+1]=c[J+1],R[j]=h[J],R[j+1]=h[J+1],B[j]=f[J],B[j+1]=f[J+1],F[b]=d[V]}return{current:K,next:M,stackedOnCurrent:R,stackedOnNext:B,status:F}}var ft=Math.min,dt=Math.max;function Rt(r,e){return isNaN(r)||isNaN(e)}function Ja(r,e,t,n,a,i,s,o,l){for(var u,c,h,f,d,p,v=t,m=0;m<n;m++){var g=e[v*2],y=e[v*2+1];if(v>=a||v<0)break;if(Rt(g,y)){if(l){v+=i;continue}break}if(v===t)r[i>0?"moveTo":"lineTo"](g,y),h=g,f=y;else{var b=g-u,_=y-c;if(b*b+_*_<.5){v+=i;continue}if(s>0){for(var x=v+i,k=e[x*2],w=e[x*2+1];k===g&&w===y&&m<n;)m++,x+=i,v+=i,k=e[x*2],w=e[x*2+1],g=e[v*2],y=e[v*2+1],b=g-u,_=y-c;var I=m+1;if(l)for(;Rt(k,w)&&I<n;)I++,x+=i,k=e[x*2],w=e[x*2+1];var L=.5,T=0,A=0,O=void 0,D=void 0;if(I>=n||Rt(k,w))d=g,p=y;else{T=k-u,A=w-c;var P=g-u,z=k-g,W=y-c,K=w-y,M=void 0,R=void 0;if(o==="x"){M=Math.abs(P),R=Math.abs(z);var B=T>0?1:-1;d=g-B*M*s,p=y,O=g+B*R*s,D=y}else if(o==="y"){M=Math.abs(W),R=Math.abs(K);var F=A>0?1:-1;d=g,p=y-F*M*s,O=g,D=y+F*R*s}else M=Math.sqrt(P*P+W*W),R=Math.sqrt(z*z+K*K),L=R/(R+M),d=g-T*s*(1-L),p=y-A*s*(1-L),O=g+T*s*L,D=y+A*s*L,O=ft(O,dt(k,g)),D=ft(D,dt(w,y)),O=dt(O,ft(k,g)),D=dt(D,ft(w,y)),T=O-g,A=D-y,d=g-T*M/R,p=y-A*M/R,d=ft(d,dt(u,g)),p=ft(p,dt(c,y)),d=dt(d,ft(u,g)),p=dt(p,ft(c,y)),T=g-d,A=y-p,O=g+T*R/M,D=y+A*R/M}r.bezierCurveTo(h,f,d,p,g,y),h=O,f=D}else r.lineTo(g,y)}u=g,c=y,v+=i}return m}var Hu=(function(){function r(){this.smooth=0,this.smoothConstraint=!0}return r})(),tg=(function(r){Y(e,r);function e(t){var n=r.call(this,t)||this;return n.type="ec-polyline",n}return e.prototype.getDefaultStyle=function(){return{stroke:ee.color.neutral99,fill:null}},e.prototype.getDefaultShape=function(){return new Hu},e.prototype.buildPath=function(t,n){var a=n.points,i=0,s=a.length/2;if(n.connectNulls){for(;s>0&&Rt(a[s*2-2],a[s*2-1]);s--);for(;i<s&&Rt(a[i*2],a[i*2+1]);i++);}for(;i<s;)i+=Ja(t,a,i,s,s,1,n.smooth,n.smoothMonotone,n.connectNulls)+1},e.prototype.getPointOn=function(t,n){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var a=this.path,i=a.data,s=Kh.CMD,o,l,u=n==="x",c=[],h=0;h<i.length;){var f=i[h++],d=void 0,p=void 0,v=void 0,m=void 0,g=void 0,y=void 0,b=void 0;switch(f){case s.M:o=i[h++],l=i[h++];break;case s.L:if(d=i[h++],p=i[h++],b=u?(t-o)/(d-o):(t-l)/(p-l),b<=1&&b>=0){var _=u?(p-l)*b+l:(d-o)*b+o;return u?[t,_]:[_,t]}o=d,l=p;break;case s.C:d=i[h++],p=i[h++],v=i[h++],m=i[h++],g=i[h++],y=i[h++];var x=u?os(o,d,v,g,t,c):os(l,p,m,y,t,c);if(x>0)for(var k=0;k<x;k++){var w=c[k];if(w<=1&&w>=0){var _=u?ls(l,p,m,y,w):ls(o,d,v,g,w);return u?[t,_]:[_,t]}}o=g,l=y;break}}},e})(zt),rg=(function(r){Y(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e})(Hu),ng=(function(r){Y(e,r);function e(t){var n=r.call(this,t)||this;return n.type="ec-polygon",n}return e.prototype.getDefaultShape=function(){return new rg},e.prototype.buildPath=function(t,n){var a=n.points,i=n.stackedOnPoints,s=0,o=a.length/2,l=n.smoothMonotone;if(n.connectNulls){for(;o>0&&Rt(a[o*2-2],a[o*2-1]);o--);for(;s<o&&Rt(a[s*2],a[s*2+1]);s++);}for(;s<o;){var u=Ja(t,a,s,o,o,1,n.smooth,l,n.connectNulls);Ja(t,i,s+u-1,u,o,-1,n.stackedOnSmooth,l,n.connectNulls),s+=u+1,t.closePath()}},e})(zt);function Gu(r,e,t,n,a){var i=r.getArea(),s=i.x,o=i.y,l=i.width,u=i.height,c=t.get(["lineStyle","width"])||0;s-=c/2,o-=c/2,l+=c,u+=c,l=Math.ceil(l),s!==Math.floor(s)&&(s=Math.floor(s),l++);var h=new Xe({shape:{x:s,y:o,width:l,height:u}});if(e){var f=r.getBaseAxis(),d=f.isHorizontal(),p=f.inverse;d?(p&&(h.shape.x+=l),h.shape.width=0):(p||(h.shape.y+=u),h.shape.height=0);var v=ge(a)?function(m){a(m,h)}:null;st(h,{shape:{width:l,height:u,x:s,y:o}},t,null,n,v)}return h}function Vu(r,e,t){var n=r.getArea(),a=Te(n.r0,1),i=Te(n.r,1),s=new bi({shape:{cx:Te(r.cx,1),cy:Te(r.cy,1),r0:a,r:i,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}});if(e){var o=r.getBaseAxis().dim==="angle";o?s.shape.endAngle=n.startAngle:s.shape.r=a,st(s,{shape:{endAngle:n.endAngle,r:i}},t)}return s}function Uu(r,e,t,n,a){if(r){if(r.type==="polar")return Vu(r,e,t);if(r.type==="cartesian2d")return Gu(r,e,t,n,a)}else return null;return null}function Fr(r,e){return r.type===e}function io(r,e){if(r.length===e.length){for(var t=0;t<r.length;t++)if(r[t]!==e[t])return;return!0}}function so(r){for(var e=1/0,t=1/0,n=-1/0,a=-1/0,i=0;i<r.length;){var s=r[i++],o=r[i++];isNaN(s)||(e=Math.min(s,e),n=Math.max(s,n)),isNaN(o)||(t=Math.min(o,t),a=Math.max(o,a))}return[[e,t],[n,a]]}function oo(r,e){var t=so(r),n=t[0],a=t[1],i=so(e),s=i[0],o=i[1];return Math.max(Math.abs(n[0]-s[0]),Math.abs(n[1]-s[1]),Math.abs(a[0]-o[0]),Math.abs(a[1]-o[1]))}function lo(r){return St(r)?r:r?.5:0}function ag(r,e,t){if(!t.valueDim)return[];for(var n=e.count(),a=Qe(n*2),i=0;i<n;i++){var s=Fu(t,r,e,i);a[i*2]=s[0],a[i*2+1]=s[1]}return a}function pt(r,e,t,n,a){var i=t.getBaseAxis(),s=i.dim==="x"||i.dim==="radius"?0:1,o=[],l=0,u=[],c=[],h=[],f=[];if(a){for(l=0;l<r.length;l+=2){var d=e||r;!isNaN(d[l])&&!isNaN(d[l+1])&&f.push(r[l],r[l+1])}r=f}for(l=0;l<r.length-2;l+=2)switch(h[0]=r[l+2],h[1]=r[l+3],c[0]=r[l],c[1]=r[l+1],o.push(c[0],c[1]),n){case"end":u[s]=h[s],u[1-s]=c[1-s],o.push(u[0],u[1]);break;case"middle":var p=(c[s]+h[s])/2,v=[];u[s]=v[s]=p,u[1-s]=c[1-s],v[1-s]=h[1-s],o.push(u[0],u[1]),o.push(v[0],v[1]);break;default:u[s]=c[s],u[1-s]=h[1-s],o.push(u[0],u[1])}return o.push(r[l++],r[l++]),o}function ig(r,e){var t=[],n=r.length,a,i;function s(c,h,f){var d=c.coord,p=(f-d)/(h.coord-d),v=ef(p,[c.color,h.color]);return{coord:f,color:v}}for(var o=0;o<n;o++){var l=r[o],u=l.coord;if(u<0)a=l;else if(u>e){i?t.push(s(i,l,e)):a&&t.push(s(a,l,0),s(a,l,e));break}else a&&(t.push(s(a,l,0)),a=null),t.push(l),i=l}return t}function sg(r,e,t){var n=r.getVisual("visualMeta");if(!(!n||!n.length||!r.count())&&e.type==="cartesian2d"){for(var a,i,s=n.length-1;s>=0;s--){var o=r.getDimensionInfo(n[s].dimension);if(a=o&&o.coordDim,a==="x"||a==="y"){i=n[s];break}}if(i){var l=e.getAxis(a),u=ie(i.stops,function(b){return{coord:l.toGlobalCoord(l.dataToCoord(b.value)),color:b.color}}),c=u.length,h=i.outerColors.slice();c&&u[0].coord>u[c-1].coord&&(u.reverse(),h.reverse());var f=ig(u,a==="x"?t.getWidth():t.getHeight()),d=f.length;if(!d&&c)return u[0].coord<0?h[1]?h[1]:u[c-1].color:h[0]?h[0]:u[0].color;var p=10,v=f[0].coord-p,m=f[d-1].coord+p,g=m-v;if(g<.001)return"transparent";E(f,function(b){b.offset=(b.coord-v)/g}),f.push({offset:d?f[d-1].offset:.5,color:h[1]||"transparent"}),f.unshift({offset:d?f[0].offset:.5,color:h[0]||"transparent"});var y=new Qh(0,0,0,0,f,!0);return y[a]=v,y[a+"2"]=m,y}}}function og(r,e,t){var n=r.get("showAllSymbol"),a=n==="auto";if(!(n&&!a)){var i=t.getAxesByScale("ordinal")[0];if(i&&!(a&&lg(i,e))){var s=e.mapDimension(i.dim),o={};return E(i.getViewLabels(),function(l){var u=i.scale.getRawOrdinalNumber(l.tickValue);o[u]=1}),function(l){return!o.hasOwnProperty(e.get(s,l))}}}}function lg(r,e){var t=r.getExtent(),n=Math.abs(t[1]-t[0])/r.scale.count();isNaN(n)&&(n=0);for(var a=e.count(),i=Math.max(1,Math.round(a/5)),s=0;s<a;s+=i)if(Pi.getSymbolSize(e,s)[r.isHorizontal()?1:0]*1.5>n)return!1;return!0}function ug(r,e){return isNaN(r)||isNaN(e)}function cg(r){for(var e=r.length/2;e>0&&ug(r[e*2-2],r[e*2-1]);e--);return e-1}function uo(r,e){return[r[e*2],r[e*2+1]]}function hg(r,e,t){for(var n=r.length/2,a=t==="x"?0:1,i,s,o=0,l=-1,u=0;u<n;u++)if(s=r[u*2+a],!(isNaN(s)||isNaN(r[u*2+1-a]))){if(u===0){i=s;continue}if(i<=e&&s>=e||i>=e&&s<=e){l=u;break}o=u,i=s}return{range:[o,l],t:(e-i)/(s-i)}}function Wu(r){if(r.get(["endLabel","show"]))return!0;for(var e=0;e<cs.length;e++)if(r.get([cs[e],"endLabel","show"]))return!0;return!1}function ba(r,e,t,n){if(Fr(e,"cartesian2d")){var a=n.getModel("endLabel"),i=a.get("valueAnimation"),s=n.getData(),o={lastFrameIndex:0},l=Wu(n)?function(d,p){r._endLabelOnDuring(d,p,s,o,i,a,e)}:null,u=e.getBaseAxis().isHorizontal(),c=Gu(e,t,n,function(){var d=r._endLabel;d&&t&&o.originalX!=null&&d.attr({x:o.originalX,y:o.originalY})},l);if(!n.get("clip",!0)){var h=c.shape,f=Math.max(h.width,h.height);u?(h.y-=f,h.height+=f*2):(h.x-=f,h.width+=f*2)}return l&&l(1,c),c}else return Vu(e,t,n)}function fg(r,e){var t=e.getBaseAxis(),n=t.isHorizontal(),a=t.inverse,i=n?a?"right":"left":"center",s=n?"middle":a?"top":"bottom";return{normal:{align:r.get("align")||i,verticalAlign:r.get("verticalAlign")||s}}}var dg=(function(r){Y(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(){var t=new Me,n=new $u;this.group.add(n.group),this._symbolDraw=n,this._lineGroup=t,this._changePolyState=_e(this._changePolyState,this)},e.prototype.render=function(t,n,a){var i=t.coordinateSystem,s=this.group,o=t.getData(),l=t.getModel("lineStyle"),u=t.getModel("areaStyle"),c=o.getLayout("points")||[],h=i.type==="polar",f=this._coordSys,d=this._symbolDraw,p=this._polyline,v=this._polygon,m=this._lineGroup,g=!n.ssr&&t.get("animation"),y=!u.isEmpty(),b=u.get("origin"),_=zu(i,o,b),x=y&&ag(i,o,_),k=t.get("showSymbol"),w=t.get("connectNulls"),I=k&&!h&&og(t,o,i),L=this._data;L&&L.eachItemGraphicEl(function(le,Ht){le.__temp&&(s.remove(le),L.setItemGraphicEl(Ht,null))}),k||d.remove(),s.add(m);var T=h?!1:t.get("step"),A;i&&i.getArea&&t.get("clip",!0)&&(A=i.getArea(),A.width!=null?(A.x-=.1,A.y-=.1,A.width+=.2,A.height+=.2):A.r0&&(A.r0-=.5,A.r+=.5)),this._clipShapeForSymbol=A;var O=sg(o,i,a)||o.getVisual("style")[o.getVisual("drawType")];if(!(p&&f.type===i.type&&T===this._step))k&&d.updateData(o,{isIgnore:I,clipShape:A,disableAnimation:!0,getSymbolPoint:function(le){return[c[le*2],c[le*2+1]]}}),g&&this._initSymbolLabelAnimation(o,i,A),T&&(x&&(x=pt(x,c,i,T,w)),c=pt(c,null,i,T,w)),p=this._newPolyline(c),y?v=this._newPolygon(c,x):v&&(m.remove(v),v=this._polygon=null),h||this._initOrUpdateEndLabel(t,i,Zt(O)),m.setClipPath(ba(this,i,!0,t));else{y&&!v?v=this._newPolygon(c,x):v&&!y&&(m.remove(v),v=this._polygon=null),h||this._initOrUpdateEndLabel(t,i,Zt(O));var D=m.getClipPath();if(D){var P=ba(this,i,!1,t);st(D,{shape:P.shape},t)}else m.setClipPath(ba(this,i,!0,t));k&&d.updateData(o,{isIgnore:I,clipShape:A,disableAnimation:!0,getSymbolPoint:function(le){return[c[le*2],c[le*2+1]]}}),(!io(this._stackedOnPoints,x)||!io(this._points,c))&&(g?this._doUpdateAnimation(o,x,i,a,T,b,w):(T&&(x&&(x=pt(x,c,i,T,w)),c=pt(c,null,i,T,w)),p.setShape({points:c}),v&&v.setShape({points:c,stackedOnPoints:x})))}var z=t.getModel("emphasis"),W=z.get("focus"),K=z.get("blurScope"),M=z.get("disabled");if(p.useStyle(Oe(l.getLineStyle(),{fill:"none",stroke:O,lineJoin:"bevel"})),Ar(p,t,"lineStyle"),p.style.lineWidth>0&&t.get(["emphasis","lineStyle","width"])==="bolder"){var R=p.getState("emphasis").style;R.lineWidth=+p.style.lineWidth+1}ye(p).seriesIndex=t.seriesIndex,jt(p,W,K,M);var B=lo(t.get("smooth")),F=t.get("smoothMonotone");if(p.setShape({smooth:B,smoothMonotone:F,connectNulls:w}),v){var V=o.getCalculationInfo("stackedOnSeries"),j=0;v.useStyle(Oe(u.getAreaStyle(),{fill:O,opacity:.7,lineJoin:"bevel",decal:o.getVisual("style").decal})),V&&(j=lo(V.get("smooth"))),v.setShape({smooth:B,stackedOnSmooth:j,smoothMonotone:F,connectNulls:w}),Ar(v,t,"areaStyle"),ye(v).seriesIndex=t.seriesIndex,jt(v,W,K,M)}var J=this._changePolyState;o.eachItemGraphicEl(function(le){le&&(le.onHoverStateChange=J)}),this._polyline.onHoverStateChange=J,this._data=o,this._coordSys=i,this._stackedOnPoints=x,this._points=c,this._step=T,this._valueOrigin=b,t.get("triggerLineEvent")&&(this.packEventData(t,p),v&&this.packEventData(t,v))},e.prototype.packEventData=function(t,n){ye(n).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},e.prototype.highlight=function(t,n,a,i){var s=t.getData(),o=za(s,i);if(this._changePolyState("emphasis"),!(o instanceof Array)&&o!=null&&o>=0){var l=s.getLayout("points"),u=s.getItemGraphicEl(o);if(!u){var c=l[o*2],h=l[o*2+1];if(isNaN(c)||isNaN(h)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(c,h))return;var f=t.get("zlevel")||0,d=t.get("z")||0;u=new Pi(s,o),u.x=c,u.y=h,u.setZ(f,d);var p=u.getSymbolPath().getTextContent();p&&(p.zlevel=f,p.z=d,p.z2=this._polyline.z2+1),u.__temp=!0,s.setItemGraphicEl(o,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else xt.prototype.highlight.call(this,t,n,a,i)},e.prototype.downplay=function(t,n,a,i){var s=t.getData(),o=za(s,i);if(this._changePolyState("normal"),o!=null&&o>=0){var l=s.getItemGraphicEl(o);l&&(l.__temp?(s.setItemGraphicEl(o,null),this.group.remove(l)):l.downplay())}else xt.prototype.downplay.call(this,t,n,a,i)},e.prototype._changePolyState=function(t){var n=this._polygon;us(this._polyline,t),n&&us(n,t)},e.prototype._newPolyline=function(t){var n=this._polyline;return n&&this._lineGroup.remove(n),n=new tg({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(n),this._polyline=n,n},e.prototype._newPolygon=function(t,n){var a=this._polygon;return a&&this._lineGroup.remove(a),a=new ng({shape:{points:t,stackedOnPoints:n},segmentIgnoreThreshold:2}),this._lineGroup.add(a),this._polygon=a,a},e.prototype._initSymbolLabelAnimation=function(t,n,a){var i,s,o=n.getBaseAxis(),l=o.inverse;n.type==="cartesian2d"?(i=o.isHorizontal(),s=!1):n.type==="polar"&&(i=o.dim==="angle",s=!0);var u=t.hostModel,c=u.get("animationDuration");ge(c)&&(c=c(null));var h=u.get("animationDelay")||0,f=ge(h)?h(null):h;t.eachItemGraphicEl(function(d,p){var v=d;if(v){var m=[d.x,d.y],g=void 0,y=void 0,b=void 0;if(a)if(s){var _=a,x=n.pointToCoord(m);i?(g=_.startAngle,y=_.endAngle,b=-x[1]/180*Math.PI):(g=_.r0,y=_.r,b=x[0])}else{var k=a;i?(g=k.x,y=k.x+k.width,b=d.x):(g=k.y+k.height,y=k.y,b=d.y)}var w=y===g?0:(b-g)/(y-g);l&&(w=1-w);var I=ge(h)?h(p):c*w+f,L=v.getSymbolPath(),T=L.getTextContent();v.attr({scaleX:0,scaleY:0}),v.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:I}),T&&T.animateFrom({style:{opacity:0}},{duration:300,delay:I}),L.disableLabelAnimation=!0}})},e.prototype._initOrUpdateEndLabel=function(t,n,a){var i=t.getModel("endLabel");if(Wu(t)){var s=t.getData(),o=this._polyline,l=s.getLayout("points");if(!l){o.removeTextContent(),this._endLabel=null;return}var u=this._endLabel;u||(u=this._endLabel=new At({z2:200}),u.ignoreClip=!0,o.setTextContent(this._endLabel),o.disableLabelAnimation=!0);var c=cg(l);c>=0&&(Rr(o,Er(t,"endLabel"),{inheritColor:a,labelFetcher:t,labelDataIndex:c,defaultText:function(h,f,d){return d!=null?Bu(s,d):Oi(s,h)},enableTextSetter:!0},fg(i,n)),o.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,n,a,i,s,o,l){var u=this._endLabel,c=this._polyline;if(u){t<1&&i.originalX==null&&(i.originalX=u.x,i.originalY=u.y);var h=a.getLayout("points"),f=a.hostModel,d=f.get("connectNulls"),p=o.get("precision"),v=o.get("distance")||0,m=l.getBaseAxis(),g=m.isHorizontal(),y=m.inverse,b=n.shape,_=y?g?b.x:b.y+b.height:g?b.x+b.width:b.y,x=(g?v:0)*(y?-1:1),k=(g?0:-v)*(y?-1:1),w=g?"x":"y",I=hg(h,_,w),L=I.range,T=L[1]-L[0],A=void 0;if(T>=1){if(T>1&&!d){var O=uo(h,L[0]);u.attr({x:O[0]+x,y:O[1]+k}),s&&(A=f.getRawValue(L[0]))}else{var O=c.getPointOn(_,w);O&&u.attr({x:O[0]+x,y:O[1]+k});var D=f.getRawValue(L[0]),P=f.getRawValue(L[1]);s&&(A=Jh(a,p,D,P,I.t))}i.lastFrameIndex=L[0]}else{var z=t===1||i.lastFrameIndex>0?L[0]:0,O=uo(h,z);s&&(A=f.getRawValue(z)),u.attr({x:O[0]+x,y:O[1]+k})}if(s){var W=Tl(u);typeof W.setLabelText=="function"&&W.setLabelText(A)}}},e.prototype._doUpdateAnimation=function(t,n,a,i,s,o,l){var u=this._polyline,c=this._polygon,h=t.hostModel,f=eg(this._data,t,this._stackedOnPoints,n,this._coordSys,a,this._valueOrigin),d=f.current,p=f.stackedOnCurrent,v=f.next,m=f.stackedOnNext;if(s&&(p=pt(f.stackedOnCurrent,f.current,a,s,l),d=pt(f.current,null,a,s,l),m=pt(f.stackedOnNext,f.next,a,s,l),v=pt(f.next,null,a,s,l)),oo(d,v)>3e3||c&&oo(p,m)>3e3){u.stopAnimation(),u.setShape({points:v}),c&&(c.stopAnimation(),c.setShape({points:v,stackedOnPoints:m}));return}u.shape.__points=f.current,u.shape.points=d;var g={shape:{points:v}};f.current!==d&&(g.shape.__points=f.next),u.stopAnimation(),Pe(u,g,h),c&&(c.setShape({points:d,stackedOnPoints:p}),c.stopAnimation(),Pe(c,{shape:{stackedOnPoints:m}},h),u.shape.points!==c.shape.points&&(c.shape.points=u.shape.points));for(var y=[],b=f.status,_=0;_<b.length;_++){var x=b[_].cmd;if(x==="="){var k=t.getItemGraphicEl(b[_].idx1);k&&y.push({el:k,ptIdx:_})}}u.animators&&u.animators.length&&u.animators[0].during(function(){c&&c.dirtyShape();for(var w=u.shape.__points,I=0;I<y.length;I++){var L=y[I].el,T=y[I].ptIdx*2;L.x=w[T],L.y=w[T+1],L.markRedraw()}})},e.prototype.remove=function(t){var n=this.group,a=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),a&&a.eachItemGraphicEl(function(i,s){i.__temp&&(n.remove(i),a.setItemGraphicEl(s,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e})(xt);function Ni(r,e){return{seriesType:r,plan:qn(),reset:function(t){var n=t.getData(),a=t.coordinateSystem,i=t.pipelineContext,s=e||i.large;if(a){var o=ie(a.dimensions,function(d){return n.mapDimension(d)}).slice(0,2),l=o.length,u=n.getCalculationInfo("stackResultDimension");Bt(n,o[0])&&(o[0]=u),Bt(n,o[1])&&(o[1]=u);var c=n.getStore(),h=n.getDimensionIndex(o[0]),f=n.getDimensionIndex(o[1]);return l&&{progress:function(d,p){for(var v=d.end-d.start,m=s&&Qe(v*l),g=[],y=[],b=d.start,_=0;b<d.end;b++){var x=void 0;if(l===1){var k=c.get(h,b);x=a.dataToPoint(k,null,y)}else g[0]=c.get(h,b),g[1]=c.get(f,b),x=a.dataToPoint(g,null,y);s?(m[_++]=x[0],m[_++]=x[1]):p.setItemLayout(b,x.slice())}s&&p.setLayout("points",m)}}}}}}var pg={average:function(r){for(var e=0,t=0,n=0;n<r.length;n++)isNaN(r[n])||(e+=r[n],t++);return t===0?NaN:e/t},sum:function(r){for(var e=0,t=0;t<r.length;t++)e+=r[t]||0;return e},max:function(r){for(var e=-1/0,t=0;t<r.length;t++)r[t]>e&&(e=r[t]);return isFinite(e)?e:NaN},min:function(r){for(var e=1/0,t=0;t<r.length;t++)r[t]<e&&(e=r[t]);return isFinite(e)?e:NaN},nearest:function(r){return r[0]}},vg=function(r){return Math.round(r.length/2)};function qu(r){return{seriesType:r,reset:function(e,t,n){var a=e.getData(),i=e.get("sampling"),s=e.coordinateSystem,o=a.count();if(o>10&&s.type==="cartesian2d"&&i){var l=s.getBaseAxis(),u=s.getOtherAxis(l),c=l.getExtent(),h=n.getDevicePixelRatio(),f=Math.abs(c[1]-c[0])*(h||1),d=Math.round(o/f);if(isFinite(d)&&d>1){i==="lttb"?e.setData(a.lttbDownSample(a.mapDimension(u.dim),1/d)):i==="minmax"&&e.setData(a.minmaxDownSample(a.mapDimension(u.dim),1/d));var p=void 0;fe(i)?p=pg[i]:ge(i)&&(p=i),p&&e.setData(a.downSample(a.mapDimension(u.dim),1/d,p,vg))}}}}}function gg(r){r.registerChartView(dg),r.registerSeriesModel(Yv),r.registerLayout(Ni("line",!0)),r.registerVisual({seriesType:"line",reset:function(e){var t=e.getData(),n=e.getModel("lineStyle").getLineStyle();n&&!n.stroke&&(n.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",n)}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,qu("line"))}var Qa=(function(r){Y(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(t,n){return Qn(null,this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(t,n,a){var i=this.coordinateSystem;if(i&&i.clampData){var s=i.clampData(t),o=i.dataToPoint(s);if(a)E(i.getAxes(),function(f,d){if(f.type==="category"&&n!=null){var p=f.getTicksCoords(),v=f.getTickModel().get("alignWithLabel"),m=s[d],g=n[d]==="x1"||n[d]==="y1";if(g&&!v&&(m+=1),p.length<2)return;if(p.length===2){o[d]=f.toGlobalCoord(f.getExtent()[g?1:0]);return}for(var y=void 0,b=void 0,_=1,x=0;x<p.length;x++){var k=p[x].coord,w=x===p.length-1?p[x-1].tickValue+_:p[x].tickValue;if(w===m){b=k;break}else if(w<m)y=k;else if(y!=null&&w>m){b=(k+y)/2;break}x===1&&(_=w-p[0].tickValue)}b==null&&(y?y&&(b=p[p.length-1].coord):b=p[0].coord),o[d]=f.toGlobalCoord(b)}});else{var l=this.getData(),u=l.getLayout("offset"),c=l.getLayout("size"),h=i.getBaseAxis().isHorizontal()?0:1;o[h]+=u+c/2}return o}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",defaultBarGap:"10%"},e})(Pt);Pt.registerClass(Qa);var mg=(function(r){Y(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(){return Qn(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},e.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),n=this.get("largeThreshold");return n>t&&(t=n),t},e.prototype.brushSelector=function(t,n,a){return a.rect(n.getItemLayout(t))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=Ll(Qa.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:ee.color.primary,borderWidth:2}},realtimeSort:!1}),e})(Qa),yg=(function(){function r(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return r})(),co=(function(r){Y(e,r);function e(t){var n=r.call(this,t)||this;return n.type="sausage",n}return e.prototype.getDefaultShape=function(){return new yg},e.prototype.buildPath=function(t,n){var a=n.cx,i=n.cy,s=Math.max(n.r0||0,0),o=Math.max(n.r,0),l=(o-s)*.5,u=s+l,c=n.startAngle,h=n.endAngle,f=n.clockwise,d=Math.PI*2,p=f?h-c<d:c-h<d;p||(c=h-(f?d:-d));var v=Math.cos(c),m=Math.sin(c),g=Math.cos(h),y=Math.sin(h);p?(t.moveTo(v*s+a,m*s+i),t.arc(v*u+a,m*u+i,l,-Math.PI+c,c,!f)):t.moveTo(v*o+a,m*o+i),t.arc(a,i,o,c,h,!f),t.arc(g*u+a,y*u+i,l,h-Math.PI*2,h-Math.PI,!f),s!==0&&t.arc(a,i,s,h,c,f)},e})(zt);function bg(r,e){e=e||{};var t=e.isRoundCap;return function(n,a,i){var s=a.position;if(!s||s instanceof Array)return hs(n,a,i);var o=r(s),l=a.distance!=null?a.distance:5,u=this.shape,c=u.cx,h=u.cy,f=u.r,d=u.r0,p=(f+d)/2,v=u.startAngle,m=u.endAngle,g=(v+m)/2,y=t?Math.abs(f-d)/2:0,b=Math.cos,_=Math.sin,x=c+f*b(v),k=h+f*_(v),w="left",I="top";switch(o){case"startArc":x=c+(d-l)*b(g),k=h+(d-l)*_(g),w="center",I="top";break;case"insideStartArc":x=c+(d+l)*b(g),k=h+(d+l)*_(g),w="center",I="bottom";break;case"startAngle":x=c+p*b(v)+nn(v,l+y,!1),k=h+p*_(v)+an(v,l+y,!1),w="right",I="middle";break;case"insideStartAngle":x=c+p*b(v)+nn(v,-l+y,!1),k=h+p*_(v)+an(v,-l+y,!1),w="left",I="middle";break;case"middle":x=c+p*b(g),k=h+p*_(g),w="center",I="middle";break;case"endArc":x=c+(f+l)*b(g),k=h+(f+l)*_(g),w="center",I="bottom";break;case"insideEndArc":x=c+(f-l)*b(g),k=h+(f-l)*_(g),w="center",I="top";break;case"endAngle":x=c+p*b(m)+nn(m,l+y,!0),k=h+p*_(m)+an(m,l+y,!0),w="left",I="middle";break;case"insideEndAngle":x=c+p*b(m)+nn(m,-l+y,!0),k=h+p*_(m)+an(m,-l+y,!0),w="right",I="middle";break;default:return hs(n,a,i)}return n=n||{},n.x=x,n.y=k,n.align=w,n.verticalAlign=I,n}}function xg(r,e,t,n){if(St(n)){r.setTextConfig({rotation:n});return}else if(ne(e)){r.setTextConfig({rotation:0});return}var a=r.shape,i=a.clockwise?a.startAngle:a.endAngle,s=a.clockwise?a.endAngle:a.startAngle,o=(i+s)/2,l,u=t(e);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=o;break;case"startAngle":case"insideStartAngle":l=i;break;case"endAngle":case"insideEndAngle":l=s;break;default:r.setTextConfig({rotation:0});return}var c=Math.PI*1.5-l;u==="middle"&&c>Math.PI/2&&c<Math.PI*1.5&&(c-=Math.PI),r.setTextConfig({rotation:c})}function nn(r,e,t){return e*Math.sin(r)*(t?-1:1)}function an(r,e,t){return e*Math.cos(r)*(t?1:-1)}function _g(r,e,t){var n=r.get("borderRadius");if(n==null)return{cornerRadius:0};ne(n)||(n=[n,n,n,n]);var a=Math.abs(e.r||0-e.r0||0);return{cornerRadius:ie(n,function(i){return Na(i,a)})}}var xa=Math.max,_a=Math.min;function Sg(r,e){var t=r.getArea&&r.getArea();if(Fr(r,"cartesian2d")){var n=r.getBaseAxis();if(n.type!=="category"||!n.onBand){var a=e.getLayout("bandWidth");n.isHorizontal()?(t.x-=a,t.width+=a*2):(t.y-=a,t.height+=a*2)}}return t}var wg=(function(r){Y(e,r);function e(){var t=r.call(this)||this;return t.type=e.type,t._isFirstFrame=!0,t}return e.prototype.render=function(t,n,a,i){this._model=t,this._removeOnRenderedListener(a),this._updateDrawMode(t);var s=t.get("coordinateSystem");(s==="cartesian2d"||s==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(t,n,a):this._renderNormal(t,n,a,i))},e.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},e.prototype.incrementalRender=function(t,n){this._progressiveEls=[],this._incrementalRenderLarge(t,n)},e.prototype.eachRendered=function(t){yi(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var n=t.pipelineContext.large;(this._isLargeDraw==null||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},e.prototype._renderNormal=function(t,n,a,i){var s=this.group,o=t.getData(),l=this._data,u=t.coordinateSystem,c=u.getBaseAxis(),h;u.type==="cartesian2d"?h=c.isHorizontal():u.type==="polar"&&(h=c.dim==="angle");var f=t.isAnimationEnabled()?t:null,d=kg(t,u);d&&this._enableRealtimeSort(d,o,a);var p=t.get("clip",!0)||d,v=Sg(u,o);s.removeClipPath();var m=t.get("roundCap",!0),g=t.get("showBackground",!0),y=t.getModel("backgroundStyle"),b=y.get("borderRadius")||0,_=[],x=this._backgroundEls,k=i&&i.isInitSort,w=i&&i.type==="changeAxisOrder";function I(A){var O=sn[u.type](o,A);if(!O)return null;var D=Mg(u,h,O);return D.useStyle(y.getItemStyle()),u.type==="cartesian2d"?D.setShape("r",b):D.setShape("cornerRadius",b),_[A]=D,D}o.diff(l).add(function(A){var O=o.getItemModel(A),D=sn[u.type](o,A,O);if(D&&(g&&I(A),!(!o.hasValue(A)||!go[u.type](D)))){var P=!1;p&&(P=ho[u.type](v,D));var z=fo[u.type](t,o,A,D,h,f,c.model,!1,m);d&&(z.forceLabelAnimation=!0),mo(z,o,A,O,D,t,h,u.type==="polar"),k?z.attr({shape:D}):d?po(d,f,z,D,A,h,!1,!1):st(z,{shape:D},t,A),o.setItemGraphicEl(A,z),s.add(z),z.ignore=P}}).update(function(A,O){var D=o.getItemModel(A),P=sn[u.type](o,A,D);if(P){if(g){var z=void 0;x.length===0?z=I(O):(z=x[O],z.useStyle(y.getItemStyle()),u.type==="cartesian2d"?z.setShape("r",b):z.setShape("cornerRadius",b),_[A]=z);var W=sn[u.type](o,A),K=Zu(h,W,u);Pe(z,{shape:K},f,A)}var M=l.getItemGraphicEl(O);if(!o.hasValue(A)||!go[u.type](P)){s.remove(M);return}var R=!1;p&&(R=ho[u.type](v,P),R&&s.remove(M));var B=M&&(M.type==="sector"&&m||M.type==="sausage"&&!m);if(B&&(M&&ia(M,t,O),M=null),M?mi(M):M=fo[u.type](t,o,A,P,h,f,c.model,!0,m),d&&(M.forceLabelAnimation=!0),w){var F=M.getTextContent();if(F){var V=Tl(F);V.prevValue!=null&&(V.prevValue=V.value)}}else mo(M,o,A,D,P,t,h,u.type==="polar");k?M.attr({shape:P}):d?po(d,f,M,P,A,h,!0,w):Pe(M,{shape:P},t,A,null),o.setItemGraphicEl(A,M),M.ignore=R,s.add(M)}}).remove(function(A){var O=l.getItemGraphicEl(A);O&&ia(O,t,A)}).execute();var L=this._backgroundGroup||(this._backgroundGroup=new Me);L.removeAll();for(var T=0;T<_.length;++T)L.add(_[T]);s.add(L),this._backgroundEls=_,this._data=o},e.prototype._renderLarge=function(t,n,a){this._clear(),bo(t,this.group),this._updateLargeClip(t)},e.prototype._incrementalRenderLarge=function(t,n){this._removeBackground(),bo(n,this.group,this._progressiveEls,!0)},e.prototype._updateLargeClip=function(t){var n=t.get("clip",!0)&&Uu(t.coordinateSystem,!1,t),a=this.group;n?a.setClipPath(n):a.removeClipPath()},e.prototype._enableRealtimeSort=function(t,n,a){var i=this;if(n.count()){var s=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(n,t,a),this._isFirstFrame=!1;else{var o=function(l){var u=n.getItemGraphicEl(l),c=u&&u.shape;return c&&Math.abs(s.isHorizontal()?c.height:c.width)||0};this._onRendered=function(){i._updateSortWithinSameData(n,o,s,a)},a.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(t,n,a){var i=[];return t.each(t.mapDimension(n.dim),function(s,o){var l=a(o);l=l??NaN,i.push({dataIndex:o,mappedValue:l,ordinalNumber:s})}),i.sort(function(s,o){return o.mappedValue-s.mappedValue}),{ordinalNumbers:ie(i,function(s){return s.ordinalNumber})}},e.prototype._isOrderChangedWithinSameData=function(t,n,a){for(var i=a.scale,s=t.mapDimension(a.dim),o=Number.MAX_VALUE,l=0,u=i.getOrdinalMeta().categories.length;l<u;++l){var c=t.rawIndexOf(s,i.getRawOrdinalNumber(l)),h=c<0?Number.MIN_VALUE:n(t.indexOfRawIndex(c));if(h>o)return!0;o=h}return!1},e.prototype._isOrderDifferentInView=function(t,n){for(var a=n.scale,i=a.getExtent(),s=Math.max(0,i[0]),o=Math.min(i[1],a.getOrdinalMeta().categories.length-1);s<=o;++s)if(t.ordinalNumbers[s]!==a.getRawOrdinalNumber(s))return!0},e.prototype._updateSortWithinSameData=function(t,n,a,i){if(this._isOrderChangedWithinSameData(t,n,a)){var s=this._dataSort(t,a,n);this._isOrderDifferentInView(s,a)&&(this._removeOnRenderedListener(i),i.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",axisId:a.index,sortInfo:s}))}},e.prototype._dispatchInitSort=function(t,n,a){var i=n.baseAxis,s=this._dataSort(t,i,function(o){return t.get(t.mapDimension(n.otherAxis.dim),o)});a.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",isInitSort:!0,axisId:i.index,sortInfo:s})},e.prototype.remove=function(t,n){this._clear(this._model),this._removeOnRenderedListener(n)},e.prototype.dispose=function(t,n){this._removeOnRenderedListener(n)},e.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(t){var n=this.group,a=this._data;t&&t.isAnimationEnabled()&&a&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],a.eachItemGraphicEl(function(i){ia(i,t,ye(i).dataIndex)})):n.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e})(xt),ho={cartesian2d:function(r,e){var t=e.width<0?-1:1,n=e.height<0?-1:1;t<0&&(e.x+=e.width,e.width=-e.width),n<0&&(e.y+=e.height,e.height=-e.height);var a=r.x+r.width,i=r.y+r.height,s=xa(e.x,r.x),o=_a(e.x+e.width,a),l=xa(e.y,r.y),u=_a(e.y+e.height,i),c=o<s,h=u<l;return e.x=c&&s>a?o:s,e.y=h&&l>i?u:l,e.width=c?0:o-s,e.height=h?0:u-l,t<0&&(e.x+=e.width,e.width=-e.width),n<0&&(e.y+=e.height,e.height=-e.height),c||h},polar:function(r,e){var t=e.r0<=e.r?1:-1;if(t<0){var n=e.r;e.r=e.r0,e.r0=n}var a=_a(e.r,r.r),i=xa(e.r0,r.r0);e.r=a,e.r0=i;var s=a-i<0;if(t<0){var n=e.r;e.r=e.r0,e.r0=n}return s}},fo={cartesian2d:function(r,e,t,n,a,i,s,o,l){var u=new Xe({shape:he({},n),z2:1});if(u.__dataIndex=t,u.name="item",i){var c=u.shape,h=a?"height":"width";c[h]=0}return u},polar:function(r,e,t,n,a,i,s,o,l){var u=!a&&l?co:bi,c=new u({shape:n,z2:1});c.name="item";var h=ju(a);if(c.calculateTextPosition=bg(h,{isRoundCap:u===co}),i){var f=c.shape,d=a?"r":"endAngle",p={};f[d]=a?n.r0:n.startAngle,p[d]=n[d],(o?Pe:st)(c,{shape:p},i)}return c}};function kg(r,e){var t=r.get("realtimeSort",!0),n=e.getBaseAxis();if(t&&n.type==="category"&&e.type==="cartesian2d")return{baseAxis:n,otherAxis:e.getOtherAxis(n)}}function po(r,e,t,n,a,i,s,o){var l,u;i?(u={x:n.x,width:n.width},l={y:n.y,height:n.height}):(u={y:n.y,height:n.height},l={x:n.x,width:n.width}),o||(s?Pe:st)(t,{shape:l},e,a,null);var c=e?r.baseAxis.model:null;(s?Pe:st)(t,{shape:u},c,a)}function vo(r,e){for(var t=0;t<e.length;t++)if(!isFinite(r[e[t]]))return!0;return!1}var Ag=["x","y","width","height"],Cg=["cx","cy","r","startAngle","endAngle"],go={cartesian2d:function(r){return!vo(r,Ag)},polar:function(r){return!vo(r,Cg)}},sn={cartesian2d:function(r,e,t){var n=r.getItemLayout(e);if(!n)return null;var a=t?Tg(t,n):0,i=n.width>0?1:-1,s=n.height>0?1:-1;return{x:n.x+i*a/2,y:n.y+s*a/2,width:n.width-i*a,height:n.height-s*a}},polar:function(r,e,t){var n=r.getItemLayout(e);return{cx:n.cx,cy:n.cy,r0:n.r0,r:n.r,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}}};function Dg(r){return r.startAngle!=null&&r.endAngle!=null&&r.startAngle===r.endAngle}function ju(r){return(function(e){var t=e?"Arc":"Angle";return function(n){switch(n){case"start":case"insideStart":case"end":case"insideEnd":return n+t;default:return n}}})(r)}function mo(r,e,t,n,a,i,s,o){var l=e.getItemVisual(t,"style");if(o){if(!i.get("roundCap")){var c=r.shape,h=_g(n.getModel("itemStyle"),c);he(c,h),r.setShape(c)}}else{var u=n.get(["itemStyle","borderRadius"])||0;r.setShape("r",u)}r.useStyle(l);var f=n.getShallow("cursor");f&&r.attr("cursor",f);var d=o?s?a.r>=a.r0?"endArc":"startArc":a.endAngle>=a.startAngle?"endAngle":"startAngle":s?a.height>=0?"bottom":"top":a.width>=0?"right":"left",p=Er(n);Rr(r,p,{labelFetcher:i,labelDataIndex:t,defaultText:Oi(i.getData(),t),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:d});var v=r.getTextContent();if(o&&v){var m=n.get(["label","position"]);r.textConfig.inside=m==="middle"?!0:null,xg(r,m==="outside"?d:m,ju(s),n.get(["label","rotate"]))}tf(v,p,i.getRawValue(t),function(y){return Bu(e,y)});var g=n.getModel(["emphasis"]);jt(r,g.get("focus"),g.get("blurScope"),g.get("disabled")),Ar(r,n),Dg(a)&&(r.style.fill="none",r.style.stroke="none",E(r.states,function(y){y.style&&(y.style.fill=y.style.stroke="none")}))}function Tg(r,e){var t=r.get(["itemStyle","borderColor"]);if(!t||t==="none")return 0;var n=r.get(["itemStyle","borderWidth"])||0,a=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),i=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(n,a,i)}var Lg=(function(){function r(){}return r})(),yo=(function(r){Y(e,r);function e(t){var n=r.call(this,t)||this;return n.type="largeBar",n}return e.prototype.getDefaultShape=function(){return new Lg},e.prototype.buildPath=function(t,n){for(var a=n.points,i=this.baseDimIdx,s=1-this.baseDimIdx,o=[],l=[],u=this.barWidth,c=0;c<a.length;c+=3)l[i]=u,l[s]=a[c+2],o[i]=a[c+i],o[s]=a[c+s],t.rect(o[0],o[1],l[0],l[1])},e})(zt);function bo(r,e,t,n){var a=r.getData(),i=a.getLayout("valueAxisHorizontal")?1:0,s=a.getLayout("largeDataIndices"),o=a.getLayout("size"),l=r.getModel("backgroundStyle"),u=a.getLayout("largeBackgroundPoints");if(u){var c=new yo({shape:{points:u},incremental:!!n,silent:!0,z2:0});c.baseDimIdx=i,c.largeDataIndices=s,c.barWidth=o,c.useStyle(l.getItemStyle()),e.add(c),t&&t.push(c)}var h=new yo({shape:{points:a.getLayout("largePoints")},incremental:!!n,ignoreCoarsePointer:!0,z2:1});h.baseDimIdx=i,h.largeDataIndices=s,h.barWidth=o,e.add(h),h.useStyle(a.getVisual("style")),h.style.stroke=null,ye(h).seriesIndex=r.seriesIndex,r.get("silent")||(h.on("mousedown",xo),h.on("mousemove",xo)),t&&t.push(h)}var xo=rf(function(r){var e=this,t=Ig(e,r.offsetX,r.offsetY);ye(e).dataIndex=t>=0?t:null},30,!1);function Ig(r,e,t){for(var n=r.baseDimIdx,a=1-n,i=r.shape.points,s=r.largeDataIndices,o=[],l=[],u=r.barWidth,c=0,h=i.length/3;c<h;c++){var f=c*3;if(l[n]=u,l[a]=i[f+2],o[n]=i[f+n],o[a]=i[f+a],l[a]<0&&(o[a]+=l[a],l[a]=-l[a]),e>=o[0]&&e<=o[0]+l[0]&&t>=o[1]&&t<=o[1]+l[1])return s[c]}return-1}function Zu(r,e,t){if(Fr(t,"cartesian2d")){var n=e,a=t.getArea();return{x:r?n.x:a.x,y:r?a.y:n.y,width:r?n.width:a.width,height:r?a.height:n.height}}else{var a=t.getArea(),i=e;return{cx:a.cx,cy:a.cy,r0:r?a.r0:i.r0,r:r?a.r:i.r,startAngle:r?i.startAngle:0,endAngle:r?i.endAngle:Math.PI*2}}}function Mg(r,e,t){var n=r.type==="polar"?bi:Xe;return new n({shape:Zu(e,t,r),silent:!0,z2:0})}function Eg(r){r.registerChartView(wg),r.registerSeriesModel(mg),r.registerLayout(r.PRIORITY.VISUAL.LAYOUT,ve(rv,"bar")),r.registerLayout(r.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,nv("bar")),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,qu("bar")),r.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(e,t){var n=e.componentType||"series";t.eachComponent({mainType:n,query:e},function(a){e.sortInfo&&a.axis.setCategorySortInfo(e.sortInfo)})})}function Rg(r,e,t){e=ne(e)&&{coordDimensions:e}||he({encodeDefine:r.getEncode()},e);var n=r.getSource(),a=vu(n,e).dimensions,i=new Rn(a,r);return i.initData(n,t),i}var Og=(function(r){Y(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t,n){return Qn(null,this,{useEncodeDefaulter:!0})},e.prototype.getProgressive=function(){var t=this.option.progressive;return t??(this.option.large?5e3:this.get("progressive"))},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return t??(this.option.large?1e4:this.get("progressiveThreshold"))},e.prototype.brushSelector=function(t,n,a){return a.point(n.getItemLayout(t))},e.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},e.type="series.scatter",e.dependencies=["grid","polar","geo","singleAxis","calendar","matrix"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:ee.color.primary}},universalTransition:{divideShape:"clone"}},e})(Pt),Xu=4,Pg=(function(){function r(){}return r})(),Ng=(function(r){Y(e,r);function e(t){var n=r.call(this,t)||this;return n._off=0,n.hoverDataIdx=-1,n}return e.prototype.getDefaultShape=function(){return new Pg},e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.buildPath=function(t,n){var a=n.points,i=n.size,s=this.symbolProxy,o=s.shape,l=t.getContext?t.getContext():t,u=l&&i[0]<Xu,c=this.softClipShape,h;if(u){this._ctx=l;return}for(this._ctx=null,h=this._off;h<a.length;){var f=a[h++],d=a[h++];isNaN(f)||isNaN(d)||c&&!c.contain(f,d)||(o.x=f-i[0]/2,o.y=d-i[1]/2,o.width=i[0],o.height=i[1],s.buildPath(t,o,!0))}this.incremental&&(this._off=h,this.notClear=!0)},e.prototype.afterBrush=function(){var t=this.shape,n=t.points,a=t.size,i=this._ctx,s=this.softClipShape,o;if(i){for(o=this._off;o<n.length;){var l=n[o++],u=n[o++];isNaN(l)||isNaN(u)||s&&!s.contain(l,u)||i.fillRect(l-a[0]/2,u-a[1]/2,a[0],a[1])}this.incremental&&(this._off=o,this.notClear=!0)}},e.prototype.findDataIndex=function(t,n){for(var a=this.shape,i=a.points,s=a.size,o=Math.max(s[0],4),l=Math.max(s[1],4),u=i.length/2-1;u>=0;u--){var c=u*2,h=i[c]-o/2,f=i[c+1]-l/2;if(t>=h&&n>=f&&t<=h+o&&n<=f+l)return u}return-1},e.prototype.contain=function(t,n){var a=this.transformCoordToLocal(t,n),i=this.getBoundingRect();if(t=a[0],n=a[1],i.contain(t,n)){var s=this.hoverDataIdx=this.findDataIndex(t,n);return s>=0}return this.hoverDataIdx=-1,!1},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var n=this.shape,a=n.points,i=n.size,s=i[0],o=i[1],l=1/0,u=1/0,c=-1/0,h=-1/0,f=0;f<a.length;){var d=a[f++],p=a[f++];l=Math.min(d,l),c=Math.max(d,c),u=Math.min(p,u),h=Math.max(p,h)}t=this._rect=new Be(l-s/2,u-o/2,c-l+s,h-u+o)}return t},e})(zt),Bg=(function(){function r(){this.group=new Me}return r.prototype.updateData=function(e,t){this._clear();var n=this._create();n.setShape({points:e.getLayout("points")}),this._setCommon(n,e,t)},r.prototype.updateLayout=function(e){var t=e.getLayout("points");this.group.eachChild(function(n){if(n.startIndex!=null){var a=(n.endIndex-n.startIndex)*2,i=n.startIndex*4*2;t=new Float32Array(t.buffer,i,a)}n.setShape("points",t),n.reset()})},r.prototype.incrementalPrepareUpdate=function(e){this._clear()},r.prototype.incrementalUpdate=function(e,t,n){var a=this._newAdded[0],i=t.getLayout("points"),s=a&&a.shape.points;if(s&&s.length<2e4){var o=s.length,l=new Float32Array(o+i.length);l.set(s),l.set(i,o),a.endIndex=e.end,a.setShape({points:l})}else{this._newAdded=[];var u=this._create();u.startIndex=e.start,u.endIndex=e.end,u.incremental=!0,u.setShape({points:i}),this._setCommon(u,t,n)}},r.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},r.prototype._create=function(){var e=new Ng({cursor:"default"});return e.ignoreCoarsePointer=!0,this.group.add(e),this._newAdded.push(e),e},r.prototype._setCommon=function(e,t,n){var a=t.hostModel;n=n||{};var i=t.getVisual("symbolSize");e.setShape("size",i instanceof Array?i:[i,i]),e.softClipShape=n.clipShape||null,e.symbolProxy=qt(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var s=e.shape.size[0]<Xu;e.useStyle(a.getModel("itemStyle").getItemStyle(s?["color","shadowBlur","shadowColor"]:["color"]));var o=t.getVisual("style"),l=o&&o.fill;l&&e.setColor(l);var u=ye(e);u.seriesIndex=a.seriesIndex,e.on("mousemove",function(c){u.dataIndex=null;var h=e.hoverDataIdx;h>=0&&(u.dataIndex=h+(e.startIndex||0))})},r.prototype.remove=function(){this._clear()},r.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},r})(),$g=(function(r){Y(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,a){var i=t.getData(),s=this._updateSymbolDraw(i,t);s.updateData(i,{clipShape:this._getClipShape(t)}),this._finished=!0},e.prototype.incrementalPrepareRender=function(t,n,a){var i=t.getData(),s=this._updateSymbolDraw(i,t);s.incrementalPrepareUpdate(i),this._finished=!1},e.prototype.incrementalRender=function(t,n,a){this._symbolDraw.incrementalUpdate(t,n.getData(),{clipShape:this._getClipShape(n)}),this._finished=t.end===n.getData().count()},e.prototype.updateTransform=function(t,n,a){var i=t.getData();if(this.group.dirty(),!this._finished||i.count()>1e4)return{update:!0};var s=Ni("").reset(t,n,a);s.progress&&s.progress({start:0,end:i.count(),count:i.count()},i),this._symbolDraw.updateLayout(i)},e.prototype.eachRendered=function(t){this._symbolDraw&&this._symbolDraw.eachRendered(t)},e.prototype._getClipShape=function(t){if(t.get("clip",!0)){var n=t.coordinateSystem;return n&&n.getArea&&n.getArea(.1)}},e.prototype._updateSymbolDraw=function(t,n){var a=this._symbolDraw,i=n.pipelineContext,s=i.large;return(!a||s!==this._isLargeDraw)&&(a&&a.remove(),a=this._symbolDraw=s?new Bg:new $u,this._isLargeDraw=s,this.group.removeAll()),this.group.add(a.group),a},e.prototype.remove=function(t,n){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},e.prototype.dispose=function(){},e.type="scatter",e})(xt),Yu={left:0,right:0,top:0,bottom:0},$n=["25%","25%"],zg=(function(r){Y(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.mergeDefaultAndTheme=function(t,n){var a=xi(t.outerBounds);r.prototype.mergeDefaultAndTheme.apply(this,arguments),a&&t.outerBounds&&Cn(t.outerBounds,a)},e.prototype.mergeOption=function(t,n){r.prototype.mergeOption.apply(this,arguments),this.option.outerBounds&&t.outerBounds&&Cn(this.option.outerBounds,t.outerBounds)},e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"15%",top:65,right:"10%",bottom:80,containLabel:!1,outerBoundsMode:"auto",outerBounds:Yu,outerBoundsContain:"all",outerBoundsClampWidth:$n[0],outerBoundsClampHeight:$n[1],backgroundColor:ee.color.transparent,borderWidth:1,borderColor:ee.color.neutral30},e})(it),ei=(function(r){Y(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",nt).models[0]},e.type="cartesian2dAxis",e})(it);_i(ei,kv);var Ku={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:ee.color.axisLine,width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15],breakLine:!0},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12,color:ee.color.axisLabel,textMargin:[0,3]},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:ee.color.axisSplitLine,width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:[ee.color.backgroundTint,ee.color.backgroundTransparent]}},breakArea:{show:!0,itemStyle:{color:ee.color.neutral00,borderColor:ee.color.border,borderWidth:1,borderType:[3,3],opacity:.6},zigzagAmplitude:4,zigzagMinSpan:4,zigzagMaxSpan:20,zigzagZ:100,expandOnClick:!0},breakLabelLayout:{moveOverlap:"auto"}},Fg=$e({boundaryGap:!0,deduplication:null,jitter:0,jitterOverlap:!0,jitterMargin:2,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto",show:"auto"},axisLabel:{interval:"auto"}},Ku),Bi=$e({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:ee.color.axisMinorSplitLine,width:1}}},Ku),Hg=$e({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},Bi),Gg=Oe({logBase:10},Bi);const Vg={category:Fg,value:Bi,time:Hg,log:Gg};var Ug={value:1,category:1,time:1,log:1},Wg=null;function qg(){return Wg}function _o(r,e,t,n){E(Ug,function(a,i){var s=$e($e({},Vg[i],!0),n,!0),o=(function(l){Y(u,l);function u(){var c=l!==null&&l.apply(this,arguments)||this;return c.type=e+"Axis."+i,c}return u.prototype.mergeDefaultAndTheme=function(c,h){var f=nf(this),d=f?xi(c):{},p=h.getTheme();$e(c,p.get(i+"Axis")),$e(c,this.getDefaultOption()),c.type=So(c),f&&Cn(c,d,f)},u.prototype.optionUpdated=function(){var c=this.option;c.type==="category"&&(this.__ordinalMeta=Xa.createByAxisModel(this))},u.prototype.getCategories=function(c){var h=this.option;if(h.type==="category")return c?h.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.prototype.updateAxisBreaks=function(c){return{breaks:[]}},u.type=e+"Axis."+i,u.defaultOption=s,u})(t);r.registerComponentModel(o)}),r.registerSubTypeDefaulter(e+"Axis",So)}function So(r){return r.type||(r.data?"category":"value")}var jg=(function(){function r(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return r.prototype.getAxis=function(e){return this._axes[e]},r.prototype.getAxes=function(){return ie(this._dimList,function(e){return this._axes[e]},this)},r.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),wt(this.getAxes(),function(t){return t.scale.type===e})},r.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},r})(),ti=["x","y"];function wo(r){return(r.type==="interval"||r.type==="time")&&!r.hasBreaks()}var Zg=(function(r){Y(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=ti,t}return e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,n=this.getAxis("y").scale;if(!(!wo(t)||!wo(n))){var a=t.getExtent(),i=n.getExtent(),s=this.dataToPoint([a[0],i[0]]),o=this.dataToPoint([a[1],i[1]]),l=a[1]-a[0],u=i[1]-i[0];if(!(!l||!u)){var c=(o[0]-s[0])/l,h=(o[1]-s[1])/u,f=s[0]-a[0]*c,d=s[1]-i[0]*h,p=this._transform=[c,0,0,h,f,d];this._invTransform=Il([],p)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var n=this.getAxis("x"),a=this.getAxis("y");return n.contain(n.toLocalCoord(t[0]))&&a.contain(a.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.containZone=function(t,n){var a=this.dataToPoint(t),i=this.dataToPoint(n),s=this.getArea(),o=new Be(a[0],a[1],i[0]-a[0],i[1]-a[1]);return s.intersect(o)},e.prototype.dataToPoint=function(t,n,a){a=a||[];var i=t[0],s=t[1];if(this._transform&&i!=null&&isFinite(i)&&s!=null&&isFinite(s))return Xt(a,t,this._transform);var o=this.getAxis("x"),l=this.getAxis("y");return a[0]=o.toGlobalCoord(o.dataToCoord(i,n)),a[1]=l.toGlobalCoord(l.dataToCoord(s,n)),a},e.prototype.clampData=function(t,n){var a=this.getAxis("x").scale,i=this.getAxis("y").scale,s=a.getExtent(),o=i.getExtent(),l=a.parse(t[0]),u=i.parse(t[1]);return n=n||[],n[0]=Math.min(Math.max(Math.min(s[0],s[1]),l),Math.max(s[0],s[1])),n[1]=Math.min(Math.max(Math.min(o[0],o[1]),u),Math.max(o[0],o[1])),n},e.prototype.pointToData=function(t,n,a){if(a=a||[],this._invTransform)return Xt(a,t,this._invTransform);var i=this.getAxis("x"),s=this.getAxis("y");return a[0]=i.coordToData(i.toLocalCoord(t[0]),n),a[1]=s.coordToData(s.toLocalCoord(t[1]),n),a},e.prototype.getOtherAxis=function(t){return this.getAxis(t.dim==="x"?"y":"x")},e.prototype.getArea=function(t){t=t||0;var n=this.getAxis("x").getGlobalExtent(),a=this.getAxis("y").getGlobalExtent(),i=Math.min(n[0],n[1])-t,s=Math.min(a[0],a[1])-t,o=Math.max(n[0],n[1])-i+t,l=Math.max(a[0],a[1])-s+t;return new Be(i,s,o,l)},e})(jg),Xg=(function(r){Y(e,r);function e(t,n,a,i,s){var o=r.call(this,t,n,a)||this;return o.index=0,o.type=i||"value",o.position=s||"bottom",o}return e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},e.prototype.getGlobalExtent=function(t){var n=this.getExtent();return n[0]=this.toGlobalCoord(n[0]),n[1]=this.toGlobalCoord(n[1]),t&&n[0]>n[1]&&n.reverse(),n},e.prototype.pointToData=function(t,n){return this.coordToData(this.toLocalCoord(t[this.dim==="x"?0:1]),n)},e.prototype.setCategorySortInfo=function(t){if(this.type!=="category")return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e})($v),Yg="expandAxisBreak",bt=Math.PI,Kg=[[1,2,1,2],[5,3,5,3],[8,3,8,3]],Jg=[[0,1,0,1],[0,3,0,3],[0,3,0,3]],Ir=Fe(),Ju=Fe(),Qu=(function(){function r(e){this.recordMap={},this.resolveAxisNameOverlap=e}return r.prototype.ensureRecord=function(e){var t=e.axis.dim,n=e.componentIndex,a=this.recordMap,i=a[t]||(a[t]=[]);return i[n]||(i[n]={ready:{}})},r})();function Qg(r,e,t,n){var a=t.axis,i=e.ensureRecord(t),s=[],o,l=$i(r.axisName)&&Qt(r.nameLocation);E(n,function(p){var v=Ct(p);if(!(!v||v.label.ignore)){s.push(v);var m=i.transGroup;l&&(m.transform?Il(dr,m.transform):sf(dr),v.transform&&of(dr,dr,v.transform),Be.copy(on,v.localRect),on.applyTransform(dr),o?o.union(on):Be.copy(o=new Be(0,0,0,0),on))}});var u=Math.abs(i.dirVec.x)>.1?"x":"y",c=i.transGroup[u];if(s.sort(function(p,v){return Math.abs(p.label[u]-c)-Math.abs(v.label[u]-c)}),l&&o){var h=a.getExtent(),f=Math.min(h[0],h[1]),d=Math.max(h[0],h[1])-f;o.union(new Be(f,0,d,1))}i.stOccupiedRect=o,i.labelInfoList=s}var dr=wi(),on=new Be(0,0,0,0),ec=function(r,e,t,n,a,i){if(Qt(r.nameLocation)){var s=i.stOccupiedRect;s&&tc(Gv({},s,i.transGroup.transform),n,a)}else rc(i.labelInfoList,i.dirVec,n,a)};function tc(r,e,t){var n=new Cr;Ri(r,e,n,{direction:Math.atan2(t.y,t.x),bidirectional:!1,touchThreshold:.05})&&Vv(e,n)}function rc(r,e,t,n){for(var a=Cr.dot(n,e)>=0,i=0,s=r.length;i<s;i++){var o=r[a?i:s-1-i];o.label.ignore||tc(o,t,n)}}var _t=(function(){function r(e,t,n,a){this.group=new Me,this._axisModel=e,this._api=t,this._local={},this._shared=a||new Qu(ec),this._resetCfgDetermined(n)}return r.prototype.updateCfg=function(e){var t=this._cfg.raw;t.position=e.position,t.labelOffset=e.labelOffset,this._resetCfgDetermined(t)},r.prototype.__getRawCfg=function(){return this._cfg.raw},r.prototype._resetCfgDetermined=function(e){var t=this._axisModel,n=t.getDefaultOption?t.getDefaultOption():{},a=me(e.axisName,t.get("name")),i=t.get("nameMoveOverlap");(i==null||i==="auto")&&(i=me(e.defaultNameMoveOverlap,!0));var s={raw:e,position:e.position,rotation:e.rotation,nameDirection:me(e.nameDirection,1),tickDirection:me(e.tickDirection,1),labelDirection:me(e.labelDirection,1),labelOffset:me(e.labelOffset,0),silent:me(e.silent,!0),axisName:a,nameLocation:af(t.get("nameLocation"),n.nameLocation,"end"),shouldNameMoveOverlap:$i(a)&&i,optionHideOverlap:t.get(["axisLabel","hideOverlap"]),showMinorTicks:t.get(["minorTick","show"])};this._cfg=s;var o=new Me({x:s.position[0],y:s.position[1],rotation:s.rotation});o.updateTransform(),this._transformGroup=o;var l=this._shared.ensureRecord(t);l.transGroup=this._transformGroup,l.dirVec=new Cr(Math.cos(-s.rotation),Math.sin(-s.rotation))},r.prototype.build=function(e,t){var n=this;return e||(e={axisLine:!0,axisTickLabelEstimate:!1,axisTickLabelDetermine:!0,axisName:!0}),E(em,function(a){e[a]&&tm[a](n._cfg,n._local,n._shared,n._axisModel,n.group,n._transformGroup,n._api,t||{})}),this},r.innerTextLayout=function(e,t,n){var a=El(t-e),i,s;return Ln(a)?(s=n>0?"top":"bottom",i="center"):Ln(a-bt)?(s=n>0?"bottom":"top",i="center"):(s="middle",a>0&&a<bt?i=n>0?"right":"left":i=n>0?"left":"right"),{rotation:a,textAlign:i,textVerticalAlign:s}},r.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},r.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)},r})(),em=["axisLine","axisTickLabelEstimate","axisTickLabelDetermine","axisName"],tm={axisLine:function(r,e,t,n,a,i,s){var o=n.get(["axisLine","show"]);if(o==="auto"&&(o=!0,r.raw.axisLineAutoShow!=null&&(o=!!r.raw.axisLineAutoShow)),!!o){var l=n.axis.getExtent(),u=i.transform,c=[l[0],0],h=[l[1],0],f=c[0]>h[0];u&&(Xt(c,c,u),Xt(h,h,u));var d=he({lineCap:"round"},n.getModel(["axisLine","lineStyle"]).getLineStyle()),p={strokeContainThreshold:r.raw.strokeContainThreshold||5,silent:!0,z2:1,style:d};if(n.get(["axisLine","breakLine"])&&n.axis.scale.hasBreaks())qg().buildAxisBreakLine(n,a,i,p);else{var v=new Dn(he({shape:{x1:c[0],y1:c[1],x2:h[0],y2:h[1]}},p));Tn(v.shape,v.style.lineWidth),v.anid="line",a.add(v)}var m=n.get(["axisLine","symbol"]);if(m!=null){var g=n.get(["axisLine","symbolSize"]);fe(m)&&(m=[m,m]),(fe(g)||St(g))&&(g=[g,g]);var y=Dl(n.get(["axisLine","symbolOffset"])||0,g),b=g[0],_=g[1];E([{rotate:r.rotation+Math.PI/2,offset:y[0],r:0},{rotate:r.rotation-Math.PI/2,offset:y[1],r:Math.sqrt((c[0]-h[0])*(c[0]-h[0])+(c[1]-h[1])*(c[1]-h[1]))}],function(x,k){if(m[k]!=="none"&&m[k]!=null){var w=qt(m[k],-b/2,-_/2,b,_,d.stroke,!0),I=x.r+x.offset,L=f?h:c;w.attr({rotation:x.rotate,x:L[0]+I*Math.cos(r.rotation),y:L[1]-I*Math.sin(r.rotation),silent:!0,z2:11}),a.add(w)}})}}},axisTickLabelEstimate:function(r,e,t,n,a,i,s,o){var l=Ao(e,a,o);l&&ko(r,e,t,n,a,i,s,Ze.estimate)},axisTickLabelDetermine:function(r,e,t,n,a,i,s,o){var l=Ao(e,a,o);l&&ko(r,e,t,n,a,i,s,Ze.determine);var u=im(r,a,i,n);am(r,e.labelLayoutList,u),sm(r,a,i,n,r.tickDirection)},axisName:function(r,e,t,n,a,i,s,o){var l=t.ensureRecord(n);e.nameEl&&(a.remove(e.nameEl),e.nameEl=l.nameLayout=l.nameLocation=null);var u=r.axisName;if($i(u)){var c=r.nameLocation,h=r.nameDirection,f=n.getModel("nameTextStyle"),d=n.get("nameGap")||0,p=n.axis.getExtent(),v=n.axis.inverse?-1:1,m=new Cr(0,0),g=new Cr(0,0);c==="start"?(m.x=p[0]-v*d,g.x=-v):c==="end"?(m.x=p[1]+v*d,g.x=v):(m.x=(p[0]+p[1])/2,m.y=r.labelOffset+h*d,g.y=h);var y=wi();g.transform(Ml(y,y,r.rotation));var b=n.get("nameRotate");b!=null&&(b=b*bt/180);var _,x;Qt(c)?_=_t.innerTextLayout(r.rotation,b??r.rotation,h):(_=rm(r.rotation,c,b||0,p),x=r.raw.axisNameAvailableWidth,x!=null&&(x=Math.abs(x/Math.sin(_.rotation)),!isFinite(x)&&(x=null)));var k=f.getFont(),w=n.get("nameTruncate",!0)||{},I=w.ellipsis,L=yt(r.raw.nameTruncateMaxWidth,w.maxWidth,x),T=o.nameMarginLevel||0,A=new At({x:m.x,y:m.y,rotation:_.rotation,silent:_t.isLabelSilent(n),style:jn(f,{text:u,font:k,overflow:"truncate",width:L,ellipsis:I,fill:f.getTextColor()||n.get(["axisLine","lineStyle","color"]),align:f.get("align")||_.textAlign,verticalAlign:f.get("verticalAlign")||_.textVerticalAlign}),z2:1});if(Si({el:A,componentModel:n,itemName:u}),A.__fullText=u,A.anid="name",n.get("triggerEvent")){var O=_t.makeAxisEventDataBase(n);O.targetType="axisName",O.name=u,ye(A).eventData=O}i.add(A),A.updateTransform(),e.nameEl=A;var D=l.nameLayout=Ct({label:A,priority:A.z2,defaultAttr:{ignore:A.ignore},marginDefault:Qt(c)?Kg[T]:Jg[T]});if(l.nameLocation=c,a.add(A),A.decomposeTransform(),r.shouldNameMoveOverlap&&D){var P=t.ensureRecord(n);t.resolveAxisNameOverlap(r,t,n,D,g,P)}}}};function ko(r,e,t,n,a,i,s,o){ac(e)||om(r,e,a,o,n,s);var l=e.labelLayoutList;lm(r,n,l,i),r.rotation;var u=r.optionHideOverlap;nm(n,l,u),u&&Uv(wt(l,function(c){return c&&!c.label.ignore})),Qg(r,t,n,l)}function rm(r,e,t,n){var a=El(t-r),i,s,o=n[0]>n[1],l=e==="start"&&!o||e!=="start"&&o;return Ln(a-bt/2)?(s=l?"bottom":"top",i="center"):Ln(a-bt*1.5)?(s=l?"top":"bottom",i="center"):(s="middle",a<bt*1.5&&a>bt/2?i=l?"left":"right":i=l?"right":"left"),{rotation:a,textAlign:i,textVerticalAlign:s}}function nm(r,e,t){if(Cu(r.axis))return;function n(o,l,u){var c=Ct(e[l]),h=Ct(e[u]);if(!(!c||!h)){if(o===!1||c.suggestIgnore){br(c.label);return}if(h.suggestIgnore){br(h.label);return}var f=.1;if(!t){var d=[0,0,0,0];c=Qs({marginForce:d},c),h=Qs({marginForce:d},h)}Ri(c,h,null,{touchThreshold:f})&&br(o?h.label:c.label)}}var a=r.get(["axisLabel","showMinLabel"]),i=r.get(["axisLabel","showMaxLabel"]),s=e.length;n(a,0,1),n(i,s-1,s-2)}function am(r,e,t){r.showMinorTicks||E(e,function(n){if(n&&n.label.ignore)for(var a=0;a<t.length;a++){var i=t[a],s=Ju(i),o=Ir(n.label);if(s.tickValue!=null&&!s.onBand&&s.tickValue===o.tickValue){br(i);return}}})}function br(r){r&&(r.ignore=!0)}function nc(r,e,t,n,a){for(var i=[],s=[],o=[],l=0;l<r.length;l++){var u=r[l].coord;s[0]=u,s[1]=0,o[0]=u,o[1]=t,e&&(Xt(s,s,e),Xt(o,o,e));var c=new Dn({shape:{x1:s[0],y1:s[1],x2:o[0],y2:o[1]},style:n,z2:2,autoBatch:!0,silent:!0});Tn(c.shape,c.style.lineWidth),c.anid=a+"_"+r[l].tickValue,i.push(c);var h=Ju(c);h.onBand=!!r[l].onBand,h.tickValue=r[l].tickValue}return i}function im(r,e,t,n){var a=n.axis,i=n.getModel("axisTick"),s=i.get("show");if(s==="auto"&&(s=!0,r.raw.axisTickAutoShow!=null&&(s=!!r.raw.axisTickAutoShow)),!s||a.scale.isBlank())return[];for(var o=i.getModel("lineStyle"),l=r.tickDirection*i.get("length"),u=a.getTicksCoords(),c=nc(u,t.transform,l,Oe(o.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}),"ticks"),h=0;h<c.length;h++)e.add(c[h]);return c}function sm(r,e,t,n,a){var i=n.axis,s=n.getModel("minorTick");if(!(!r.showMinorTicks||i.scale.isBlank())){var o=i.getMinorTicksCoords();if(o.length)for(var l=s.getModel("lineStyle"),u=a*s.get("length"),c=Oe(l.getLineStyle(),Oe(n.getModel("axisTick").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})),h=0;h<o.length;h++)for(var f=nc(o[h],t.transform,u,c,"minorticks_"+h),d=0;d<f.length;d++)e.add(f[d])}}function Ao(r,e,t){if(ac(r)){var n=r.axisLabelsCreationContext,a=n.out.noPxChangeTryDetermine;if(t.noPxChange){for(var i=!0,s=0;s<a.length;s++)i=i&&a[s]();if(i)return!1}a.length&&(e.remove(r.labelGroup),ri(r,null,null,null))}return!0}function om(r,e,t,n,a,i){var s=a.axis,o=yt(r.raw.axisLabelShow,a.get(["axisLabel","show"])),l=new Me;t.add(l);var u=Pn(n);if(!o||s.scale.isBlank()){ri(e,[],l,u);return}var c=a.getModel("axisLabel"),h=s.getViewLabels(u),f=(yt(r.raw.labelRotate,c.get("rotate"))||0)*bt/180,d=_t.innerTextLayout(r.rotation,f,r.labelDirection),p=a.getCategories&&a.getCategories(!0),v=[],m=a.get("triggerEvent"),g=1/0,y=-1/0;E(h,function(_,x){var k,w=s.scale.type==="ordinal"?s.scale.getRawOrdinalNumber(_.tickValue):_.tickValue,I=_.formattedLabel,L=_.rawLabel,T=c;if(p&&p[w]){var A=p[w];ke(A)&&A.textStyle&&(T=new mt(A.textStyle,c,a.ecModel))}var O=T.getTextColor()||a.get(["axisLine","lineStyle","color"]),D=T.getShallow("align",!0)||d.textAlign,P=me(T.getShallow("alignMinLabel",!0),D),z=me(T.getShallow("alignMaxLabel",!0),D),W=T.getShallow("verticalAlign",!0)||T.getShallow("baseline",!0)||d.textVerticalAlign,K=me(T.getShallow("verticalAlignMinLabel",!0),W),M=me(T.getShallow("verticalAlignMaxLabel",!0),W),R=10+(((k=_.time)===null||k===void 0?void 0:k.level)||0);g=Math.min(g,R),y=Math.max(y,R);var B=new At({x:0,y:0,rotation:0,silent:_t.isLabelSilent(a),z2:R,style:jn(T,{text:I,align:x===0?P:x===h.length-1?z:D,verticalAlign:x===0?K:x===h.length-1?M:W,fill:ge(O)?O(s.type==="category"?L:s.type==="value"?w+"":w,x):O})});B.anid="label_"+w;var F=Ir(B);if(F.break=_.break,F.tickValue=w,F.layoutRotation=d.rotation,Si({el:B,componentModel:a,itemName:I,formatterParamsExtra:{isTruncated:function(){return B.isTruncated},value:L,tickIndex:x}}),m){var V=_t.makeAxisEventDataBase(a);V.targetType="axisLabel",V.value=L,V.tickIndex=x,_.break&&(V.break={start:_.break.parsedBreak.vmin,end:_.break.parsedBreak.vmax}),s.type==="category"&&(V.dataIndex=w),ye(B).eventData=V,_.break&&cm(a,i,B,_.break)}v.push(B),l.add(B)});var b=ie(v,function(_){return{label:_,priority:Ir(_).break?_.z2+(y-g+1):_.z2,defaultAttr:{ignore:_.ignore}}});ri(e,b,l,u)}function ac(r){return!!r.labelLayoutList}function ri(r,e,t,n){r.labelLayoutList=e,r.labelGroup=t,r.axisLabelsCreationContext=n}function lm(r,e,t,n){var a=e.get(["axisLabel","margin"]);E(t,function(i,s){var o=Ct(i);if(o){var l=o.label,u=Ir(l);o.suggestIgnore=l.ignore,l.ignore=!1,fs(et,um),et.x=e.axis.dataToCoord(u.tickValue),et.y=r.labelOffset+r.labelDirection*a,et.rotation=u.layoutRotation,n.add(et),et.updateTransform(),n.remove(et),et.decomposeTransform(),fs(l,et),l.markRedraw(),Bn(o,!0),Ct(o)}})}var et=new Xe,um=new Xe;function $i(r){return!!r}function cm(r,e,t,n){t.on("click",function(a){var i={type:Yg,breaks:[{start:n.parsedBreak.breakOption.start,end:n.parsedBreak.breakOption.end}]};i[r.axis.dim+"AxisIndex"]=r.componentIndex,e.dispatchAction(i)})}function zn(r,e,t){t=t||{};var n=e.axis,a={},i=n.getAxesOnZeroOf()[0],s=n.position,o=i?"onZero":s,l=n.dim,u=[r.x,r.x+r.width,r.y,r.y+r.height],c={left:0,right:1,top:0,bottom:1,onZero:2},h=e.get("offset")||0,f=l==="x"?[u[2]-h,u[3]+h]:[u[0]-h,u[1]+h];if(i){var d=i.toGlobalCoord(i.dataToCoord(0));f[c.onZero]=Math.max(Math.min(d,f[1]),f[0])}a.position=[l==="y"?f[c[o]]:u[0],l==="x"?f[c[o]]:u[3]],a.rotation=Math.PI/2*(l==="x"?0:1);var p={top:-1,bottom:1,left:-1,right:1};a.labelDirection=a.tickDirection=a.nameDirection=p[s],a.labelOffset=i?f[c[s]]-f[c.onZero]:0,e.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),yt(t.labelInside,e.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var v=e.get(["axisLabel","rotate"]);return a.labelRotate=o==="top"?-v:v,a.z2=1,a}function hm(r){return r.coordinateSystem&&r.coordinateSystem.type==="cartesian2d"}function Co(r){var e={xAxisModel:null,yAxisModel:null};return E(e,function(t,n){var a=n.replace(/Model$/,""),i=r.getReferringComponents(a,nt).models[0];e[n]=i}),e}function fm(r,e,t,n,a,i){for(var s=zn(r,t),o=!1,l=!1,u=0;u<e.length;u++)ja(e[u].getOtherAxis(t.axis).scale)&&(o=l=!0,t.axis.type==="category"&&t.axis.onBand&&(l=!1));return s.axisLineAutoShow=o,s.axisTickAutoShow=l,s.defaultNameMoveOverlap=i,new _t(t,n,s,a)}function dm(r,e,t){var n=zn(e,t);r.updateCfg(n)}function pm(r,e,t){var n=Jt.prototype,a=n.getTicks.call(t),i=n.getTicks.call(t,{expandToNicedExtent:!0}),s=a.length-1,o=n.getInterval.call(t),l=Au(r,e),u=l.extent,c=l.fixMin,h=l.fixMax;r.type==="log"&&(u=Za(r.base,u,!0)),r.setBreaksFromOption(Du(e)),r.setExtent(u[0],u[1]),r.calcNiceExtent({splitNumber:s,fixMin:c,fixMax:h});var f=n.getExtent.call(r);c&&(u[0]=f[0]),h&&(u[1]=f[1]);var d=n.getInterval.call(r),p=u[0],v=u[1];if(c&&h)d=(v-p)/s;else if(c)for(v=u[0]+d*s;v<u[1]&&isFinite(v)&&isFinite(u[1]);)d=pa(d),v=u[0]+d*s;else if(h)for(p=u[1]-d*s;p>u[0]&&isFinite(p)&&isFinite(u[0]);)d=pa(d),p=u[1]-d*s;else{var m=r.getTicks().length-1;m>s&&(d=pa(d));var g=d*s;v=Math.ceil(u[1]/d)*d,p=Te(v-g),p<0&&u[0]>=0?(p=0,v=Te(g)):v>0&&u[1]<=0&&(v=0,p=-Te(g))}var y=(a[0].value-i[0].value)/o,b=(a[s].value-i[s].value)/o;n.setExtent.call(r,p+d*y,v+d*b),n.setInterval.call(r,d),(y||b)&&n.setNiceExtent.call(r,p+d,v-d)}var Do=[[3,1],[0,2]],vm=(function(){function r(e,t,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=ti,this._initCartesian(e,t,n),this.model=e}return r.prototype.getRect=function(){return this._rect},r.prototype.update=function(e,t){var n=this._axesMap;this._updateScale(e,this.model);function a(s){var o,l=Un(s),u=l.length;if(u){for(var c=[],h=u-1;h>=0;h--){var f=+l[h],d=s[f],p=d.model,v=d.scale;ja(v)&&p.get("alignTicks")&&p.get("interval")==null?c.push(d):(Zs(v,p),ja(v)&&(o=d))}c.length&&(o||(o=c.pop(),Zs(o.scale,o.model)),E(c,function(m){pm(m.scale,m.model,o.scale)}))}}a(n.x),a(n.y);var i={};E(n.x,function(s){To(n,"y",s,i)}),E(n.y,function(s){To(n,"x",s,i)}),this.resize(this.model,t)},r.prototype.resize=function(e,t,n){var a=Rl(e,t),i=this._rect=Dr(e.getBoxLayoutParams(),a.refContainer),s=this._axesMap,o=this._coordsList,l=e.get("containLabel");if(ic(s,i),!n){var u=mm(i,o,s,l,t),c=void 0;if(l)c=Mo(i.clone(),"axisLabel",null,i,s,u,a);else{var h=ym(e,i,a),f=h.outerBoundsRect,d=h.parsedOuterBoundsContain,p=h.outerBoundsClamp;f&&(c=Mo(f,d,p,i,s,u,a))}sc(i,s,Ze.determine,null,c,a)}E(this._coordsList,function(v){v.calcAffineTransform()})},r.prototype.getAxis=function(e,t){var n=this._axesMap[e];if(n!=null)return n[t||0]},r.prototype.getAxes=function(){return this._axesList.slice()},r.prototype.getCartesian=function(e,t){if(e!=null&&t!=null){var n="x"+e+"y"+t;return this._coordsMap[n]}ke(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var a=0,i=this._coordsList;a<i.length;a++)if(i[a].getAxis("x").index===e||i[a].getAxis("y").index===t)return i[a]},r.prototype.getCartesians=function(){return this._coordsList.slice()},r.prototype.convertToPixel=function(e,t,n){var a=this._findConvertTarget(t);return a.cartesian?a.cartesian.dataToPoint(n):a.axis?a.axis.toGlobalCoord(a.axis.dataToCoord(n)):null},r.prototype.convertFromPixel=function(e,t,n){var a=this._findConvertTarget(t);return a.cartesian?a.cartesian.pointToData(n):a.axis?a.axis.coordToData(a.axis.toLocalCoord(n)):null},r.prototype._findConvertTarget=function(e){var t=e.seriesModel,n=e.xAxisModel||t&&t.getReferringComponents("xAxis",nt).models[0],a=e.yAxisModel||t&&t.getReferringComponents("yAxis",nt).models[0],i=e.gridModel,s=this._coordsList,o,l;if(t)o=t.coordinateSystem,Ee(s,o)<0&&(o=null);else if(n&&a)o=this.getCartesian(n.componentIndex,a.componentIndex);else if(n)l=this.getAxis("x",n.componentIndex);else if(a)l=this.getAxis("y",a.componentIndex);else if(i){var u=i.coordinateSystem;u===this&&(o=this._coordsList[0])}return{cartesian:o,axis:l}},r.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},r.prototype._initCartesian=function(e,t,n){var a=this,i=this,s={left:!1,right:!1,top:!1,bottom:!1},o={x:{},y:{}},l={x:0,y:0};if(t.eachComponent("xAxis",u("x"),this),t.eachComponent("yAxis",u("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=o,E(o.x,function(c,h){E(o.y,function(f,d){var p="x"+h+"y"+d,v=new Zg(p);v.master=a,v.model=e,a._coordsMap[p]=v,a._coordsList.push(v),v.addAxis(c),v.addAxis(f)})});function u(c){return function(h,f){if(Sa(h,e)){var d=h.get("position");c==="x"?d!=="top"&&d!=="bottom"&&(d=s.bottom?"top":"bottom"):d!=="left"&&d!=="right"&&(d=s.left?"right":"left"),s[d]=!0;var p=new Xg(c,_v(h),[0,0],h.get("type"),d),v=p.type==="category";p.onBand=v&&h.get("boundaryGap"),p.inverse=h.get("inverse"),h.axis=p,p.model=h,p.grid=i,p.index=f,i._axesList.push(p),o[c][f]=p,l[c]++}}}},r.prototype._updateScale=function(e,t){E(this._axesList,function(a){if(a.scale.setExtent(1/0,-1/0),a.type==="category"){var i=a.model.get("categorySortInfo");a.scale.setSortInfo(i)}}),e.eachSeries(function(a){if(hm(a)){var i=Co(a),s=i.xAxisModel,o=i.yAxisModel;if(!Sa(s,t)||!Sa(o,t))return;var l=this.getCartesian(s.componentIndex,o.componentIndex),u=a.getData(),c=l.getAxis("x"),h=l.getAxis("y");n(u,c),n(u,h)}},this);function n(a,i){E(wv(a,i.dim),function(s){i.scale.unionExtentFromData(a,s)})}},r.prototype.getTooltipAxes=function(e){var t=[],n=[];return E(this.getCartesians(),function(a){var i=e!=null&&e!=="auto"?a.getAxis(e):a.getBaseAxis(),s=a.getOtherAxis(i);Ee(t,i)<0&&t.push(i),Ee(n,s)<0&&n.push(s)}),{baseAxes:t,otherAxes:n}},r.create=function(e,t){var n=[];return e.eachComponent("grid",function(a,i){var s=new r(a,e,t);s.name="grid_"+i,s.resize(a,t,!0),a.coordinateSystem=s,n.push(s)}),e.eachSeries(function(a){lf({targetModel:a,coordSysType:"cartesian2d",coordSysProvider:i});function i(){var s=Co(a),o=s.xAxisModel,l=s.yAxisModel,u=o.getCoordSysModel(),c=u.coordinateSystem;return c.getCartesian(o.componentIndex,l.componentIndex)}}),n},r.dimensions=ti,r})();function Sa(r,e){return r.getCoordSysModel()===e}function To(r,e,t,n){t.getAxesOnZeroOf=function(){return i?[i]:[]};var a=r[e],i,s=t.model,o=s.get(["axisLine","onZero"]),l=s.get(["axisLine","onZeroAxisIndex"]);if(!o)return;if(l!=null)Lo(a[l])&&(i=a[l]);else for(var u in a)if(a.hasOwnProperty(u)&&Lo(a[u])&&!n[c(a[u])]){i=a[u];break}i&&(n[c(i)]=!0);function c(h){return h.dim+"_"+h.index}}function Lo(r){return r&&r.type!=="category"&&r.type!=="time"&&Sv(r)}function gm(r,e){var t=r.getExtent(),n=t[0]+t[1];r.toGlobalCoord=r.dim==="x"?function(a){return a+e}:function(a){return n-a+e},r.toLocalCoord=r.dim==="x"?function(a){return a-e}:function(a){return n-a+e}}function ic(r,e){E(r.x,function(t){return Io(t,e.x,e.width)}),E(r.y,function(t){return Io(t,e.y,e.height)})}function Io(r,e,t){var n=[0,t],a=r.inverse?1:0;r.setExtent(n[a],n[1-a]),gm(r,e)}function Mo(r,e,t,n,a,i,s){sc(n,a,Ze.estimate,e,!1,s);var o=[0,0,0,0];u(0),u(1),c(n,0,NaN),c(n,1,NaN);var l=uf(o,function(f){return f>0})==null;return Ba(n,o,!0,!0,t),ic(a,n),l;function u(f){E(a[Wt[f]],function(d){if(Lr(d.model)){var p=i.ensureRecord(d.model),v=p.labelInfoList;if(v)for(var m=0;m<v.length;m++){var g=v[m],y=d.scale.normalize(Ir(g.label).tickValue);y=f===1?1-y:y,c(g.rect,f,y),c(g.rect,1-f,NaN)}var b=p.nameLayout;if(b){var y=Qt(p.nameLocation)?.5:NaN;c(b.rect,f,y),c(b.rect,1-f,NaN)}}})}function c(f,d,p){var v=r[Wt[d]]-f[Wt[d]],m=f[In[d]]+f[Wt[d]]-(r[In[d]]+r[Wt[d]]);v=h(v,1-p),m=h(m,p);var g=Do[d][0],y=Do[d][1];o[g]=ds(o[g],v),o[y]=ds(o[y],m)}function h(f,d){return f>0&&!kn(d)&&d>1e-4&&(f/=d),f}}function mm(r,e,t,n,a){var i=new Qu(bm);return E(t,function(s){return E(s,function(o){if(Lr(o.model)){var l=!n;o.axisBuilder=fm(r,e,o.model,a,i,l)}})}),i}function sc(r,e,t,n,a,i){var s=t===Ze.determine;E(e,function(u){return E(u,function(c){Lr(c.model)&&(dm(c.axisBuilder,r,c.model),c.axisBuilder.build(s?{axisTickLabelDetermine:!0}:{axisTickLabelEstimate:!0},{noPxChange:a}))})});var o={x:0,y:0};l(0),l(1);function l(u){o[Wt[1-u]]=r[In[u]]<=i.refContainer[In[u]]*.5?0:1-u===1?2:1}E(e,function(u,c){return E(u,function(h){Lr(h.model)&&((n==="all"||s)&&h.axisBuilder.build({axisName:!0},{nameMarginLevel:o[c]}),s&&h.axisBuilder.build({axisLine:!0}))})})}function ym(r,e,t){var n,a=r.get("outerBoundsMode",!0);a==="same"?n=e.clone():(a==null||a==="auto")&&(n=Dr(r.get("outerBounds",!0)||Yu,t.refContainer));var i=r.get("outerBoundsContain",!0),s;i==null||i==="auto"||Ee(["all","axisLabel"],i)<0?s="all":s=i;var o=[ps(me(r.get("outerBoundsClampWidth",!0),$n[0]),e.width),ps(me(r.get("outerBoundsClampHeight",!0),$n[1]),e.height)];return{outerBoundsRect:n,parsedOuterBoundsContain:s,outerBoundsClamp:o}}var bm=function(r,e,t,n,a,i){var s=t.axis.dim==="x"?"y":"x";ec(r,e,t,n,a,i),Qt(r.nameLocation)||E(e.recordMap[s],function(o){o&&o.labelInfoList&&o.dirVec&&rc(o.labelInfoList,o.dirVec,n,a)})};function xm(r,e){var t={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return _m(t,r,e),t.seriesInvolved&&wm(t,r),t}function _m(r,e,t){var n=e.getComponent("tooltip"),a=e.getComponent("axisPointer"),i=a.get("link",!0)||[],s=[];E(t.getCoordinateSystems(),function(o){if(!o.axisPointerEnabled)return;var l=Mr(o.model),u=r.coordSysAxesInfo[l]={};r.coordSysMap[l]=o;var c=o.model,h=c.getModel("tooltip",n);if(E(o.getAxes(),ve(v,!1,null)),o.getTooltipAxes&&n&&h.get("show")){var f=h.get("trigger")==="axis",d=h.get(["axisPointer","type"])==="cross",p=o.getTooltipAxes(h.get(["axisPointer","axis"]));(f||d)&&E(p.baseAxes,ve(v,d?"cross":!0,f)),d&&E(p.otherAxes,ve(v,"cross",!1))}function v(m,g,y){var b=y.model.getModel("axisPointer",a),_=b.get("show");if(!(!_||_==="auto"&&!m&&!ni(b))){g==null&&(g=b.get("triggerTooltip")),b=m?Sm(y,h,a,e,m,g):b;var x=b.get("snap"),k=b.get("triggerEmphasis"),w=Mr(y.model),I=g||x||y.type==="category",L=r.axesInfo[w]={key:w,axis:y,coordSys:o,axisPointerModel:b,triggerTooltip:g,triggerEmphasis:k,involveSeries:I,snap:x,useHandle:ni(b),seriesModels:[],linkGroup:null};u[w]=L,r.seriesInvolved=r.seriesInvolved||I;var T=km(i,y);if(T!=null){var A=s[T]||(s[T]={axesInfo:{}});A.axesInfo[w]=L,A.mapper=i[T].mapper,L.linkGroup=A}}}})}function Sm(r,e,t,n,a,i){var s=e.getModel("axisPointer"),o=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};E(o,function(f){l[f]=Ot(s.get(f))}),l.snap=r.type!=="category"&&!!i,s.get("type")==="cross"&&(l.type="line");var u=l.label||(l.label={});if(u.show==null&&(u.show=!1),a==="cross"){var c=s.get(["label","show"]);if(u.show=c??!0,!i){var h=l.lineStyle=s.get("crossStyle");h&&Oe(u,h.textStyle)}}return r.model.getModel("axisPointer",new mt(l,t,n))}function wm(r,e){e.eachSeries(function(t){var n=t.coordinateSystem,a=t.get(["tooltip","trigger"],!0),i=t.get(["tooltip","show"],!0);!n||!n.model||a==="none"||a===!1||a==="item"||i===!1||t.get(["axisPointer","show"],!0)===!1||E(r.coordSysAxesInfo[Mr(n.model)],function(s){var o=s.axis;n.getAxis(o.dim)===o&&(s.seriesModels.push(t),s.seriesDataCount==null&&(s.seriesDataCount=0),s.seriesDataCount+=t.getData().count())})})}function km(r,e){for(var t=e.model,n=e.dim,a=0;a<r.length;a++){var i=r[a]||{};if(wa(i[n+"AxisId"],t.id)||wa(i[n+"AxisIndex"],t.componentIndex)||wa(i[n+"AxisName"],t.name))return a}}function wa(r,e){return r==="all"||ne(r)&&Ee(r,e)>=0||r===e}function Am(r){var e=zi(r);if(e){var t=e.axisPointerModel,n=e.axis.scale,a=t.option,i=t.get("status"),s=t.get("value");s!=null&&(s=n.parse(s));var o=ni(t);i==null&&(a.status=o?"show":"hide");var l=n.getExtent().slice();l[0]>l[1]&&l.reverse(),(s==null||s>l[1])&&(s=l[1]),s<l[0]&&(s=l[0]),a.value=s,o&&(a.status=e.axis.scale.isBlank()?"hide":"show")}}function zi(r){var e=(r.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[Mr(r)]}function Cm(r){var e=zi(r);return e&&e.axisPointerModel}function ni(r){return!!r.get(["handle","show"])}function Mr(r){return r.type+"||"+r.id}var Eo={},oc=(function(r){Y(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,a,i){this.axisPointerClass&&Am(t),r.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,a,!0)},e.prototype.updateAxisPointer=function(t,n,a,i){this._doUpdateAxisPointerClass(t,a,!1)},e.prototype.remove=function(t,n){var a=this._axisPointer;a&&a.remove(n)},e.prototype.dispose=function(t,n){this._disposeAxisPointer(n),r.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(t,n,a){var i=e.getAxisPointerClass(this.axisPointerClass);if(i){var s=Cm(t);s?(this._axisPointer||(this._axisPointer=new i)).render(t,s,n,a):this._disposeAxisPointer(n)}},e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},e.registerAxisPointerClass=function(t,n){Eo[t]=n},e.getAxisPointerClass=function(t){return t&&Eo[t]},e.type="axis",e})(kt),ai=Fe();function Dm(r,e,t,n){var a=t.axis;if(!a.scale.isBlank()){var i=t.getModel("splitArea"),s=i.getModel("areaStyle"),o=s.get("color"),l=n.coordinateSystem.getRect(),u=a.getTicksCoords({tickModel:i,clamp:!0,breakTicks:"none",pruneByBreak:"preserve_extent_bound"});if(u.length){var c=o.length,h=ai(r).splitAreaColors,f=Re(),d=0;if(h)for(var p=0;p<u.length;p++){var v=h.get(u[p].tickValue);if(v!=null){d=(v+(c-1)*p)%c;break}}var m=a.toGlobalCoord(u[0].coord),g=s.getAreaStyle();o=ne(o)?o:[o];for(var p=1;p<u.length;p++){var y=a.toGlobalCoord(u[p].coord),b=void 0,_=void 0,x=void 0,k=void 0;a.isHorizontal()?(b=m,_=l.y,x=y-b,k=l.height,m=b+x):(b=l.x,_=m,x=l.width,k=y-_,m=_+k);var w=u[p-1].tickValue;w!=null&&f.set(w,d),e.add(new Xe({anid:w!=null?"area_"+w:null,shape:{x:b,y:_,width:x,height:k},style:Oe({fill:o[d]},g),autoBatch:!0,silent:!0})),d=(d+1)%c}ai(r).splitAreaColors=f}}}function Tm(r){ai(r).splitAreaColors=null}var Lm=["splitArea","splitLine","minorSplitLine","breakArea"],lc=(function(r){Y(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="CartesianAxisPointer",t}return e.prototype.render=function(t,n,a,i){this.group.removeAll();var s=this._axisGroup;if(this._axisGroup=new Me,this.group.add(this._axisGroup),!!Lr(t)){this._axisGroup.add(t.axis.axisBuilder.group),E(Lm,function(l){t.get([l,"show"])&&Im[l](this,this._axisGroup,t,t.getCoordSysModel(),a)},this);var o=i&&i.type==="changeAxisOrder"&&i.isInitSort;o||cf(s,this._axisGroup,t),r.prototype.render.call(this,t,n,a,i)}},e.prototype.remove=function(){Tm(this)},e.type="cartesianAxis",e})(oc),Im={splitLine:function(r,e,t,n,a){var i=t.axis;if(!i.scale.isBlank()){var s=t.getModel("splitLine"),o=s.getModel("lineStyle"),l=o.get("color"),u=s.get("showMinLine")!==!1,c=s.get("showMaxLine")!==!1;l=ne(l)?l:[l];for(var h=n.coordinateSystem.getRect(),f=i.isHorizontal(),d=0,p=i.getTicksCoords({tickModel:s,breakTicks:"none",pruneByBreak:"preserve_extent_bound"}),v=[],m=[],g=o.getLineStyle(),y=0;y<p.length;y++){var b=i.toGlobalCoord(p[y].coord);if(!(y===0&&!u||y===p.length-1&&!c)){var _=p[y].tickValue;f?(v[0]=b,v[1]=h.y,m[0]=b,m[1]=h.y+h.height):(v[0]=h.x,v[1]=b,m[0]=h.x+h.width,m[1]=b);var x=d++%l.length,k=new Dn({anid:_!=null?"line_"+_:null,autoBatch:!0,shape:{x1:v[0],y1:v[1],x2:m[0],y2:m[1]},style:Oe({stroke:l[x]},g),silent:!0});Tn(k.shape,g.lineWidth),e.add(k)}}}},minorSplitLine:function(r,e,t,n,a){var i=t.axis,s=t.getModel("minorSplitLine"),o=s.getModel("lineStyle"),l=n.coordinateSystem.getRect(),u=i.isHorizontal(),c=i.getMinorTicksCoords();if(c.length)for(var h=[],f=[],d=o.getLineStyle(),p=0;p<c.length;p++)for(var v=0;v<c[p].length;v++){var m=i.toGlobalCoord(c[p][v].coord);u?(h[0]=m,h[1]=l.y,f[0]=m,f[1]=l.y+l.height):(h[0]=l.x,h[1]=m,f[0]=l.x+l.width,f[1]=m);var g=new Dn({anid:"minor_line_"+c[p][v].tickValue,autoBatch:!0,shape:{x1:h[0],y1:h[1],x2:f[0],y2:f[1]},style:d,silent:!0});Tn(g.shape,d.lineWidth),e.add(g)}},splitArea:function(r,e,t,n,a){Dm(r,e,t,n)},breakArea:function(r,e,t,n,a){t.axis.scale}},uc=(function(r){Y(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="xAxis",e})(lc),Mm=(function(r){Y(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=uc.type,t}return e.type="yAxis",e})(lc),Em=(function(r){Y(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="grid",t}return e.prototype.render=function(t,n){this.group.removeAll(),t.get("show")&&this.group.add(new Xe({shape:t.coordinateSystem.getRect(),style:Oe({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e})(kt),Ro={offset:0};function cc(r){r.registerComponentView(Em),r.registerComponentModel(zg),r.registerCoordinateSystem("cartesian2d",vm),_o(r,"x",ei,Ro),_o(r,"y",ei,Ro),r.registerComponentView(uc),r.registerComponentView(Mm),r.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}function Rm(r){ot(cc),r.registerSeriesModel(Og),r.registerChartView($g),r.registerLayout(Ni("scatter"))}var Om=(function(){function r(){}return r.prototype._hasEncodeRule=function(e){var t=this.getEncode();return t&&t.get(e)!=null},r.prototype.getInitialData=function(e,t){var n,a=t.getComponent("xAxis",this.get("xAxisIndex")),i=t.getComponent("yAxis",this.get("yAxisIndex")),s=a.get("type"),o=i.get("type"),l;s==="category"?(e.layout="horizontal",n=a.getOrdinalMeta(),l=!this._hasEncodeRule("x")):o==="category"?(e.layout="vertical",n=i.getOrdinalMeta(),l=!this._hasEncodeRule("y")):e.layout=e.layout||"horizontal";var u=["x","y"],c=e.layout==="horizontal"?0:1,h=this._baseAxisDim=u[c],f=u[1-c],d=[a,i],p=d[c].get("type"),v=d[1-c].get("type"),m=e.data;if(m&&l){var g=[];E(m,function(_,x){var k;ne(_)?(k=_.slice(),_.unshift(x)):ne(_.value)?(k=he({},_),k.value=k.value.slice(),_.value.unshift(x)):k=_,g.push(k)}),e.data=g}var y=this.defaultValueDimensions,b=[{name:h,type:qa(p),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:f,type:qa(v),dimsDef:y.slice()}];return Rg(this,{coordDimensions:b,dimensionsCount:y.length+1,encodeDefaulter:ve(ml,b,this)})},r.prototype.getBaseAxis=function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis},r})(),Pm=["itemStyle","borderColor"],Nm=["itemStyle","borderColor0"],Bm=["itemStyle","borderColorDoji"],$m=["itemStyle","color"],zm=["itemStyle","color0"];function Fi(r,e){return e.get(r>0?$m:zm)}function Hi(r,e){return e.get(r===0?Bm:r>0?Pm:Nm)}var Fm={seriesType:"candlestick",plan:qn(),performRawSeries:!0,reset:function(r,e){if(!e.isSeriesFiltered(r)){var t=r.pipelineContext.large;return!t&&{progress:function(n,a){for(var i;(i=n.next())!=null;){var s=a.getItemModel(i),o=a.getItemLayout(i).sign,l=s.getItemStyle();l.fill=Fi(o,s),l.stroke=Hi(o,s)||l.fill;var u=a.ensureUniqueItemVisual(i,"style");he(u,l)}}}}}},Hm=["color","borderColor"],Gm=(function(r){Y(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,a){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(t),this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)},e.prototype.incrementalPrepareRender=function(t,n,a){this._clear(),this._updateDrawMode(t)},e.prototype.incrementalRender=function(t,n,a,i){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(t,n):this._incrementalRenderNormal(t,n)},e.prototype.eachRendered=function(t){yi(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var n=t.pipelineContext.large;(this._isLargeDraw==null||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},e.prototype._renderNormal=function(t){var n=t.getData(),a=this._data,i=this.group,s=n.getLayout("isSimpleBox"),o=t.get("clip",!0),l=t.coordinateSystem,u=l.getArea&&l.getArea();this._data||i.removeAll(),n.diff(a).add(function(c){if(n.hasValue(c)){var h=n.getItemLayout(c);if(o&&Oo(u,h))return;var f=ka(h,c,!0);st(f,{shape:{points:h.ends}},t,c),Aa(f,n,c,s),i.add(f),n.setItemGraphicEl(c,f)}}).update(function(c,h){var f=a.getItemGraphicEl(h);if(!n.hasValue(c)){i.remove(f);return}var d=n.getItemLayout(c);if(o&&Oo(u,d)){i.remove(f);return}f?(Pe(f,{shape:{points:d.ends}},t,c),mi(f)):f=ka(d),Aa(f,n,c,s),i.add(f),n.setItemGraphicEl(c,f)}).remove(function(c){var h=a.getItemGraphicEl(c);h&&i.remove(h)}).execute(),this._data=n},e.prototype._renderLarge=function(t){this._clear(),Po(t,this.group);var n=t.get("clip",!0)?Uu(t.coordinateSystem,!1,t):null;n?this.group.setClipPath(n):this.group.removeClipPath()},e.prototype._incrementalRenderNormal=function(t,n){for(var a=n.getData(),i=a.getLayout("isSimpleBox"),s;(s=t.next())!=null;){var o=a.getItemLayout(s),l=ka(o);Aa(l,a,s,i),l.incremental=!0,this.group.add(l),this._progressiveEls.push(l)}},e.prototype._incrementalRenderLarge=function(t,n){Po(n,this.group,this._progressiveEls,!0)},e.prototype.remove=function(t){this._clear()},e.prototype._clear=function(){this.group.removeAll(),this._data=null},e.type="candlestick",e})(xt),Vm=(function(){function r(){}return r})(),Um=(function(r){Y(e,r);function e(t){var n=r.call(this,t)||this;return n.type="normalCandlestickBox",n}return e.prototype.getDefaultShape=function(){return new Vm},e.prototype.buildPath=function(t,n){var a=n.points;this.__simpleBox?(t.moveTo(a[4][0],a[4][1]),t.lineTo(a[6][0],a[6][1])):(t.moveTo(a[0][0],a[0][1]),t.lineTo(a[1][0],a[1][1]),t.lineTo(a[2][0],a[2][1]),t.lineTo(a[3][0],a[3][1]),t.closePath(),t.moveTo(a[4][0],a[4][1]),t.lineTo(a[5][0],a[5][1]),t.moveTo(a[6][0],a[6][1]),t.lineTo(a[7][0],a[7][1]))},e})(zt);function ka(r,e,t){var n=r.ends;return new Um({shape:{points:t?Wm(n,r):n},z2:100})}function Oo(r,e){for(var t=!0,n=0;n<e.ends.length;n++)if(r.contain(e.ends[n][0],e.ends[n][1])){t=!1;break}return t}function Aa(r,e,t,n){var a=e.getItemModel(t);r.useStyle(e.getItemVisual(t,"style")),r.style.strokeNoScale=!0,r.__simpleBox=n,Ar(r,a);var i=e.getItemLayout(t).sign;E(r.states,function(o,l){var u=a.getModel(l),c=Fi(i,u),h=Hi(i,u)||c,f=o.style||(o.style={});c&&(f.fill=c),h&&(f.stroke=h)});var s=a.getModel("emphasis");jt(r,s.get("focus"),s.get("blurScope"),s.get("disabled"))}function Wm(r,e){return ie(r,function(t){return t=t.slice(),t[1]=e.initBaseline,t})}var qm=(function(){function r(){}return r})(),Ca=(function(r){Y(e,r);function e(t){var n=r.call(this,t)||this;return n.type="largeCandlestickBox",n}return e.prototype.getDefaultShape=function(){return new qm},e.prototype.buildPath=function(t,n){for(var a=n.points,i=0;i<a.length;)if(this.__sign===a[i++]){var s=a[i++];t.moveTo(s,a[i++]),t.lineTo(s,a[i++])}else i+=3},e})(zt);function Po(r,e,t,n){var a=r.getData(),i=a.getLayout("largePoints"),s=new Ca({shape:{points:i},__sign:1,ignoreCoarsePointer:!0});e.add(s);var o=new Ca({shape:{points:i},__sign:-1,ignoreCoarsePointer:!0});e.add(o);var l=new Ca({shape:{points:i},__sign:0,ignoreCoarsePointer:!0});e.add(l),Da(1,s,r),Da(-1,o,r),Da(0,l,r),n&&(s.incremental=!0,o.incremental=!0),t&&t.push(s,o)}function Da(r,e,t,n){var a=Hi(r,t)||Fi(r,t),i=t.getModel("itemStyle").getItemStyle(Hm);e.useStyle(i),e.style.fill=null,e.style.stroke=a}var hc=(function(r){Y(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],t}return e.prototype.getShadowDim=function(){return"open"},e.prototype.brushSelector=function(t,n,a){var i=n.getItemLayout(t);return i&&a.rect(i.brushRect)},e.type="series.candlestick",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},e})(Pt);_i(hc,Om,!0);function jm(r){!r||!ne(r.series)||E(r.series,function(e){ke(e)&&e.type==="k"&&(e.type="candlestick")})}var Zm={seriesType:"candlestick",plan:qn(),reset:function(r){var e=r.coordinateSystem,t=r.getData(),n=Xm(r,t),a=0,i=1,s=["x","y"],o=t.getDimensionIndex(t.mapDimension(s[a])),l=ie(t.mapDimensionsAll(s[i]),t.getDimensionIndex,t),u=l[0],c=l[1],h=l[2],f=l[3];if(t.setLayout({candleWidth:n,isSimpleBox:n<=1.3}),o<0||l.length<4)return;return{progress:r.pipelineContext.large?p:d};function d(v,m){for(var g,y=m.getStore();(g=v.next())!=null;){var b=y.get(o,g),_=y.get(u,g),x=y.get(c,g),k=y.get(h,g),w=y.get(f,g),I=Math.min(_,x),L=Math.max(_,x),T=K(I,b),A=K(L,b),O=K(k,b),D=K(w,b),P=[];M(P,A,0),M(P,T,1),P.push(B(D),B(A),B(O),B(T));var z=m.getItemModel(g),W=!!z.get(["itemStyle","borderColorDoji"]);m.setItemLayout(g,{sign:No(y,g,_,x,c,W),initBaseline:_>x?A[i]:T[i],ends:P,brushRect:R(k,w,b)})}function K(F,V){var j=[];return j[a]=V,j[i]=F,isNaN(V)||isNaN(F)?[NaN,NaN]:e.dataToPoint(j)}function M(F,V,j){var J=V.slice(),le=V.slice();J[a]=sa(J[a]+n/2,1,!1),le[a]=sa(le[a]-n/2,1,!0),j?F.push(J,le):F.push(le,J)}function R(F,V,j){var J=K(F,j),le=K(V,j);return J[a]-=n/2,le[a]-=n/2,{x:J[0],y:J[1],width:n,height:le[1]-J[1]}}function B(F){return F[a]=sa(F[a],1),F}}function p(v,m){for(var g=Qe(v.count*4),y=0,b,_=[],x=[],k,w=m.getStore(),I=!!r.get(["itemStyle","borderColorDoji"]);(k=v.next())!=null;){var L=w.get(o,k),T=w.get(u,k),A=w.get(c,k),O=w.get(h,k),D=w.get(f,k);if(isNaN(L)||isNaN(O)||isNaN(D)){g[y++]=NaN,y+=3;continue}g[y++]=No(w,k,T,A,c,I),_[a]=L,_[i]=O,b=e.dataToPoint(_,null,x),g[y++]=b?b[0]:NaN,g[y++]=b?b[1]:NaN,_[i]=D,b=e.dataToPoint(_,null,x),g[y++]=b?b[1]:NaN}m.setLayout("largePoints",g)}}};function No(r,e,t,n,a,i){var s;return t>n?s=-1:t<n?s=1:s=i?0:e>0?r.get(a,e-1)<=n?1:-1:1,s}function Xm(r,e){var t=r.getBaseAxis(),n,a=t.type==="category"?t.getBandWidth():(n=t.getExtent(),Math.abs(n[1]-n[0])/e.count()),i=ze(me(r.get("barMaxWidth"),a),a),s=ze(me(r.get("barMinWidth"),1),a),o=r.get("barWidth");return o!=null?ze(o,a):Math.max(Math.min(a/2,i),s)}function Ym(r){r.registerChartView(Gm),r.registerSeriesModel(hc),r.registerPreprocessor(jm),r.registerVisual(Fm),r.registerLayout(Zm)}var It=Fe(),Bo=Ot,Ta=_e,Km=(function(){function r(){this._dragging=!1,this.animationThreshold=15}return r.prototype.render=function(e,t,n,a){var i=t.get("value"),s=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=n,!(!a&&this._lastValue===i&&this._lastStatus===s)){this._lastValue=i,this._lastStatus=s;var o=this._group,l=this._handle;if(!s||s==="hide"){o&&o.hide(),l&&l.hide();return}o&&o.show(),l&&l.show();var u={};this.makeElOption(u,i,e,t,n);var c=u.graphicKey;c!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=c;var h=this._moveAnimation=this.determineAnimation(e,t);if(!o)o=this._group=new Me,this.createPointerEl(o,u,e,t),this.createLabelEl(o,u,e,t),n.getZr().add(o);else{var f=ve($o,t,h);this.updatePointerEl(o,u,f),this.updateLabelEl(o,u,f,t)}Fo(o,t,!0),this._renderHandle(i)}},r.prototype.remove=function(e){this.clear(e)},r.prototype.dispose=function(e){this.clear(e)},r.prototype.determineAnimation=function(e,t){var n=t.get("animation"),a=e.axis,i=a.type==="category",s=t.get("snap");if(!s&&!i)return!1;if(n==="auto"||n==null){var o=this.animationThreshold;if(i&&a.getBandWidth()>o)return!0;if(s){var l=zi(e).seriesDataCount,u=a.getExtent();return Math.abs(u[0]-u[1])/l>o}return!1}return n===!0},r.prototype.makeElOption=function(e,t,n,a,i){},r.prototype.createPointerEl=function(e,t,n,a){var i=t.pointer;if(i){var s=It(e).pointerEl=new hf[i.type](Bo(t.pointer));e.add(s)}},r.prototype.createLabelEl=function(e,t,n,a){if(t.label){var i=It(e).labelEl=new At(Bo(t.label));e.add(i),zo(i,a)}},r.prototype.updatePointerEl=function(e,t,n){var a=It(e).pointerEl;a&&t.pointer&&(a.setStyle(t.pointer.style),n(a,{shape:t.pointer.shape}))},r.prototype.updateLabelEl=function(e,t,n,a){var i=It(e).labelEl;i&&(i.setStyle(t.label.style),n(i,{x:t.label.x,y:t.label.y}),zo(i,a))},r.prototype._renderHandle=function(e){if(!(this._dragging||!this.updateHandleTransform)){var t=this._axisPointerModel,n=this._api.getZr(),a=this._handle,i=t.getModel("handle"),s=t.get("status");if(!i.get("show")||!s||s==="hide"){a&&n.remove(a),this._handle=null;return}var o;this._handle||(o=!0,a=this._handle=Ol(i.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){ff(u.event)},onmousedown:Ta(this._onHandleDragMove,this,0,0),drift:Ta(this._onHandleDragMove,this),ondragend:Ta(this._onHandleDragEnd,this)}),n.add(a)),Fo(a,t,!1),a.setStyle(i.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=i.get("size");ne(l)||(l=[l,l]),a.scaleX=l[0]/2,a.scaleY=l[1]/2,Pl(this,"_doDispatchAxisPointer",i.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,o)}},r.prototype._moveHandleToValue=function(e,t){$o(this._axisPointerModel,!t&&this._moveAnimation,this._handle,La(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},r.prototype._onHandleDragMove=function(e,t){var n=this._handle;if(n){this._dragging=!0;var a=this.updateHandleTransform(La(n),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=a,n.stopAnimation(),n.attr(La(a)),It(n).lastProp=null,this._doDispatchAxisPointer()}},r.prototype._doDispatchAxisPointer=function(){var e=this._handle;if(e){var t=this._payloadInfo,n=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:n.axis.dim,axisIndex:n.componentIndex}]})}},r.prototype._onHandleDragEnd=function(){this._dragging=!1;var e=this._handle;if(e){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},r.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),n=this._group,a=this._handle;t&&n&&(this._lastGraphicKey=null,n&&t.remove(n),a&&t.remove(a),this._group=null,this._handle=null,this._payloadInfo=null),Fa(this,"_doDispatchAxisPointer")},r.prototype.doClear=function(){},r.prototype.buildLabel=function(e,t,n){return n=n||0,{x:e[n],y:e[1-n],width:t[n],height:t[1-n]}},r})();function $o(r,e,t,n){fc(It(t).lastProp,n)||(It(t).lastProp=n,e?Pe(t,n,r):(t.stopAnimation(),t.attr(n)))}function fc(r,e){if(ke(r)&&ke(e)){var t=!0;return E(e,function(n,a){t=t&&fc(r[a],n)}),!!t}else return r===e}function zo(r,e){r[e.get(["label","show"])?"show":"hide"]()}function La(r){return{x:r.x||0,y:r.y||0,rotation:r.rotation||0}}function Fo(r,e,t){var n=e.get("z"),a=e.get("zlevel");r&&r.traverse(function(i){i.type!=="group"&&(n!=null&&(i.z=n),a!=null&&(i.zlevel=a),i.silent=t)})}function Jm(r){var e=r.get("type"),t=r.getModel(e+"Style"),n;return e==="line"?(n=t.getLineStyle(),n.fill=null):e==="shadow"&&(n=t.getAreaStyle(),n.stroke=null),n}function Qm(r,e,t,n,a){var i=t.get("value"),s=dc(i,e.axis,e.ecModel,t.get("seriesDataIndices"),{precision:t.get(["label","precision"]),formatter:t.get(["label","formatter"])}),o=t.getModel("label"),l=ki(o.get("padding")||0),u=o.getFont(),c=Sl(s,u),h=a.position,f=c.width+l[1]+l[3],d=c.height+l[0]+l[2],p=a.align;p==="right"&&(h[0]-=f),p==="center"&&(h[0]-=f/2);var v=a.verticalAlign;v==="bottom"&&(h[1]-=d),v==="middle"&&(h[1]-=d/2),ey(h,f,d,n);var m=o.get("backgroundColor");(!m||m==="auto")&&(m=e.get(["axisLine","lineStyle","color"])),r.label={x:h[0],y:h[1],style:jn(o,{text:s,font:u,fill:o.getTextColor(),padding:l,backgroundColor:m}),z2:10}}function ey(r,e,t,n){var a=n.getWidth(),i=n.getHeight();r[0]=Math.min(r[0]+e,a)-e,r[1]=Math.min(r[1]+t,i)-t,r[0]=Math.max(r[0],0),r[1]=Math.max(r[1],0)}function dc(r,e,t,n,a){r=e.scale.parse(r);var i=e.scale.getLabel({value:r},{precision:a.precision}),s=a.formatter;if(s){var o={value:On(e,{value:r}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};E(n,function(l){var u=t.getSeriesByIndex(l.seriesIndex),c=l.dataIndexInside,h=u&&u.getDataParams(c);h&&o.seriesData.push(h)}),fe(s)?i=s.replace("{value}",i):ge(s)&&(i=s(o))}return i}function pc(r,e,t){var n=wi();return Ml(n,n,t.rotation),df(n,n,t.position),pf([r.dataToCoord(e),(t.labelOffset||0)+(t.labelDirection||1)*(t.labelMargin||0)],n)}function ty(r,e,t,n,a,i){var s=_t.innerTextLayout(t.rotation,0,t.labelDirection);t.labelMargin=a.get(["label","margin"]),Qm(e,n,a,i,{position:pc(n.axis,r,t),align:s.textAlign,verticalAlign:s.textVerticalAlign})}function ry(r,e,t){return t=t||0,{x1:r[t],y1:r[1-t],x2:e[t],y2:e[1-t]}}function ny(r,e,t){return t=t||0,{x:r[t],y:r[1-t],width:e[t],height:e[1-t]}}var ay=(function(r){Y(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,n,a,i,s){var o=a.axis,l=o.grid,u=i.get("type"),c=Ho(l,o).getOtherAxis(o).getGlobalExtent(),h=o.toGlobalCoord(o.dataToCoord(n,!0));if(u&&u!=="none"){var f=Jm(i),d=iy[u](o,h,c);d.style=f,t.graphicKey=d.type,t.pointer=d}var p=zn(l.getRect(),a);ty(n,t,p,a,i,s)},e.prototype.getHandleTransform=function(t,n,a){var i=zn(n.axis.grid.getRect(),n,{labelInside:!1});i.labelMargin=a.get(["handle","margin"]);var s=pc(n.axis,t,i);return{x:s[0],y:s[1],rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,n,a,i){var s=a.axis,o=s.grid,l=s.getGlobalExtent(!0),u=Ho(o,s).getOtherAxis(s).getGlobalExtent(),c=s.dim==="x"?0:1,h=[t.x,t.y];h[c]+=n[c],h[c]=Math.min(l[1],h[c]),h[c]=Math.max(l[0],h[c]);var f=(u[1]+u[0])/2,d=[f,f];d[c]=h[c];var p=[{verticalAlign:"middle"},{align:"center"}];return{x:h[0],y:h[1],rotation:t.rotation,cursorPoint:d,tooltipOption:p[c]}},e})(Km);function Ho(r,e){var t={};return t[e.dim+"AxisIndex"]=e.index,r.getCartesian(t)}var iy={line:function(r,e,t){var n=ry([e,t[0]],[e,t[1]],Go(r));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(r,e,t){var n=Math.max(1,r.getBandWidth()),a=t[1]-t[0];return{type:"Rect",shape:ny([e-n/2,t[0]],[n,a],Go(r))}}};function Go(r){return r.dim==="x"?0:1}var sy=(function(r){Y(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:ee.color.border,width:1,type:"dashed"},shadowStyle:{color:ee.color.shadowTint},label:{show:!0,formatter:null,precision:"auto",margin:3,color:ee.color.neutral00,padding:[5,7,5,7],backgroundColor:ee.color.accent60,borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:ee.color.accent40,throttle:40}},e})(it),at=Fe(),oy=E;function vc(r,e,t){if(!Ae.node){var n=e.getZr();at(n).records||(at(n).records={}),ly(n,e);var a=at(n).records[r]||(at(n).records[r]={});a.handler=t}}function ly(r,e){if(at(r).initialized)return;at(r).initialized=!0,t("click",ve(Vo,"click")),t("mousemove",ve(Vo,"mousemove")),t("globalout",cy);function t(n,a){r.on(n,function(i){var s=hy(e);oy(at(r).records,function(o){o&&a(o,i,s.dispatchAction)}),uy(s.pendings,e)})}}function uy(r,e){var t=r.showTip.length,n=r.hideTip.length,a;t?a=r.showTip[t-1]:n&&(a=r.hideTip[n-1]),a&&(a.dispatchAction=null,e.dispatchAction(a))}function cy(r,e,t){r.handler("leave",null,t)}function Vo(r,e,t,n){e.handler(r,t,n)}function hy(r){var e={showTip:[],hideTip:[]},t=function(n){var a=e[n.type];a?a.push(n):(n.dispatchAction=t,r.dispatchAction(n))};return{dispatchAction:t,pendings:e}}function ii(r,e){if(!Ae.node){var t=e.getZr(),n=(at(t).records||{})[r];n&&(at(t).records[r]=null)}}var fy=(function(r){Y(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,a){var i=n.getComponent("tooltip"),s=t.get("triggerOn")||i&&i.get("triggerOn")||"mousemove|click";vc("axisPointer",a,function(o,l,u){s!=="none"&&(o==="leave"||s.indexOf(o)>=0)&&u({type:"updateAxisPointer",currTrigger:o,x:l&&l.offsetX,y:l&&l.offsetY})})},e.prototype.remove=function(t,n){ii("axisPointer",n)},e.prototype.dispose=function(t,n){ii("axisPointer",n)},e.type="axisPointer",e})(kt);function gc(r,e){var t=[],n=r.seriesIndex,a;if(n==null||!(a=e.getSeriesByIndex(n)))return{point:[]};var i=a.getData(),s=za(i,r);if(s==null||s<0||ne(s))return{point:[]};var o=i.getItemGraphicEl(s),l=a.coordinateSystem;if(a.getTooltipPosition)t=a.getTooltipPosition(s)||[];else if(l&&l.dataToPoint)if(r.isStacked){var u=l.getBaseAxis(),c=l.getOtherAxis(u),h=c.dim,f=u.dim,d=h==="x"||h==="radius"?1:0,p=i.mapDimension(f),v=[];v[d]=i.get(p,s),v[1-d]=i.get(i.getCalculationInfo("stackResultDimension"),s),t=l.dataToPoint(v)||[]}else t=l.dataToPoint(i.getValues(ie(l.dimensions,function(g){return i.mapDimension(g)}),s))||[];else if(o){var m=o.getBoundingRect().clone();m.applyTransform(o.transform),t=[m.x+m.width/2,m.y+m.height/2]}return{point:t,el:o}}var Uo=Fe();function dy(r,e,t){var n=r.currTrigger,a=[r.x,r.y],i=r,s=r.dispatchAction||_e(t.dispatchAction,t),o=e.getComponent("axisPointer").coordSysAxesInfo;if(o){_n(a)&&(a=gc({seriesIndex:i.seriesIndex,dataIndex:i.dataIndex},e).point);var l=_n(a),u=i.axesInfo,c=o.axesInfo,h=n==="leave"||_n(a),f={},d={},p={list:[],map:{}},v={showPointer:ve(vy,d),showTooltip:ve(gy,p)};E(o.coordSysMap,function(g,y){var b=l||g.containPoint(a);E(o.coordSysAxesInfo[y],function(_,x){var k=_.axis,w=xy(u,_);if(!h&&b&&(!u||w)){var I=w&&w.value;I==null&&!l&&(I=k.pointToData(a)),I!=null&&Wo(_,I,v,!1,f)}})});var m={};return E(c,function(g,y){var b=g.linkGroup;b&&!d[y]&&E(b.axesInfo,function(_,x){var k=d[x];if(_!==g&&k){var w=k.value;b.mapper&&(w=g.axis.scale.parse(b.mapper(w,qo(_),qo(g)))),m[g.key]=w}})}),E(m,function(g,y){Wo(c[y],g,v,!0,f)}),my(d,c,f),yy(p,a,r,s),by(c,s,t),f}}function Wo(r,e,t,n,a){var i=r.axis;if(!(i.scale.isBlank()||!i.containData(e))){if(!r.involveSeries){t.showPointer(r,e);return}var s=py(e,r),o=s.payloadBatch,l=s.snapToValue;o[0]&&a.seriesIndex==null&&he(a,o[0]),!n&&r.snap&&i.containData(l)&&l!=null&&(e=l),t.showPointer(r,e,o),t.showTooltip(r,s,l)}}function py(r,e){var t=e.axis,n=t.dim,a=r,i=[],s=Number.MAX_VALUE,o=-1;return E(e.seriesModels,function(l,u){var c=l.getData().mapDimensionsAll(n),h,f;if(l.getAxisTooltipData){var d=l.getAxisTooltipData(c,r,t);f=d.dataIndices,h=d.nestestValue}else{if(f=l.indicesOfNearest(n,c[0],r,t.type==="category"?.5:null),!f.length)return;h=l.getData().get(c[0],f[0])}if(!(h==null||!isFinite(h))){var p=r-h,v=Math.abs(p);v<=s&&((v<s||p>=0&&o<0)&&(s=v,o=p,a=h,i.length=0),E(f,function(m){i.push({seriesIndex:l.seriesIndex,dataIndexInside:m,dataIndex:l.getData().getRawIndex(m)})}))}}),{payloadBatch:i,snapToValue:a}}function vy(r,e,t,n){r[e.key]={value:t,payloadBatch:n}}function gy(r,e,t,n){var a=t.payloadBatch,i=e.axis,s=i.model,o=e.axisPointerModel;if(!(!e.triggerTooltip||!a.length)){var l=e.coordSys.model,u=Mr(l),c=r.map[u];c||(c=r.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},r.list.push(c)),c.dataByAxis.push({axisDim:i.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:n,valueLabelOpt:{precision:o.get(["label","precision"]),formatter:o.get(["label","formatter"])},seriesDataIndices:a.slice()})}}function my(r,e,t){var n=t.axesInfo=[];E(e,function(a,i){var s=a.axisPointerModel.option,o=r[i];o?(!a.useHandle&&(s.status="show"),s.value=o.value,s.seriesDataIndices=(o.payloadBatch||[]).slice()):!a.useHandle&&(s.status="hide"),s.status==="show"&&n.push({axisDim:a.axis.dim,axisIndex:a.axis.model.componentIndex,value:s.value})})}function yy(r,e,t,n){if(_n(e)||!r.list.length){n({type:"hideTip"});return}var a=((r.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:t.tooltipOption,position:t.position,dataIndexInside:a.dataIndexInside,dataIndex:a.dataIndex,seriesIndex:a.seriesIndex,dataByCoordSys:r.list})}function by(r,e,t){var n=t.getZr(),a="axisPointerLastHighlights",i=Uo(n)[a]||{},s=Uo(n)[a]={};E(r,function(u,c){var h=u.axisPointerModel.option;h.status==="show"&&u.triggerEmphasis&&E(h.seriesDataIndices,function(f){var d=f.seriesIndex+" | "+f.dataIndex;s[d]=f})});var o=[],l=[];E(i,function(u,c){!s[c]&&l.push(u)}),E(s,function(u,c){!i[c]&&o.push(u)}),l.length&&t.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),o.length&&t.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:o})}function xy(r,e){for(var t=0;t<(r||[]).length;t++){var n=r[t];if(e.axis.dim===n.axisDim&&e.axis.model.componentIndex===n.axisIndex)return n}}function qo(r){var e=r.axis.model,t={},n=t.axisDim=r.axis.dim;return t.axisIndex=t[n+"AxisIndex"]=e.componentIndex,t.axisName=t[n+"AxisName"]=e.name,t.axisId=t[n+"AxisId"]=e.id,t}function _n(r){return!r||r[0]==null||isNaN(r[0])||r[1]==null||isNaN(r[1])}function mc(r){oc.registerAxisPointerClass("CartesianAxisPointer",ay),r.registerComponentModel(sy),r.registerComponentView(fy),r.registerPreprocessor(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!ne(t)&&(e.axisPointer.link=[t])}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=xm(e,t)}),r.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},dy)}function _y(r){ot(cc),ot(mc)}function Sy(r,e){var t=ki(e.get("padding")),n=e.getItemStyle(["color","opacity"]);n.fill=e.get("backgroundColor");var a=new Xe({shape:{x:r.x-t[3],y:r.y-t[0],width:r.width+t[1]+t[3],height:r.height+t[0]+t[2],r:e.get("borderRadius")},style:n,silent:!0,z2:-1});return a}var wy=(function(r){Y(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,displayTransition:!0,enterable:!1,backgroundColor:ee.color.neutral00,shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,defaultBorderColor:ee.color.border,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:ee.color.borderShade,width:1,type:"dashed",textStyle:{}}},textStyle:{color:ee.color.tertiary,fontSize:14}},e})(it);function yc(r){var e=r.get("confine");return e!=null?!!e:r.get("renderMode")==="richText"}function bc(r){if(Ae.domSupported){for(var e=document.documentElement.style,t=0,n=r.length;t<n;t++)if(r[t]in e)return r[t]}}var xc=bc(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ky=bc(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function _c(r,e){if(!r)return e;e=Nl(e,!0);var t=r.indexOf(e);return r=t===-1?e:"-"+r.slice(0,t)+"-"+e,r.toLowerCase()}function Ay(r,e){var t=r.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(r);return t?t[e]:null}var Cy=_c(ky,"transition"),Gi=_c(xc,"transform"),Dy="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Ae.transform3dSupported?"will-change:transform;":"");function Ty(r){return r=r==="left"?"right":r==="right"?"left":r==="top"?"bottom":"top",r}function Ly(r,e,t){if(!fe(t)||t==="inside")return"";var n=r.get("backgroundColor"),a=r.get("borderWidth");e=Zt(e);var i=Ty(t),s=Math.max(Math.round(a)*1.5,6),o="",l=Gi+":",u;Ee(["left","right"],i)>-1?(o+="top:50%",l+="translateY(-50%) rotate("+(u=i==="left"?-225:-45)+"deg)"):(o+="left:50%",l+="translateX(-50%) rotate("+(u=i==="top"?225:45)+"deg)");var c=u*Math.PI/180,h=s+a,f=h*Math.abs(Math.cos(c))+h*Math.abs(Math.sin(c)),d=Math.round(((f-Math.SQRT2*a)/2+Math.SQRT2*a-(f-h)/2)*100)/100;o+=";"+i+":-"+d+"px";var p=e+" solid "+a+"px;",v=["position:absolute;width:"+s+"px;height:"+s+"px;z-index:-1;",o+";"+l+";","border-bottom:"+p,"border-right:"+p,"background-color:"+n+";"];return'<div style="'+v.join("")+'"></div>'}function Iy(r,e,t){var n="cubic-bezier(0.23,1,0.32,1)",a="",i="";return t&&(a=" "+r/2+"s "+n,i="opacity"+a+",visibility"+a),e||(a=" "+r+"s "+n,i+=(i.length?",":"")+(Ae.transformSupported?""+Gi+a:",left"+a+",top"+a)),Cy+":"+i}function jo(r,e,t){var n=r.toFixed(0)+"px",a=e.toFixed(0)+"px";if(!Ae.transformSupported)return t?"top:"+a+";left:"+n+";":[["top",a],["left",n]];var i=Ae.transform3dSupported,s="translate"+(i?"3d":"")+"("+n+","+a+(i?",0":"")+")";return t?"top:0;left:0;"+Gi+":"+s+";":[["top",0],["left",0],[xc,s]]}function My(r){var e=[],t=r.get("fontSize"),n=r.getTextColor();n&&e.push("color:"+n),e.push("font:"+r.getFont());var a=me(r.get("lineHeight"),Math.round(t*3/2));t&&e.push("line-height:"+a+"px");var i=r.get("textShadowColor"),s=r.get("textShadowBlur")||0,o=r.get("textShadowOffsetX")||0,l=r.get("textShadowOffsetY")||0;return i&&s&&e.push("text-shadow:"+o+"px "+l+"px "+s+"px "+i),E(["decoration","align"],function(u){var c=r.get(u);c&&e.push("text-"+u+":"+c)}),e.join(";")}function Ey(r,e,t,n){var a=[],i=r.get("transitionDuration"),s=r.get("backgroundColor"),o=r.get("shadowBlur"),l=r.get("shadowColor"),u=r.get("shadowOffsetX"),c=r.get("shadowOffsetY"),h=r.getModel("textStyle"),f=Bl(r,"html"),d=u+"px "+c+"px "+o+"px "+l;return a.push("box-shadow:"+d),e&&i>0&&a.push(Iy(i,t,n)),s&&a.push("background-color:"+s),E(["width","color","radius"],function(p){var v="border-"+p,m=Nl(v),g=r.get(m);g!=null&&a.push(v+":"+g+(p==="color"?"":"px"))}),a.push(My(h)),f!=null&&a.push("padding:"+ki(f).join("px ")+"px"),a.join(";")+";"}function Zo(r,e,t,n,a){var i=e&&e.painter;if(t){var s=i&&i.getViewportRoot();s&&gf(r,s,t,n,a)}else{r[0]=n,r[1]=a;var o=i&&i.getViewportRootOffset();o&&(r[0]+=o.offsetLeft,r[1]+=o.offsetTop)}r[2]=r[0]/e.getWidth(),r[3]=r[1]/e.getHeight()}var Ry=(function(){function r(e,t){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,Ae.wxa)return null;var n=document.createElement("div");n.domBelongToZr=!0,this.el=n;var a=this._zr=e.getZr(),i=t.appendTo,s=i&&(fe(i)?document.querySelector(i):vs(i)?i:ge(i)&&i(e.getDom()));Zo(this._styleCoord,a,s,e.getWidth()/2,e.getHeight()/2),(s||e.getDom()).appendChild(n),this._api=e,this._container=s;var o=this;n.onmouseenter=function(){o._enterable&&(clearTimeout(o._hideTimeout),o._show=!0),o._inContent=!0},n.onmousemove=function(l){if(l=l||window.event,!o._enterable){var u=a.handler,c=a.painter.getViewportRoot();vf(c,l,!0),u.dispatch("mousemove",l)}},n.onmouseleave=function(){o._inContent=!1,o._enterable&&o._show&&o.hideLater(o._hideDelay)}}return r.prototype.update=function(e){if(!this._container){var t=this._api.getDom(),n=Ay(t,"position"),a=t.style;a.position!=="absolute"&&n!=="absolute"&&(a.position="relative")}var i=e.get("alwaysShowContent");i&&this._moveIfResized(),this._alwaysShowContent=i,this._enableDisplayTransition=e.get("displayTransition")&&e.get("transitionDuration")>0,this.el.className=e.get("className")||""},r.prototype.show=function(e,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,a=n.style,i=this._styleCoord;n.innerHTML?a.cssText=Dy+Ey(e,!this._firstShow,this._longHide,this._enableDisplayTransition)+jo(i[0],i[1],!0)+("border-color:"+Zt(t)+";")+(e.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):a.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},r.prototype.setContent=function(e,t,n,a,i){var s=this.el;if(e==null){s.innerHTML="";return}var o="";if(fe(i)&&n.get("trigger")==="item"&&!yc(n)&&(o=Ly(n,a,i)),fe(e))s.innerHTML=e+o;else if(e){s.innerHTML="",ne(e)||(e=[e]);for(var l=0;l<e.length;l++)vs(e[l])&&e[l].parentNode!==s&&s.appendChild(e[l]);if(o&&s.childNodes.length){var u=document.createElement("div");u.innerHTML=o,s.appendChild(u)}}},r.prototype.setEnterable=function(e){this._enterable=e},r.prototype.getSize=function(){var e=this.el;return e?[e.offsetWidth,e.offsetHeight]:[0,0]},r.prototype.moveTo=function(e,t){if(this.el){var n=this._styleCoord;if(Zo(n,this._zr,this._container,e,t),n[0]!=null&&n[1]!=null){var a=this.el.style,i=jo(n[0],n[1]);E(i,function(s){a[s[0]]=s[1]})}}},r.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},r.prototype.hide=function(){var e=this,t=this.el.style;this._enableDisplayTransition?(t.visibility="hidden",t.opacity="0"):t.display="none",Ae.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},r.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(_e(this.hide,this),e)):this.hide())},r.prototype.isShow=function(){return this._show},r.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var e=this._zr;mf(e&&e.painter&&e.painter.getViewportRoot(),this._container);var t=this.el;if(t){t.onmouseenter=t.onmousemove=t.onmouseleave=null;var n=t.parentNode;n&&n.removeChild(t)}this.el=this._container=null},r})(),Oy=(function(){function r(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),Yo(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return r.prototype.update=function(e){var t=e.get("alwaysShowContent");t&&this._moveIfResized(),this._alwaysShowContent=t},r.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},r.prototype.setContent=function(e,t,n,a,i){var s=this;ke(e)&&yf(""),this.el&&this._zr.remove(this.el);var o=n.getModel("textStyle");this.el=new At({style:{rich:t.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:a,textShadowColor:o.get("textShadowColor"),fill:n.get(["textStyle","color"]),padding:Bl(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),E(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(u){s.el.style[u]=n.get(u)}),E(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(u){s.el.style[u]=o.get(u)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},r.prototype.setEnterable=function(e){this._enterable=e},r.prototype.getSize=function(){var e=this.el,t=this.el.getBoundingRect(),n=Xo(e.style);return[t.width+n.left+n.right,t.height+n.top+n.bottom]},r.prototype.moveTo=function(e,t){var n=this.el;if(n){var a=this._styleCoord;Yo(a,this._zr,e,t),e=a[0],t=a[1];var i=n.style,s=vt(i.borderWidth||0),o=Xo(i);n.x=e+s+o.left,n.y=t+s+o.top,n.markRedraw()}},r.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},r.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},r.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(_e(this.hide,this),e)):this.hide())},r.prototype.isShow=function(){return this._show},r.prototype.dispose=function(){this._zr.remove(this.el)},r})();function vt(r){return Math.max(0,r)}function Xo(r){var e=vt(r.shadowBlur||0),t=vt(r.shadowOffsetX||0),n=vt(r.shadowOffsetY||0);return{left:vt(e-t),right:vt(e+t),top:vt(e-n),bottom:vt(e+n)}}function Yo(r,e,t,n){r[0]=t,r[1]=n,r[2]=r[0]/e.getWidth(),r[3]=r[1]/e.getHeight()}var Py=new Xe({shape:{x:-1,y:-1,width:2,height:2}}),Ny=(function(r){Y(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,n){if(!(Ae.node||!n.getDom())){var a=t.getComponent("tooltip"),i=this._renderMode=bf(a.get("renderMode"));this._tooltipContent=i==="richText"?new Oy(n):new Ry(n,{appendTo:a.get("appendToBody",!0)?"body":a.get("appendTo",!0)})}},e.prototype.render=function(t,n,a){if(!(Ae.node||!a.getDom())){this.group.removeAll(),this._tooltipModel=t,this._ecModel=n,this._api=a;var i=this._tooltipContent;i.update(t),i.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&t.get("transitionDuration")?Pl(this,"_updatePosition",50,"fixRate"):Fa(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel,n=t.get("triggerOn");vc("itemTooltip",this._api,_e(function(a,i,s){n!=="none"&&(n.indexOf(a)>=0?this._tryShow(i,s):a==="leave"&&this._hide(s))},this))},e.prototype._keepShow=function(){var t=this._tooltipModel,n=this._ecModel,a=this._api,i=t.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&i!=="none"&&i!=="click"){var s=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!a.isDisposed()&&s.manuallyShowTip(t,n,a,{x:s._lastX,y:s._lastY,dataByCoordSys:s._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(t,n,a,i){if(!(i.from===this.uid||Ae.node||!a.getDom())){var s=Ko(i,a);this._ticket="";var o=i.dataByCoordSys,l=Fy(i,n,a);if(l){var u=l.el.getBoundingRect().clone();u.applyTransform(l.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:l.el,position:i.position,positionDefault:"bottom"},s)}else if(i.tooltip&&i.x!=null&&i.y!=null){var c=Py;c.x=i.x,c.y=i.y,c.update(),ye(c).tooltipConfig={name:null,option:i.tooltip},this._tryShow({offsetX:i.x,offsetY:i.y,target:c},s)}else if(o)this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,dataByCoordSys:o,tooltipOption:i.tooltipOption},s);else if(i.seriesIndex!=null){if(this._manuallyAxisShowTip(t,n,a,i))return;var h=gc(i,n),f=h.point[0],d=h.point[1];f!=null&&d!=null&&this._tryShow({offsetX:f,offsetY:d,target:h.el,position:i.position,positionDefault:"bottom"},s)}else i.x!=null&&i.y!=null&&(a.dispatchAction({type:"updateAxisPointer",x:i.x,y:i.y}),this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:a.getZr().findHover(i.x,i.y).target},s))}},e.prototype.manuallyHideTip=function(t,n,a,i){var s=this._tooltipContent;this._tooltipModel&&s.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,i.from!==this.uid&&this._hide(Ko(i,a))},e.prototype._manuallyAxisShowTip=function(t,n,a,i){var s=i.seriesIndex,o=i.dataIndex,l=n.getComponent("axisPointer").coordSysAxesInfo;if(!(s==null||o==null||l==null)){var u=n.getSeriesByIndex(s);if(u){var c=u.getData(),h=pr([c.getItemModel(o),u,(u.coordinateSystem||{}).model],this._tooltipModel);if(h.get("trigger")==="axis")return a.dispatchAction({type:"updateAxisPointer",seriesIndex:s,dataIndex:o,position:i.position}),!0}}},e.prototype._tryShow=function(t,n){var a=t.target,i=this._tooltipModel;if(i){this._lastX=t.offsetX,this._lastY=t.offsetY;var s=t.dataByCoordSys;if(s&&s.length)this._showAxisTooltip(s,t);else if(a){var o=ye(a);if(o.ssrType==="legend")return;this._lastDataByCoordSys=null;var l,u;xf(a,function(c){if(c.tooltipDisabled)return l=u=null,!0;l||u||(ye(c).dataIndex!=null?l=c:ye(c).tooltipConfig!=null&&(u=c))},!0),l?this._showSeriesItemTooltip(t,l,n):u?this._showComponentItemTooltip(t,u,n):this._hide(n)}else this._lastDataByCoordSys=null,this._hide(n)}},e.prototype._showOrMove=function(t,n){var a=t.get("showDelay");n=_e(n,this),clearTimeout(this._showTimout),a>0?this._showTimout=setTimeout(n,a):n()},e.prototype._showAxisTooltip=function(t,n){var a=this._ecModel,i=this._tooltipModel,s=[n.offsetX,n.offsetY],o=pr([n.tooltipOption],i),l=this._renderMode,u=[],c=Mn("section",{blocks:[],noHeader:!0}),h=[],f=new oa;E(t,function(y){E(y.dataByAxis,function(b){var _=a.getComponent(b.axisDim+"Axis",b.axisIndex),x=b.value;if(!(!_||x==null)){var k=dc(x,_.axis,a,b.seriesDataIndices,b.valueLabelOpt),w=Mn("section",{header:k,noHeader:!_f(k),sortBlocks:!0,blocks:[]});c.blocks.push(w),E(b.seriesDataIndices,function(I){var L=a.getSeriesByIndex(I.seriesIndex),T=I.dataIndexInside,A=L.getDataParams(T);if(!(A.dataIndex<0)){A.axisDim=b.axisDim,A.axisIndex=b.axisIndex,A.axisType=b.axisType,A.axisId=b.axisId,A.axisValue=On(_.axis,{value:x}),A.axisValueLabel=k,A.marker=f.makeTooltipMarker("item",Zt(A.color),l);var O=gs(L.formatTooltip(T,!0,null)),D=O.frag;if(D){var P=pr([L],i).get("valueFormatter");w.blocks.push(P?he({valueFormatter:P},D):D)}O.text&&h.push(O.text),u.push(A)}})}})}),c.blocks.reverse(),h.reverse();var d=n.position,p=o.get("order"),v=ms(c,f,l,p,a.get("useUTC"),o.get("textStyle"));v&&h.unshift(v);var m=l==="richText"?`

`:"<br/>",g=h.join(m);this._showOrMove(o,function(){this._updateContentNotChangedOnAxis(t,u)?this._updatePosition(o,d,s[0],s[1],this._tooltipContent,u):this._showTooltipContent(o,g,u,Math.random()+"",s[0],s[1],d,null,f)})},e.prototype._showSeriesItemTooltip=function(t,n,a){var i=this._ecModel,s=ye(n),o=s.seriesIndex,l=i.getSeriesByIndex(o),u=s.dataModel||l,c=s.dataIndex,h=s.dataType,f=u.getData(h),d=this._renderMode,p=t.positionDefault,v=pr([f.getItemModel(c),u,l&&(l.coordinateSystem||{}).model],this._tooltipModel,p?{position:p}:null),m=v.get("trigger");if(!(m!=null&&m!=="item")){var g=u.getDataParams(c,h),y=new oa;g.marker=y.makeTooltipMarker("item",Zt(g.color),d);var b=gs(u.formatTooltip(c,!1,h)),_=v.get("order"),x=v.get("valueFormatter"),k=b.frag,w=k?ms(x?he({valueFormatter:x},k):k,y,d,_,i.get("useUTC"),v.get("textStyle")):b.text,I="item_"+u.name+"_"+c;this._showOrMove(v,function(){this._showTooltipContent(v,w,g,I,t.offsetX,t.offsetY,t.position,t.target,y)}),a({type:"showTip",dataIndexInside:c,dataIndex:f.getRawIndex(c),seriesIndex:o,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,n,a){var i=this._renderMode==="html",s=ye(n),o=s.tooltipConfig,l=o.option||{},u=l.encodeHTMLContent;if(fe(l)){var c=l;l={content:c,formatter:c},u=!0}u&&i&&l.content&&(l=Ot(l),l.content=Sf(l.content));var h=[l],f=this._ecModel.getComponent(s.componentMainType,s.componentIndex);f&&h.push(f),h.push({formatter:l.content});var d=t.positionDefault,p=pr(h,this._tooltipModel,d?{position:d}:null),v=p.get("content"),m=Math.random()+"",g=new oa;this._showOrMove(p,function(){var y=Ot(p.get("formatterParams")||{});this._showTooltipContent(p,v,y,m,t.offsetX,t.offsetY,t.position,n,g)}),a({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,n,a,i,s,o,l,u,c){if(this._ticket="",!(!t.get("showContent")||!t.get("show"))){var h=this._tooltipContent;h.setEnterable(t.get("enterable"));var f=t.get("formatter");l=l||t.get("position");var d=n,p=this._getNearestPoint([s,o],a,t.get("trigger"),t.get("borderColor"),t.get("defaultBorderColor",!0)),v=p.color;if(f)if(fe(f)){var m=t.ecModel.get("useUTC"),g=ne(a)?a[0]:a,y=g&&g.axisType&&g.axisType.indexOf("time")>=0;d=f,y&&(d=bl(g.axisValue,d,m)),d=wf(d,a,!0)}else if(ge(f)){var b=_e(function(_,x){_===this._ticket&&(h.setContent(x,c,t,v,l),this._updatePosition(t,l,s,o,h,a,u))},this);this._ticket=i,d=f(a,i,b)}else d=f;h.setContent(d,c,t,v,l),h.show(t,v),this._updatePosition(t,l,s,o,h,a,u)}},e.prototype._getNearestPoint=function(t,n,a,i,s){if(a==="axis"||ne(n))return{color:i||s};if(!ne(n))return{color:i||n.color||n.borderColor}},e.prototype._updatePosition=function(t,n,a,i,s,o,l){var u=this._api.getWidth(),c=this._api.getHeight();n=n||t.get("position");var h=s.getSize(),f=t.get("align"),d=t.get("verticalAlign"),p=l&&l.getBoundingRect().clone();if(l&&p.applyTransform(l.transform),ge(n)&&(n=n([a,i],o,s.el,p,{viewSize:[u,c],contentSize:h.slice()})),ne(n))a=ze(n[0],u),i=ze(n[1],c);else if(ke(n)){var v=n;v.width=h[0],v.height=h[1];var m=Dr(v,{width:u,height:c});a=m.x,i=m.y,f=null,d=null}else if(fe(n)&&l){var g=zy(n,p,h,t.get("borderWidth"));a=g[0],i=g[1]}else{var g=By(a,i,s,u,c,f?null:20,d?null:20);a=g[0],i=g[1]}if(f&&(a-=Jo(f)?h[0]/2:f==="right"?h[0]:0),d&&(i-=Jo(d)?h[1]/2:d==="bottom"?h[1]:0),yc(t)){var g=$y(a,i,s,u,c);a=g[0],i=g[1]}s.moveTo(a,i)},e.prototype._updateContentNotChangedOnAxis=function(t,n){var a=this._lastDataByCoordSys,i=this._cbParamsList,s=!!a&&a.length===t.length;return s&&E(a,function(o,l){var u=o.dataByAxis||[],c=t[l]||{},h=c.dataByAxis||[];s=s&&u.length===h.length,s&&E(u,function(f,d){var p=h[d]||{},v=f.seriesDataIndices||[],m=p.seriesDataIndices||[];s=s&&f.value===p.value&&f.axisType===p.axisType&&f.axisId===p.axisId&&v.length===m.length,s&&E(v,function(g,y){var b=m[y];s=s&&g.seriesIndex===b.seriesIndex&&g.dataIndex===b.dataIndex}),i&&E(f.seriesDataIndices,function(g){var y=g.seriesIndex,b=n[y],_=i[y];b&&_&&_.data!==b.data&&(s=!1)})})}),this._lastDataByCoordSys=t,this._cbParamsList=n,!!s},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,n){Ae.node||!n.getDom()||(Fa(this,"_updatePosition"),this._tooltipContent.dispose(),ii("itemTooltip",n))},e.type="tooltip",e})(kt);function pr(r,e,t){var n=e.ecModel,a;t?(a=new mt(t,n,n),a=new mt(e.option,a,n)):a=e;for(var i=r.length-1;i>=0;i--){var s=r[i];s&&(s instanceof mt&&(s=s.get("tooltip",!0)),fe(s)&&(s={formatter:s}),s&&(a=new mt(s,a,n)))}return a}function Ko(r,e){return r.dispatchAction||_e(e.dispatchAction,e)}function By(r,e,t,n,a,i,s){var o=t.getSize(),l=o[0],u=o[1];return i!=null&&(r+l+i+2>n?r-=l+i:r+=i),s!=null&&(e+u+s>a?e-=u+s:e+=s),[r,e]}function $y(r,e,t,n,a){var i=t.getSize(),s=i[0],o=i[1];return r=Math.min(r+s,n)-s,e=Math.min(e+o,a)-o,r=Math.max(r,0),e=Math.max(e,0),[r,e]}function zy(r,e,t,n){var a=t[0],i=t[1],s=Math.ceil(Math.SQRT2*n)+8,o=0,l=0,u=e.width,c=e.height;switch(r){case"inside":o=e.x+u/2-a/2,l=e.y+c/2-i/2;break;case"top":o=e.x+u/2-a/2,l=e.y-i-s;break;case"bottom":o=e.x+u/2-a/2,l=e.y+c+s;break;case"left":o=e.x-a-s,l=e.y+c/2-i/2;break;case"right":o=e.x+u+s,l=e.y+c/2-i/2}return[o,l]}function Jo(r){return r==="center"||r==="middle"}function Fy(r,e,t){var n=kf(r).queryOptionMap,a=n.keys()[0];if(!(!a||a==="series")){var i=Af(e,a,n.get(a),{useDefault:!1,enableAll:!1,enableNone:!1}),s=i.models[0];if(s){var o=t.getViewOfComponentModel(s),l;if(o.group.traverse(function(u){var c=ye(u).tooltipConfig;if(c&&c.name===r.name)return l=u,!0}),l)return{componentMainType:a,componentIndex:s.componentIndex,el:l}}}}function Hy(r){ot(mc),r.registerComponentModel(wy),r.registerComponentView(Ny),r.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},ys),r.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},ys)}function Gy(r,e){if(!r)return!1;for(var t=ne(r)?r:[r],n=0;n<t.length;n++)if(t[n]&&t[n][e])return!0;return!1}function ln(r){Cf(r,"label",["show"])}var un=Fe(),er=(function(r){Y(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.createdBySelf=!1,t.preventAutoZ=!0,t}return e.prototype.init=function(t,n,a){this.mergeDefaultAndTheme(t,a),this._mergeOption(t,a,!1,!0)},e.prototype.isAnimationEnabled=function(){if(Ae.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},e.prototype.mergeOption=function(t,n){this._mergeOption(t,n,!1,!1)},e.prototype._mergeOption=function(t,n,a,i){var s=this.mainType;a||n.eachSeries(function(o){var l=o.get(this.mainType,!0),u=un(o)[s];if(!l||!l.data){un(o)[s]=null;return}u?u._mergeOption(l,n,!0):(i&&ln(l),E(l.data,function(c){c instanceof Array?(ln(c[0]),ln(c[1])):ln(c)}),u=this.createMarkerModelFromSeries(l,this,n),he(u,{mainType:this.mainType,seriesIndex:o.seriesIndex,name:o.name,createdBySelf:!0}),u.__hostSeries=o),un(o)[s]=u},this)},e.prototype.formatTooltip=function(t,n,a){var i=this.getData(),s=this.getRawValue(t),o=i.getName(t);return Mn("section",{header:this.name,blocks:[Mn("nameValue",{name:o,value:s,noName:!o,noValue:s==null})]})},e.prototype.getData=function(){return this._data},e.prototype.setData=function(t){this._data=t},e.prototype.getDataParams=function(t,n){var a=$l.prototype.getDataParams.call(this,t,n),i=this.__hostSeries;return i&&(a.seriesId=i.id,a.seriesName=i.name,a.seriesType=i.subType),a},e.getMarkerModelFromSeries=function(t,n){return un(t)[n]},e.type="marker",e.dependencies=["series","grid","polar","geo"],e})(it);_i(er,$l.prototype);function si(r){return!(isNaN(parseFloat(r.x))&&isNaN(parseFloat(r.y)))}function Vy(r){return!isNaN(parseFloat(r.x))&&!isNaN(parseFloat(r.y))}function cn(r,e,t,n,a,i,s){var o=[],l=Bt(e,a),u=l?e.getCalculationInfo("stackResultDimension"):a,c=oi(e,u,r),h=e.hostModel,f=h.indicesOfNearest(t,u,c)[0];o[i]=e.get(n,f),o[s]=e.get(u,f);var d=e.get(a,f),p=Wn(e.get(a,f));return p=Math.min(p,20),p>=0&&(o[s]=+o[s].toFixed(p)),[o,d]}var hn={min:ve(cn,"min"),max:ve(cn,"max"),average:ve(cn,"average"),median:ve(cn,"median")};function Qo(r,e){if(e){var t=r.getData(),n=r.coordinateSystem,a=n&&n.dimensions;if(!Vy(e)&&!ne(e.coord)&&ne(a)){var i=Uy(e,t,n,r);if(e=Ot(e),e.type&&hn[e.type]&&i.baseAxis&&i.valueAxis){var s=Ee(a,i.baseAxis.dim),o=Ee(a,i.valueAxis.dim),l=hn[e.type](t,i.valueAxis.dim,i.baseDataDim,i.valueDataDim,s,o);e.coord=l[0],e.value=l[1]}else e.coord=[e.xAxis!=null?e.xAxis:e.radiusAxis,e.yAxis!=null?e.yAxis:e.angleAxis]}if(e.coord==null||!ne(a)){e.coord=[];var u=r.getBaseAxis();if(u&&e.type&&hn[e.type]){var c=n.getOtherAxis(u);c&&(e.value=oi(t,t.mapDimension(c.dim),e.type))}}else for(var h=e.coord,f=0;f<2;f++)hn[h[f]]&&(h[f]=oi(t,t.mapDimension(a[f]),h[f]));return e}}function Uy(r,e,t,n){var a={};return r.valueIndex!=null||r.valueDim!=null?(a.valueDataDim=r.valueIndex!=null?e.getDimension(r.valueIndex):r.valueDim,a.valueAxis=t.getAxis(Wy(n,a.valueDataDim)),a.baseAxis=t.getOtherAxis(a.valueAxis),a.baseDataDim=e.mapDimension(a.baseAxis.dim)):(a.baseAxis=n.getBaseAxis(),a.valueAxis=t.getOtherAxis(a.baseAxis),a.baseDataDim=e.mapDimension(a.baseAxis.dim),a.valueDataDim=e.mapDimension(a.valueAxis.dim)),a}function Wy(r,e){var t=r.getData().getDimensionInfo(e);return t&&t.coordDim}function el(r,e){return r&&r.containData&&e.coord&&!si(e)?r.containData(e.coord):!0}function qy(r,e,t){return r&&r.containZone&&e.coord&&t.coord&&!si(e)&&!si(t)?r.containZone(e.coord,t.coord):!0}function oi(r,e,t){if(t==="average"){var n=0,a=0;return r.each(e,function(i,s){isNaN(i)||(n+=i,a++)}),n/a}else return t==="median"?r.getMedian(e):r.getDataExtent(e)[t==="max"?1:0]}var Ia=Fe(),jy=(function(r){Y(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){this.markerGroupMap=Re()},e.prototype.render=function(t,n,a){var i=this,s=this.markerGroupMap;s.each(function(o){Ia(o).keep=!1}),n.eachSeries(function(o){var l=er.getMarkerModelFromSeries(o,i.type);l&&i.renderSeries(o,l,n,a)}),s.each(function(o){!Ia(o).keep&&i.group.remove(o.group)}),Zy(n,s,this.type)},e.prototype.markKeep=function(t){Ia(t).keep=!0},e.prototype.toggleBlurSeries=function(t,n){var a=this;E(t,function(i){var s=er.getMarkerModelFromSeries(i,a.type);if(s){var o=s.getData();o.eachItemGraphicEl(function(l){l&&(n?Df(l):Tf(l))})}})},e.type="marker",e})(kt);function Zy(r,e,t){r.eachSeries(function(n){var a=er.getMarkerModelFromSeries(n,t),i=e.get(n.id);if(a&&i&&i.group){var s=Lf(a),o=s.z,l=s.zlevel;If(i.group,o,l)}})}var Xy=(function(r){Y(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.createMarkerModelFromSeries=function(t,n,a){return new e(t,n,a)},e.type="markArea",e.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},e})(er),fn=Fe(),Yy=function(r,e,t,n){var a=n[0],i=n[1];if(!(!a||!i)){var s=Qo(r,a),o=Qo(r,i),l=s.coord,u=o.coord;l[0]=yt(l[0],-1/0),l[1]=yt(l[1],-1/0),u[0]=yt(u[0],1/0),u[1]=yt(u[1],1/0);var c=Ef([{},s,o]);return c.coord=[s.coord,o.coord],c.x0=s.x,c.y0=s.y,c.x1=o.x,c.y1=o.y,c}};function Fn(r){return!isNaN(r)&&!isFinite(r)}function tl(r,e,t,n){var a=1-r;return Fn(e[a])&&Fn(t[a])}function Ky(r,e){var t=e.coord[0],n=e.coord[1],a={coord:t,x:e.x0,y:e.y0},i={coord:n,x:e.x1,y:e.y1};return Fr(r,"cartesian2d")?t&&n&&(tl(1,t,n)||tl(0,t,n))?!0:qy(r,a,i):el(r,a)||el(r,i)}function rl(r,e,t,n,a){var i=n.coordinateSystem,s=r.getItemModel(e),o,l=ze(s.get(t[0]),a.getWidth()),u=ze(s.get(t[1]),a.getHeight());if(!isNaN(l)&&!isNaN(u))o=[l,u];else{if(n.getMarkerPosition){var c=r.getValues(["x0","y0"],e),h=r.getValues(["x1","y1"],e),f=i.clampData(c),d=i.clampData(h),p=[];t[0]==="x0"?p[0]=f[0]>d[0]?h[0]:c[0]:p[0]=f[0]>d[0]?c[0]:h[0],t[1]==="y0"?p[1]=f[1]>d[1]?h[1]:c[1]:p[1]=f[1]>d[1]?c[1]:h[1],o=n.getMarkerPosition(p,t,!0)}else{var v=r.get(t[0],e),m=r.get(t[1],e),g=[v,m];i.clampData&&i.clampData(g,g),o=i.dataToPoint(g,!0)}if(Fr(i,"cartesian2d")){var y=i.getAxis("x"),b=i.getAxis("y"),v=r.get(t[0],e),m=r.get(t[1],e);Fn(v)?o[0]=y.toGlobalCoord(y.getExtent()[t[0]==="x0"?0:1]):Fn(m)&&(o[1]=b.toGlobalCoord(b.getExtent()[t[1]==="y0"?0:1]))}isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u)}return o}var nl=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],Jy=(function(r){Y(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.updateTransform=function(t,n,a){n.eachSeries(function(i){var s=er.getMarkerModelFromSeries(i,"markArea");if(s){var o=s.getData();o.each(function(l){var u=ie(nl,function(h){return rl(o,l,h,i,a)});o.setItemLayout(l,u);var c=o.getItemGraphicEl(l);c.setShape("points",u)})}},this)},e.prototype.renderSeries=function(t,n,a,i){var s=t.coordinateSystem,o=t.id,l=t.getData(),u=this.markerGroupMap,c=u.get(o)||u.set(o,{group:new Me});this.group.add(c.group),this.markKeep(c);var h=Qy(s,t,n);n.setData(h),h.each(function(f){var d=ie(nl,function(T){return rl(h,f,T,t,i)}),p=s.getAxis("x").scale,v=s.getAxis("y").scale,m=p.getExtent(),g=v.getExtent(),y=[p.parse(h.get("x0",f)),p.parse(h.get("x1",f))],b=[v.parse(h.get("y0",f)),v.parse(h.get("y1",f))];bs(y),bs(b);var _=!(m[0]>y[1]||m[1]<y[0]||g[0]>b[1]||g[1]<b[0]),x=!_;h.setItemLayout(f,{points:d,allClipped:x});var k=h.getItemModel(f),w=k.getModel("itemStyle").getItemStyle(),I=k.get("z2"),L=Mf(l,"color");w.fill||(w.fill=L,fe(w.fill)&&(w.fill=xs(w.fill,.4))),w.stroke||(w.stroke=L),h.setItemVisual(f,"style",w),h.setItemVisual(f,"z2",me(I,0))}),h.diff(fn(c).data).add(function(f){var d=h.getItemLayout(f),p=h.getItemVisual(f,"z2");if(!d.allClipped){var v=new _s({z2:me(p,0),shape:{points:d.points}});h.setItemGraphicEl(f,v),c.group.add(v)}}).update(function(f,d){var p=fn(c).data.getItemGraphicEl(d),v=h.getItemLayout(f),m=h.getItemVisual(f,"z2");v.allClipped?p&&c.group.remove(p):(p?Pe(p,{z2:me(m,0),shape:{points:v.points}},n,f):p=new _s({shape:{points:v.points}}),h.setItemGraphicEl(f,p),c.group.add(p))}).remove(function(f){var d=fn(c).data.getItemGraphicEl(f);c.group.remove(d)}).execute(),h.eachItemGraphicEl(function(f,d){var p=h.getItemModel(d),v=h.getItemVisual(d,"style");f.useStyle(h.getItemVisual(d,"style")),Rr(f,Er(p),{labelFetcher:n,labelDataIndex:d,defaultText:h.getName(d)||"",inheritColor:fe(v.fill)?xs(v.fill,1):ee.color.neutral99}),Ar(f,p),jt(f,null,null,p.get(["emphasis","disabled"])),ye(f).dataModel=n}),fn(c).data=h,c.group.silent=n.get("silent")||t.get("silent")},e.type="markArea",e})(jy);function Qy(r,e,t){var n,a,i=["x0","y0","x1","y1"];if(r){var s=ie(r&&r.dimensions,function(u){var c=e.getData(),h=c.getDimensionInfo(c.mapDimension(u))||{};return he(he({},h),{name:u,ordinalMeta:null})});a=ie(i,function(u,c){return{name:u,type:s[c%2].type}}),n=new Rn(a,t)}else a=[{name:"value",type:"float"}],n=new Rn(a,t);var o=ie(t.get("data"),ve(Yy,e,r,t));r&&(o=wt(o,ve(Ky,r)));var l=r?function(u,c,h,f){var d=u.coord[Math.floor(f/2)][f%2];return Ss(d,a[f])}:function(u,c,h,f){return Ss(u.value,a[f])};return n.initData(o,null,l),n.hasItemOption=!0,n}function e0(r){r.registerComponentModel(Xy),r.registerComponentView(Jy),r.registerPreprocessor(function(e){Gy(e.series,"markArea")&&(e.markArea=e.markArea||{})})}var t0=function(r,e){if(e==="all")return{type:"all",title:r.getLocaleModel().get(["legend","selector","all"])};if(e==="inverse")return{type:"inverse",title:r.getLocaleModel().get(["legend","selector","inverse"])}},li=(function(r){Y(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.prototype.init=function(t,n,a){this.mergeDefaultAndTheme(t,a),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(t,n){r.prototype.mergeOption.call(this,t,n),this._updateSelector(t)},e.prototype._updateSelector=function(t){var n=t.selector,a=this.ecModel;n===!0&&(n=t.selector=["all","inverse"]),ne(n)&&E(n,function(i,s){fe(i)&&(i={type:i}),n[s]=$e(i,t0(a,i.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&this.get("selectedMode")==="single"){for(var n=!1,a=0;a<t.length;a++){var i=t[a].get("name");if(this.isSelected(i)){this.select(i),n=!0;break}}!n&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var n=[],a=[];t.eachRawSeries(function(l){var u=l.name;a.push(u);var c;if(l.legendVisualProvider){var h=l.legendVisualProvider,f=h.getAllNames();t.isSeriesFiltered(l)||(a=a.concat(f)),f.length?n=n.concat(f):c=!0}else c=!0;c&&Rf(l)&&n.push(l.name)}),this._availableNames=a;var i=this.get("data")||n,s=Re(),o=ie(i,function(l){return(fe(l)||St(l))&&(l={name:l}),s.get(l.name)?null:(s.set(l.name,!0),new mt(l,this,this.ecModel))},this);this._data=wt(o,function(l){return!!l})},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var n=this.option.selected,a=this.get("selectedMode");if(a==="single"){var i=this._data;E(i,function(s){n[s.get("name")]=!1})}n[t]=!0},e.prototype.unSelect=function(t){this.get("selectedMode")!=="single"&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var n=this.option.selected;n.hasOwnProperty(t)||(n[t]=!0),this[n[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,n=this.option.selected;E(t,function(a){n[a.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var t=this._data,n=this.option.selected;E(t,function(a){var i=a.get("name",!0);n.hasOwnProperty(i)||(n[i]=!0),n[i]=!n[i]})},e.prototype.isSelected=function(t){var n=this.option.selected;return!(n.hasOwnProperty(t)&&!n[t])&&Ee(this._availableNames,t)>=0},e.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",bottom:ee.size.m,align:"auto",backgroundColor:ee.color.transparent,borderColor:ee.color.border,borderRadius:0,borderWidth:0,padding:5,itemGap:8,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:ee.color.disabled,inactiveBorderColor:ee.color.disabled,inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:ee.color.disabled,inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:ee.color.secondary},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:ee.color.tertiary,borderWidth:1,borderColor:ee.color.border},emphasis:{selectorLabel:{show:!0,color:ee.color.quaternary}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1},triggerEvent:!1},e})(it),Ut=ve,ui=E,dn=Me,Sc=(function(r){Y(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!1,t}return e.prototype.init=function(){this.group.add(this._contentGroup=new dn),this.group.add(this._selectorGroup=new dn),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,n,a){var i=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!t.get("show",!0)){var s=t.get("align"),o=t.get("orient");(!s||s==="auto")&&(s=t.get("left")==="right"&&o==="vertical"?"right":"left");var l=t.get("selector",!0),u=t.get("selectorPosition",!0);l&&(!u||u==="auto")&&(u=o==="horizontal"?"end":"start"),this.renderInner(s,t,n,a,l,o,u);var c=Rl(t,a).refContainer,h=t.getBoxLayoutParams(),f=t.get("padding"),d=Dr(h,c,f),p=this.layoutInner(t,s,d,i,l,u),v=Dr(Oe({width:p.width,height:p.height},h),c,f);this.group.x=v.x-p.x,this.group.y=v.y-p.y,this.group.markRedraw(),this.group.add(this._backgroundEl=Sy(p,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,n,a,i,s,o,l){var u=this.getContentGroup(),c=Re(),h=n.get("selectedMode"),f=n.get("triggerEvent"),d=[];a.eachRawSeries(function(p){!p.get("legendHoverLink")&&d.push(p.id)}),ui(n.getData(),function(p,v){var m=this,g=p.get("name");if(!this.newlineDisabled&&(g===""||g===`
`)){var y=new dn;y.newline=!0,u.add(y);return}var b=a.getSeriesByName(g)[0];if(!c.get(g))if(b){var _=b.getData(),x=_.getVisual("legendLineStyle")||{},k=_.getVisual("legendIcon"),w=_.getVisual("style"),I=this._createItem(b,g,v,p,n,t,x,w,k,h,i);I.on("click",Ut(al,g,null,i,d)).on("mouseover",Ut(ci,b.name,null,i,d)).on("mouseout",Ut(hi,b.name,null,i,d)),a.ssr&&I.eachChild(function(L){var T=ye(L);T.seriesIndex=b.seriesIndex,T.dataIndex=v,T.ssrType="legend"}),f&&I.eachChild(function(L){m.packEventData(L,n,b,v,g)}),c.set(g,!0)}else a.eachRawSeries(function(L){var T=this;if(!c.get(g)&&L.legendVisualProvider){var A=L.legendVisualProvider;if(!A.containName(g))return;var O=A.indexOfName(g),D=A.getItemVisual(O,"style"),P=A.getItemVisual(O,"legendIcon"),z=Of(D.fill);z&&z[3]===0&&(z[3]=.2,D=he(he({},D),{fill:Pf(z,"rgba")}));var W=this._createItem(L,g,v,p,n,t,{},D,P,h,i);W.on("click",Ut(al,null,g,i,d)).on("mouseover",Ut(ci,null,g,i,d)).on("mouseout",Ut(hi,null,g,i,d)),a.ssr&&W.eachChild(function(K){var M=ye(K);M.seriesIndex=L.seriesIndex,M.dataIndex=v,M.ssrType="legend"}),f&&W.eachChild(function(K){T.packEventData(K,n,L,v,g)}),c.set(g,!0)}},this)},this),s&&this._createSelector(s,n,i,o,l)},e.prototype.packEventData=function(t,n,a,i,s){var o={componentType:"legend",componentIndex:n.componentIndex,dataIndex:i,value:s,seriesIndex:a.seriesIndex};ye(t).eventData=o},e.prototype._createSelector=function(t,n,a,i,s){var o=this.getSelectorGroup();ui(t,function(u){var c=u.type,h=new At({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){a.dispatchAction({type:c==="all"?"legendAllSelect":"legendInverseSelect",legendId:n.id})}});o.add(h);var f=n.getModel("selectorLabel"),d=n.getModel(["emphasis","selectorLabel"]);Rr(h,{normal:f,emphasis:d},{defaultText:u.title}),ws(h)})},e.prototype._createItem=function(t,n,a,i,s,o,l,u,c,h,f){var d=t.visualDrawType,p=s.get("itemWidth"),v=s.get("itemHeight"),m=s.isSelected(n),g=i.get("symbolRotate"),y=i.get("symbolKeepAspect"),b=i.get("icon");c=b||c||"roundRect";var _=r0(c,i,l,u,d,m,f),x=new dn,k=i.getModel("textStyle");if(ge(t.getLegendIcon)&&(!b||b==="inherit"))x.add(t.getLegendIcon({itemWidth:p,itemHeight:v,icon:c,iconRotate:g,itemStyle:_.itemStyle,lineStyle:_.lineStyle,symbolKeepAspect:y}));else{var w=b==="inherit"&&t.getData().getVisual("symbol")?g==="inherit"?t.getData().getVisual("symbolRotate"):g:0;x.add(n0({itemWidth:p,itemHeight:v,icon:c,iconRotate:w,itemStyle:_.itemStyle,symbolKeepAspect:y}))}var I=o==="left"?p+5:-5,L=o,T=s.get("formatter"),A=n;fe(T)&&T?A=T.replace("{name}",n??""):ge(T)&&(A=T(n));var O=m?k.getTextColor():i.get("inactiveColor");x.add(new At({style:jn(k,{text:A,x:I,y:v/2,fill:O,align:L,verticalAlign:"middle"},{inheritColor:O})}));var D=new Xe({shape:x.getBoundingRect(),style:{fill:"transparent"}}),P=i.getModel("tooltip");return P.get("show")&&Si({el:D,componentModel:s,itemName:n,itemTooltipOption:P.option}),x.add(D),x.eachChild(function(z){z.silent=!0}),D.silent=!h,this.getContentGroup().add(x),ws(x),x.__legendDataIndex=a,x},e.prototype.layoutInner=function(t,n,a,i,s,o){var l=this.getContentGroup(),u=this.getSelectorGroup();_r(t.get("orient"),l,t.get("itemGap"),a.width,a.height);var c=l.getBoundingRect(),h=[-c.x,-c.y];if(u.markRedraw(),l.markRedraw(),s){_r("horizontal",u,t.get("selectorItemGap",!0));var f=u.getBoundingRect(),d=[-f.x,-f.y],p=t.get("selectorButtonGap",!0),v=t.getOrient().index,m=v===0?"width":"height",g=v===0?"height":"width",y=v===0?"y":"x";o==="end"?d[v]+=c[m]+p:h[v]+=f[m]+p,d[1-v]+=c[g]/2-f[g]/2,u.x=d[0],u.y=d[1],l.x=h[0],l.y=h[1];var b={x:0,y:0};return b[m]=c[m]+p+f[m],b[g]=Math.max(c[g],f[g]),b[y]=Math.min(0,f[y]+d[1-v]),b}else return l.x=h[0],l.y=h[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e})(kt);function r0(r,e,t,n,a,i,s){function o(m,g){m.lineWidth==="auto"&&(m.lineWidth=g.lineWidth>0?2:0),ui(m,function(y,b){m[b]==="inherit"&&(m[b]=g[b])})}var l=e.getModel("itemStyle"),u=l.getItemStyle(),c=r.lastIndexOf("empty",0)===0?"fill":"stroke",h=l.getShallow("decal");u.decal=!h||h==="inherit"?n.decal:Nf(h,s),u.fill==="inherit"&&(u.fill=n[a]),u.stroke==="inherit"&&(u.stroke=n[c]),u.opacity==="inherit"&&(u.opacity=(a==="fill"?n:t).opacity),o(u,n);var f=e.getModel("lineStyle"),d=f.getLineStyle();if(o(d,t),u.fill==="auto"&&(u.fill=n.fill),u.stroke==="auto"&&(u.stroke=n.fill),d.stroke==="auto"&&(d.stroke=n.fill),!i){var p=e.get("inactiveBorderWidth"),v=u[c];u.lineWidth=p==="auto"?n.lineWidth>0&&v?2:0:u.lineWidth,u.fill=e.get("inactiveColor"),u.stroke=e.get("inactiveBorderColor"),d.stroke=f.get("inactiveColor"),d.lineWidth=f.get("inactiveWidth")}return{itemStyle:u,lineStyle:d}}function n0(r){var e=r.icon||"roundRect",t=qt(e,0,0,r.itemWidth,r.itemHeight,r.itemStyle.fill,r.symbolKeepAspect);return t.setStyle(r.itemStyle),t.rotation=(r.iconRotate||0)*Math.PI/180,t.setOrigin([r.itemWidth/2,r.itemHeight/2]),e.indexOf("empty")>-1&&(t.style.stroke=t.style.fill,t.style.fill=ee.color.neutral00,t.style.lineWidth=2),t}function al(r,e,t,n){hi(r,e,t,n),t.dispatchAction({type:"legendToggleSelect",name:r??e}),ci(r,e,t,n)}function wc(r){for(var e=r.getZr().storage.getDisplayList(),t,n=0,a=e.length;n<a&&!(t=e[n].states.emphasis);)n++;return t&&t.hoverLayer}function ci(r,e,t,n){wc(t)||t.dispatchAction({type:"highlight",seriesName:r,name:e,excludeSeriesId:n})}function hi(r,e,t,n){wc(t)||t.dispatchAction({type:"downplay",seriesName:r,name:e,excludeSeriesId:n})}function a0(r){var e=r.findComponents({mainType:"legend"});e&&e.length&&r.filterSeries(function(t){for(var n=0;n<e.length;n++)if(!e[n].isSelected(t.name))return!1;return!0})}function vr(r,e,t){var n=r==="allSelect"||r==="inverseSelect",a={},i=[];t.eachComponent({mainType:"legend",query:e},function(o){n?o[r]():o[r](e.name),il(o,a),i.push(o.componentIndex)});var s={};return t.eachComponent("legend",function(o){E(a,function(l,u){o[l?"select":"unSelect"](u)}),il(o,s)}),n?{selected:s,legendIndex:i}:{name:e.name,selected:s}}function il(r,e){var t=e||{};return E(r.getData(),function(n){var a=n.get("name");if(!(a===`
`||a==="")){var i=r.isSelected(a);Bf(t,a)?t[a]=t[a]&&i:t[a]=i}}),t}function i0(r){r.registerAction("legendToggleSelect","legendselectchanged",ve(vr,"toggleSelected")),r.registerAction("legendAllSelect","legendselectall",ve(vr,"allSelect")),r.registerAction("legendInverseSelect","legendinverseselect",ve(vr,"inverseSelect")),r.registerAction("legendSelect","legendselected",ve(vr,"select")),r.registerAction("legendUnSelect","legendunselected",ve(vr,"unSelect"))}function kc(r){r.registerComponentModel(li),r.registerComponentView(Sc),r.registerProcessor(r.PRIORITY.PROCESSOR.SERIES_FILTER,a0),r.registerSubTypeDefaulter("legend",function(){return"plain"}),i0(r)}var s0=(function(r){Y(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(t,n,a){var i=xi(t);r.prototype.init.call(this,t,n,a),sl(this,t,i)},e.prototype.mergeOption=function(t,n){r.prototype.mergeOption.call(this,t,n),sl(this,this.option,t)},e.type="legend.scroll",e.defaultOption=Ll(li.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:ee.color.accent50,pageIconInactiveColor:ee.color.accent10,pageIconSize:15,pageTextStyle:{color:ee.color.tertiary},animationDurationUpdate:800}),e})(li);function sl(r,e,t){var n=r.getOrient(),a=[1,1];a[n.index]=0,Cn(e,t,{type:"box",ignoreSize:!!a})}var ol=Me,Ma=["width","height"],Ea=["x","y"],o0=(function(r){Y(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!0,t._currentIndex=0,t}return e.prototype.init=function(){r.prototype.init.call(this),this.group.add(this._containerGroup=new ol),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new ol)},e.prototype.resetInner=function(){r.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(t,n,a,i,s,o,l){var u=this;r.prototype.renderInner.call(this,t,n,a,i,s,o,l);var c=this._controllerGroup,h=n.get("pageIconSize",!0),f=ne(h)?h:[h,h];p("pagePrev",0);var d=n.getModel("pageTextStyle");c.add(new At({name:"pageText",style:{text:"xx/xx",fill:d.getTextColor(),font:d.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),p("pageNext",1);function p(v,m){var g=v+"DataIndex",y=Ol(n.get("pageIcons",!0)[n.getOrient().name][m],{onclick:_e(u._pageGo,u,g,n,i)},{x:-f[0]/2,y:-f[1]/2,width:f[0],height:f[1]});y.name=v,c.add(y)}},e.prototype.layoutInner=function(t,n,a,i,s,o){var l=this.getSelectorGroup(),u=t.getOrient().index,c=Ma[u],h=Ea[u],f=Ma[1-u],d=Ea[1-u];s&&_r("horizontal",l,t.get("selectorItemGap",!0));var p=t.get("selectorButtonGap",!0),v=l.getBoundingRect(),m=[-v.x,-v.y],g=Ot(a);s&&(g[c]=a[c]-v[c]-p);var y=this._layoutContentAndController(t,i,g,u,c,f,d,h);if(s){if(o==="end")m[u]+=y[c]+p;else{var b=v[c]+p;m[u]-=b,y[h]-=b}y[c]+=v[c]+p,m[1-u]+=y[d]+y[f]/2-v[f]/2,y[f]=Math.max(y[f],v[f]),y[d]=Math.min(y[d],v[d]+m[1-u]),l.x=m[0],l.y=m[1],l.markRedraw()}return y},e.prototype._layoutContentAndController=function(t,n,a,i,s,o,l,u){var c=this.getContentGroup(),h=this._containerGroup,f=this._controllerGroup;_r(t.get("orient"),c,t.get("itemGap"),i?a.width:null,i?null:a.height),_r("horizontal",f,t.get("pageButtonItemGap",!0));var d=c.getBoundingRect(),p=f.getBoundingRect(),v=this._showController=d[s]>a[s],m=[-d.x,-d.y];n||(m[i]=c[u]);var g=[0,0],y=[-p.x,-p.y],b=me(t.get("pageButtonGap",!0),t.get("itemGap",!0));if(v){var _=t.get("pageButtonPosition",!0);_==="end"?y[i]+=a[s]-p[s]:g[i]+=p[s]+b}y[1-i]+=d[o]/2-p[o]/2,c.setPosition(m),h.setPosition(g),f.setPosition(y);var x={x:0,y:0};if(x[s]=v?a[s]:d[s],x[o]=Math.max(d[o],p[o]),x[l]=Math.min(0,p[l]+y[1-i]),h.__rectSize=a[s],v){var k={x:0,y:0};k[s]=Math.max(a[s]-p[s]-b,0),k[o]=x[o],h.setClipPath(new Xe({shape:k})),h.__rectSize=k[s]}else f.eachChild(function(I){I.attr({invisible:!0,silent:!0})});var w=this._getPageInfo(t);return w.pageIndex!=null&&Pe(c,{x:w.contentPosition[0],y:w.contentPosition[1]},v?t:null),this._updatePageInfoView(t,w),x},e.prototype._pageGo=function(t,n,a){var i=this._getPageInfo(n)[t];i!=null&&a.dispatchAction({type:"legendScroll",scrollDataIndex:i,legendId:n.id})},e.prototype._updatePageInfoView=function(t,n){var a=this._controllerGroup;E(["pagePrev","pageNext"],function(c){var h=c+"DataIndex",f=n[h]!=null,d=a.childOfName(c);d&&(d.setStyle("fill",f?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),d.cursor=f?"pointer":"default")});var i=a.childOfName("pageText"),s=t.get("pageFormatter"),o=n.pageIndex,l=o!=null?o+1:0,u=n.pageCount;i&&s&&i.setStyle("text",fe(s)?s.replace("{current}",l==null?"":l+"").replace("{total}",u==null?"":u+""):s({current:l,total:u}))},e.prototype._getPageInfo=function(t){var n=t.get("scrollDataIndex",!0),a=this.getContentGroup(),i=this._containerGroup.__rectSize,s=t.getOrient().index,o=Ma[s],l=Ea[s],u=this._findTargetItemIndex(n),c=a.children(),h=c[u],f=c.length,d=f?1:0,p={contentPosition:[a.x,a.y],pageCount:d,pageIndex:d-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!h)return p;var v=_(h);p.contentPosition[s]=-v.s;for(var m=u+1,g=v,y=v,b=null;m<=f;++m)b=_(c[m]),(!b&&y.e>g.s+i||b&&!x(b,g.s))&&(y.i>g.i?g=y:g=b,g&&(p.pageNextDataIndex==null&&(p.pageNextDataIndex=g.i),++p.pageCount)),y=b;for(var m=u-1,g=v,y=v,b=null;m>=-1;--m)b=_(c[m]),(!b||!x(y,b.s))&&g.i<y.i&&(y=g,p.pagePrevDataIndex==null&&(p.pagePrevDataIndex=g.i),++p.pageCount,++p.pageIndex),g=b;return p;function _(k){if(k){var w=k.getBoundingRect(),I=w[l]+k[l];return{s:I,e:I+w[o],i:k.__legendDataIndex}}}function x(k,w){return k.e>=w&&k.s<=w+i}},e.prototype._findTargetItemIndex=function(t){if(!this._showController)return 0;var n,a=this.getContentGroup(),i;return a.eachChild(function(s,o){var l=s.__legendDataIndex;i==null&&l!=null&&(i=o),l===t&&(n=o)}),n??i},e.type="legend.scroll",e})(Sc);function l0(r){r.registerAction("legendScroll","legendscroll",function(e,t){var n=e.scrollDataIndex;n!=null&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(a){a.setScrollDataIndex(n)})})}function u0(r){ot(kc),r.registerComponentModel(s0),r.registerComponentView(o0),l0(r)}function c0(r){ot(kc),ot(u0)}const h0={class:"header"},f0={class:"header-container"},d0={class:"header-top"},p0={class:"identity-section"},v0={class:"subtitle"},g0={class:"actions-section"},m0=["disabled"],y0=["disabled"],b0=["disabled"],x0={class:"header-context"},_0={class:"badge-group"},S0={class:"value"},w0={class:"badge-group"},k0={class:"value"},A0={class:"badge-group"},C0={class:"badge-group"},D0={key:0,class:"badge-separator"},T0={key:1,class:"badge-group full-width"},L0={class:"theme-badge",title:"AI Generated Theme"},I0={class:"header-metrics"},M0={class:"metric-column"},E0={class:"metric-grid"},R0={class:"metric-cell"},O0={class:"metric-value"},P0={class:"metric-cell"},N0={class:"metric-value"},B0={class:"metric-column"},$0={class:"metric-grid"},z0={class:"metric-cell"},F0={class:"metric-value"},H0={class:"metric-cell"},G0={class:"metric-value"},V0={class:"metric-column"},U0={class:"metric-grid"},W0={class:"metric-cell"},q0={class:"metric-value"},j0={__name:"AlertHeader",props:{alertData:{type:Object,required:!0},alertId:{type:[String,Number],required:!0},newsCount:{type:Number,default:0},validStatuses:{type:Array,default:()=>["NEEDS_REVIEW","ESCALATE_L2","DISMISS"]}},emits:["update-status","toggle-agent"],setup(r,{emit:e}){const t=e,n=i=>({NEEDS_REVIEW:"status-needs-review",ESCALATE_L2:"status-escalate-l2",DISMISS:"status-dismiss",Pending:"status-needs-review",Approved:"status-escalate-l2",Rejected:"status-dismiss"})[i]||"",a=i=>{t("update-status",i)};return(i,s)=>(N(),$("header",h0,[S("div",f0,[S("div",d0,[S("div",p0,[S("h1",null,U(r.alertData.ticker),1),S("span",v0,U(r.alertData.instrument_name),1)]),S("div",g0,[S("button",{class:"action-btn ask-ai-btn",onClick:s[0]||(s[0]=o=>i.$emit("toggle-agent")),title:"Open AI Assistant"},[...s[4]||(s[4]=[S("span",{class:"icon"},"",-1),be(" Ask AI ",-1)])]),r.validStatuses.includes("ESCALATE_L2")?(N(),$("button",{key:0,class:"action-btn escalate-btn",onClick:s[1]||(s[1]=o=>a("ESCALATE_L2")),disabled:r.alertData.status==="ESCALATE_L2"},[...s[5]||(s[5]=[S("span",{class:"icon"},"!",-1),be(" Escalate L2 ",-1)])],8,m0)):ce("",!0),r.validStatuses.includes("DISMISS")?(N(),$("button",{key:1,class:"action-btn dismiss-btn",onClick:s[2]||(s[2]=o=>a("DISMISS")),disabled:r.alertData.status==="DISMISS"},[...s[6]||(s[6]=[S("span",{class:"icon"},"",-1),be(" Dismiss ",-1)])],8,y0)):ce("",!0),r.validStatuses.includes("NEEDS_REVIEW")?(N(),$("button",{key:2,class:"action-btn review-btn",onClick:s[3]||(s[3]=o=>a("NEEDS_REVIEW")),disabled:r.alertData.status==="NEEDS_REVIEW"},[...s[7]||(s[7]=[S("span",{class:"icon"},"",-1),be(" Needs Review ",-1)])],8,b0)):ce("",!0)])]),S("div",x0,[S("div",_0,[s[8]||(s[8]=S("span",{class:"label"},"ID",-1)),S("span",S0,U(r.alertId),1)]),S("div",w0,[s[9]||(s[9]=S("span",{class:"label"},"ISIN",-1)),S("span",k0,U(r.alertData.isin),1)]),s[11]||(s[11]=S("div",{class:"badge-separator"},null,-1)),S("div",A0,[S("span",{class:pe(["tag type",r.alertData.trade_type?.toLowerCase()])},U(r.alertData.trade_type),3)]),S("div",C0,[S("span",{class:pe(["status-badge",n(r.alertData.status)])},U(r.alertData.status),3)]),r.alertData.narrative_theme?(N(),$("div",D0)):ce("",!0),r.alertData.narrative_theme?(N(),$("div",T0,[S("div",L0,[s[10]||(s[10]=S("span",{class:"theme-icon"},"",-1)),be(" "+U(r.alertData.narrative_theme),1)])])):ce("",!0)]),S("div",I0,[S("div",M0,[s[15]||(s[15]=S("div",{class:"metric-label"},"TIMEFRAME",-1)),S("div",E0,[S("div",R0,[s[12]||(s[12]=S("span",{class:"sub-label"},"Alert Date",-1)),S("span",O0,U(r.alertData.alert_date),1)]),S("div",P0,[s[14]||(s[14]=S("span",{class:"sub-label"},"Range",-1)),S("span",N0,[be(U(r.alertData.start_date)+" ",1),s[13]||(s[13]=S("span",{class:"arrow"},"",-1)),be(" "+U(r.alertData.end_date),1)])])])]),S("div",B0,[s[18]||(s[18]=S("div",{class:"metric-label"},"VOLUME",-1)),S("div",$0,[S("div",z0,[s[16]||(s[16]=S("span",{class:"sub-label"},"Buy",-1)),S("span",F0,U(r.alertData.buy_quantity?.toLocaleString()||"-"),1)]),S("div",H0,[s[17]||(s[17]=S("span",{class:"sub-label"},"Sell",-1)),S("span",G0,U(r.alertData.sell_quantity?.toLocaleString()||"-"),1)])])]),S("div",V0,[s[20]||(s[20]=S("div",{class:"metric-label"},"CONTENT",-1)),S("div",U0,[S("div",W0,[s[19]||(s[19]=S("span",{class:"sub-label"},"Articles",-1)),S("span",q0,U(r.newsCount),1)])])])])])]))}},Z0=lt(j0,[["__scopeId","data-v-a47d6a27"]]),X0={class:"card chart-panel"},Y0={class:"card-header chart-header"},K0={class:"header-controls"},J0={class:"view-toggle chart-mode-toggle"},Q0={class:"view-toggle price-mode-toggle"},eb=["disabled"],tb={class:"period-selector"},rb=["onClick"],nb={class:"card-body chart-wrapper"},ab={key:0,class:"loading-overlay"},ib={key:1,class:"table-container"},sb={class:"data-table"},ob={key:1,class:"empty-cell"},lb={key:2,class:"loading-state"},ub={__name:"AlertChart",props:{chartLabels:{type:Array,default:()=>[]},chartOptions:{type:Object,default:()=>({})},viewMode:{type:String,default:"chart"},chartType:{type:String,default:"line"},priceMode:{type:String,default:"actual"},selectedPeriod:{type:String,default:"alert"},isLoading:{type:Boolean,default:!1},tableData:{type:Array,default:()=>[]},activeMaterialityColumns:{type:Array,default:()=>[]},config:{type:Object,default:()=>({})}},emits:["update:viewMode","update:chartType","update:priceMode","update:selectedPeriod"],setup(r,{emit:e}){const t=r,n=e,a=o=>!t.config||!t.config.materiality_colors?"#808080":t.config.materiality_colors[o]||t.config.materiality_colors.DEFAULT||"#808080",i=[{label:"Alert",value:"alert"},{label:"1M",value:"1mo"},{label:"3M",value:"3mo"},{label:"6M",value:"6mo"},{label:"1Y",value:"1y"},{label:"YTD",value:"ytd"},{label:"Max",value:"max"}],s=rt(()=>t.viewMode!=="chart"||t.chartType!=="line");return(o,l)=>(N(),$("div",X0,[S("div",Y0,[l[5]||(l[5]=S("h3",null,"Price Performance",-1)),S("div",K0,[S("div",J0,[S("button",{class:pe({active:r.viewMode==="chart"&&r.chartType==="line"}),onClick:l[0]||(l[0]=u=>{n("update:viewMode","chart"),n("update:chartType","line")})},"Line",2),S("button",{class:pe({active:r.viewMode==="chart"&&r.chartType==="candle"}),onClick:l[1]||(l[1]=u=>{n("update:viewMode","chart"),n("update:chartType","candle"),n("update:priceMode","actual")})},"Candle",2),S("button",{class:pe({active:r.viewMode==="table"}),onClick:l[2]||(l[2]=u=>{n("update:viewMode","table"),n("update:priceMode","actual")})},"Table",2)]),S("div",Q0,[S("button",{class:pe({active:r.priceMode==="actual"}),onClick:l[3]||(l[3]=u=>n("update:priceMode","actual"))},"Actual",2),S("button",{class:pe({active:r.priceMode==="rebased",disabled:s.value}),disabled:s.value,onClick:l[4]||(l[4]=u=>!s.value&&n("update:priceMode","rebased"))},"Rebased",10,eb)]),S("div",tb,[(N(),$(xe,null,Ce(i,u=>S("button",{key:u.value,class:pe({active:r.selectedPeriod===u.value}),onClick:c=>n("update:selectedPeriod",u.value)},U(u.label),11,rb)),64))])])]),S("div",nb,[r.isLoading?(N(),$("div",ab,[...l[6]||(l[6]=[S("div",{class:"spinner"},null,-1)])])):ce("",!0),r.isLoading?ce("",!0):(N(),$(xe,{key:1},[r.viewMode==="chart"&&r.chartLabels.length?(N(),Sn($f(zf),{key:`${r.chartType}-${r.priceMode}-${r.selectedPeriod}`,class:"chart",option:r.chartOptions,autoresize:""},null,8,["option"])):r.viewMode==="table"&&r.chartLabels.length?(N(),$("div",ib,[S("table",sb,[S("thead",null,[S("tr",null,[l[7]||(l[7]=S("th",null,"Date",-1)),l[8]||(l[8]=S("th",null,"Close",-1)),l[9]||(l[9]=S("th",null,"Rebased",-1)),l[10]||(l[10]=S("th",null,"Ind. Rebased",-1)),(N(!0),$(xe,null,Ce(r.activeMaterialityColumns,u=>(N(),$("th",{key:u,style:Yt({color:a(u)})},U(u),5))),128))])]),S("tbody",null,[(N(!0),$(xe,null,Ce(r.tableData,u=>(N(),$("tr",{key:u.date},[S("td",null,U(u.date),1),S("td",null,U(u.tickerClose),1),S("td",null,U(u.tickerRebased),1),S("td",null,U(u.industryRebased),1),(N(!0),$(xe,null,Ce(r.activeMaterialityColumns,c=>(N(),$("td",{key:c,class:"count-cell"},[u.counts[c]>0?(N(),$("span",{key:0,class:"count-badge",style:Yt({backgroundColor:a(c)})},U(u.counts[c]),5)):(N(),$("span",ob,"-"))]))),128))]))),128))])])])):(N(),$("div",lb,"No price data available."))],64))])]))}},cb=lt(ub,[["__scopeId","data-v-775458de"]]),hb={class:"executive-summary-wrapper"},fb={key:0,class:"executive-summary"},db={class:"summary-header"},pb={class:"header-left-group"},vb={class:"summary-tabs"},gb=["disabled"],mb={key:0,class:"spinner-icon"},yb={key:1},bb={key:0},xb={class:"summary-text"},_b={class:"events-grid"},Sb={key:0,class:"event-col bullish"},wb={key:1,class:"event-col bearish"},kb={key:2,class:"event-col neutral"},Ab={key:1},Cb={class:"rec-icon"},Db={key:0},Tb={key:1},Lb={class:"rec-text"},Ib={class:"rec-title"},Mb={class:"reasoning-section"},Eb={key:0,class:"empty-reasoning"},Rb={class:"summary-meta"},Ob={key:1,class:"summary-placeholder"},Pb=["disabled"],Nb={key:0,class:"spinner-sm"},Bb={key:1},$b={__name:"AlertSummary",props:{alertData:{type:Object,required:!0},isGeneratingSummary:{type:Boolean,default:!1}},emits:["refresh","analyze"],setup(r,{emit:e}){const t=r,n=e,a=q("narrative"),i=l=>{if(!l)return[];if(Array.isArray(l))return l.map(u=>typeof u=="string"?u.replace(/^[-*]\s*/,""):u);try{const u=JSON.parse(l);return Array.isArray(u)?u.map(c=>typeof c=="string"?c.replace(/^[-*]\s*/,""):c):[]}catch{return[]}},s=l=>l?l.split(`
`).map(u=>u.trim()).filter(u=>u.length>0).map(u=>u.replace(/^[-*]\s*/,"")):[],o=rt(()=>{if(!t.alertData||!t.alertData.recommendation)return"";const l=t.alertData.recommendation.toUpperCase();return l.includes("DISMISS")||l.includes("REJECT")?"reject":l.includes("APPROVE")||l.includes("UNEXPLAINED")?"approve_l2":""});return(l,u)=>(N(),$("div",hb,[r.alertData.narrative_summary?(N(),$("div",fb,[S("div",db,[S("div",pb,[u[4]||(u[4]=S("h4",null,[S("span",{class:"ai-icon"},"AI"),be(" Investigation Summary")],-1)),S("div",vb,[S("button",{class:pe({active:a.value==="narrative"}),onClick:u[0]||(u[0]=c=>a.value="narrative")},"Summary",2),S("button",{class:pe({active:a.value==="recommendation"}),onClick:u[1]||(u[1]=c=>a.value="recommendation")},"Recommendation",2)])]),S("button",{class:"refresh-btn",onClick:u[2]||(u[2]=c=>n("refresh")),disabled:r.isGeneratingSummary,title:"Regenerate Summary"},[r.isGeneratingSummary?(N(),$("div",mb)):(N(),$("span",yb,""))],8,gb)]),S("div",{class:pe({dimmed:r.isGeneratingSummary})},[a.value==="narrative"?(N(),$("div",bb,[S("h4",null,[u[5]||(u[5]=S("span",{class:"theme-label"},"Theme:",-1)),be(" "+U(r.alertData.narrative_theme),1)]),S("p",xb,U(r.alertData.narrative_summary),1),S("div",_b,[i(r.alertData.bullish_events).length?(N(),$("div",Sb,[u[6]||(u[6]=S("h5",null,[S("span",{class:"indicator"},"+"),be(" Bullish Factors")],-1)),S("ul",null,[(N(!0),$(xe,null,Ce(i(r.alertData.bullish_events),(c,h)=>(N(),$("li",{key:h},U(c),1))),128))])])):ce("",!0),i(r.alertData.bearish_events).length?(N(),$("div",wb,[u[7]||(u[7]=S("h5",null,[S("span",{class:"indicator"},"-"),be(" Bearish Factors")],-1)),S("ul",null,[(N(!0),$(xe,null,Ce(i(r.alertData.bearish_events),(c,h)=>(N(),$("li",{key:h},U(c),1))),128))])])):ce("",!0),i(r.alertData.neutral_events).length?(N(),$("div",kb,[u[8]||(u[8]=S("h5",null,[S("span",{class:"indicator"},"~"),be(" Neutral / Context")],-1)),S("ul",null,[(N(!0),$(xe,null,Ce(i(r.alertData.neutral_events),(c,h)=>(N(),$("li",{key:h},U(c),1))),128))])])):ce("",!0)])])):ce("",!0),a.value==="recommendation"?(N(),$("div",Ab,[r.alertData.recommendation?(N(),$("div",{key:0,class:pe(["recommendation-banner",o.value])},[S("div",Cb,[o.value==="reject"?(N(),$("span",Db,"")):(N(),$("span",Tb,""))]),S("div",Lb,[S("div",Ib,U(r.alertData.recommendation),1)])],2)):ce("",!0),S("div",Mb,[u[9]||(u[9]=S("h5",null,"Decision Logic & Evidence:",-1)),S("ul",null,[(N(!0),$(xe,null,Ce(s(r.alertData.recommendation_reason),(c,h)=>(N(),$("li",{key:h},U(c),1))),128))]),r.alertData.recommendation_reason?ce("",!0):(N(),$("div",Eb," No detailed reasoning available. Regenerate the summary to get facts. "))])])):ce("",!0)],2),S("span",Rb,"Generated: "+U(new Date(r.alertData.summary_generated_at).toLocaleString()),1)])):(N(),$("div",Ob,[S("button",{class:"generate-btn",onClick:u[3]||(u[3]=c=>n("analyze")),disabled:r.isGeneratingSummary},[r.isGeneratingSummary?(N(),$("span",Nb)):(N(),$("span",Bb,"Analyze with AI"))],8,Pb)]))]))}},zb=lt($b,[["__scopeId","data-v-5d9740b8"]]),Fb={class:"card news-panel"},Hb={class:"card-header news-header"},Gb={class:"theme-selector"},Vb=["value"],Ub={class:"card-body scrollable"},Wb={key:0,class:"news-feed"},qb={class:"news-meta"},jb={class:"news-date"},Zb={class:"news-theme"},Xb={class:"news-title"},Yb={key:0,class:"analysis-block"},Kb={class:"analysis-content"},Jb={key:1,class:"news-summary"},Qb={class:"news-footer"},ex=["onMouseenter"],tx={class:"impact-label"},rx={key:0,class:"impact-score"},nx={key:1,class:"empty-state"},ax={__name:"AlertNews",props:{news:{type:Array,default:()=>[]},themes:{type:Array,default:()=>[]},activeTheme:{type:String,default:"All"},config:{type:Object,default:()=>({})}},emits:["update:activeTheme","hover-materiality","leave-materiality"],setup(r,{emit:e}){const t=r,n=e,a=rt({get:()=>t.activeTheme,set:s=>n("update:activeTheme",s)}),i=s=>!t.config||!t.config.materiality_colors?"#808080":t.config.materiality_colors[s]||t.config.materiality_colors.DEFAULT||"#808080";return(s,o)=>(N(),$("div",Fb,[S("div",Hb,[o[2]||(o[2]=S("h3",null,"Relevant News",-1)),S("div",Gb,[Sr(S("select",{"onUpdate:modelValue":o[0]||(o[0]=l=>a.value=l),class:"theme-dropdown"},[(N(!0),$(xe,null,Ce(r.themes,l=>(N(),$("option",{key:l,value:l},U(l.replace(/_/g," ")),9,Vb))),128))],512),[[Ha,a.value]])])]),S("div",Ub,[Ff(s.$slots,"summary",{},void 0),r.news.length>0?(N(),$("div",Wb,[(N(!0),$(xe,null,Ce(r.news,l=>(N(),$("div",{key:l.art_id,class:pe(["news-item",{analyzed:l.analysis}])},[S("div",qb,[S("span",jb,U(l.created_date),1),S("span",Zb,U(l.theme.replace(/_/g," ")),1)]),S("h4",Xb,U(l.title),1),l.analysis?(N(),$("div",Yb,[o[3]||(o[3]=S("div",{class:"analysis-label"},"AI Logic:",-1)),S("p",Kb,U(l.analysis),1)])):ce("",!0),l.summary?(N(),$("div",Jb,U(l.summary),1)):ce("",!0),S("div",Qb,[S("span",{class:pe(["sentiment-indicator",l.sentiment.split(":")[0].toLowerCase()])},U(l.sentiment.split(":")[0]),3),r.config&&r.config.has_materiality&&l.materiality?(N(),$(xe,{key:0},[o[4]||(o[4]=S("span",{class:"separator"},"",-1)),S("span",{class:"materiality-indicator",style:Yt({color:i(l.materiality)}),onMouseenter:u=>n("hover-materiality",u,l.materiality_details),onMouseleave:o[1]||(o[1]=u=>n("leave-materiality"))},U(l.materiality),45,ex)],64)):ce("",!0),l.impact_label?(N(),$(xe,{key:1},[o[5]||(o[5]=S("span",{class:"separator"},"",-1)),S("span",{class:pe(["impact-badge",l.impact_label.toLowerCase()])},[S("span",tx,U(l.impact_label),1),l.impact_score?(N(),$("span",rx,"("+U(l.impact_score.toFixed(1))+")",1)):ce("",!0)],2)],64)):ce("",!0)])],2))),128))])):(N(),$("div",nx,"No news found for this specific theme."))])]))}},ix=lt(ax,[["__scopeId","data-v-60af4136"]]),sx={key:0,class:"detail-container"},ox={class:"dashboard-grid"},lx={key:1,class:"loading-screen"},ux={class:"tip-row"},cx={class:"tip-row"},hx={class:"tip-row"},fx={__name:"AlertDetail",props:{alertId:{type:[String,Number],required:!0}},setup(r){ot([Xv,gg,Rm,Eg,Ym,_y,Hy,c0,e0]);const e=r,t=q(null),n=q({ticker:[],industry:[],industry_name:""}),a=q([]),i=q("All"),s=q("alert"),o=q(!1),l=q(null),u=q("chart"),c=q(!1),h=q(!1),f=q(null),d=q(""),p=q(""),v=(H,G,Z)=>{d.value=H,p.value=G,f.value=Z,h.value=!0},m=()=>{f.value&&f.value(),h.value=!1},g=()=>{h.value=!1},y=q([]),b=q([]),_=q([]),x=q([]),k=q([]),w=q([]),I=q([]),L=q([]),T=q("line"),A=q("actual"),O=H=>!l.value||!l.value.materiality_colors?"#808080":l.value.materiality_colors[H]||l.value.materiality_colors.DEFAULT||"#808080",D=q(!1),P=q(null),z=q({x:0,y:0}),W=(H,G)=>{if(!G)return;P.value=G,D.value=!0;const Z=H.target.getBoundingClientRect();let Q=Z.left+Z.width/2-140,de=Z.top-120;Q<10&&(Q=10),de<10&&(de=Z.bottom+10),z.value={x:Q,y:de}},K=()=>{D.value=!1},M=rt(()=>{if(!y.value.length)return{};let H=[];if(t.value&&y.value.length>0){let Z=t.value.start_date,Q=t.value.end_date;const de=(te,ue)=>{if(!te)return ue[0];if(ue.includes(te))return te;let Se=ue[0],ut=1/0;const ra=new Date(te).getTime();for(const rr of ue){const nr=Math.abs(new Date(rr).getTime()-ra);nr<ut&&(ut=nr,Se=rr)}return Se};Z=de(Z,y.value),Q=de(Q,y.value),H=[[{xAxis:Z},{xAxis:Q}]]}const G=[];return T.value==="candle"?G.push({name:t.value?t.value.ticker:"Ticker",type:"candlestick",data:L.value,itemStyle:{color:"#16a34a",color0:"#dc2626",borderColor:"#16a34a",borderColor0:"#dc2626"},markArea:{silent:!0,itemStyle:{color:"rgba(250, 204, 21, 0.15)",borderColor:"#eab308",borderWidth:2,borderType:"dashed"},data:H}}):A.value==="actual"?(G.push({name:t.value?t.value.ticker:"Ticker",type:"line",data:b.value,smooth:!1,symbol:"none",lineStyle:{color:"#3b82f6",width:2},itemStyle:{color:"#3b82f6"},emphasis:{focus:"series"},markArea:{silent:!0,itemStyle:{color:"rgba(250, 204, 21, 0.15)",borderColor:"#eab308",borderWidth:2,borderType:"dashed"},data:H}}),G.push({name:`${n.value.industry_name||"Industry"}`,type:"line",data:x.value,smooth:!1,yAxisIndex:1,symbol:"none",lineStyle:{color:"#94a3b8",width:2,type:"dashed"},itemStyle:{color:"#94a3b8"},emphasis:{focus:"series"}})):(G.push({name:`${t.value?t.value.ticker:"Ticker"} (Rebased)`,type:"line",data:_.value,smooth:!1,symbol:"none",lineStyle:{color:"#3b82f6",width:2},itemStyle:{color:"#3b82f6"},emphasis:{focus:"series"},markArea:{silent:!0,itemStyle:{color:"rgba(250, 204, 21, 0.15)",borderColor:"#eab308",borderWidth:2,borderType:"dashed"},data:H}}),G.push({name:`${n.value.industry_name||"Industry"} (Rebased)`,type:"line",data:k.value,smooth:!1,symbol:"none",lineStyle:{color:"#94a3b8",width:2,type:"dashed"},itemStyle:{color:"#94a3b8"},emphasis:{focus:"series"}})),T.value!=="candle"&&A.value==="actual"&&I.value.length>0&&G.push({name:"News Events",type:"scatter",data:I.value,symbolSize:16,itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{focus:"series"}}),{animation:!0,animationDuration:300,grid:{left:"3%",right:"6%",bottom:"3%",top:"60px",containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}},backgroundColor:"rgba(50, 50, 50, 0.9)",borderColor:"#333",borderWidth:1,textStyle:{color:"#fff",fontSize:12},formatter:function(Z){if(!Z||Z.length===0)return"";const Q=Z[0].axisValue;let de=`<div style="font-weight: 600; margin-bottom: 8px; border-bottom: 1px solid #555; padding-bottom: 4px;">${Q}</div>`;if(Z.forEach(te=>{if(te.seriesType==="line"&&te.value!==null&&te.value!==void 0){const ue=te.color,ut=te.seriesName.includes("Index")?"border-top: 2px dashed":"border-top: 2px solid";de+=`<div style="display: flex; align-items: center; gap: 8px; margin: 4px 0;">
                            <span style="width: 20px; ${ut} ${ue};"></span>
                            <span>${te.seriesName}:</span>
                            <span style="font-weight: 600; margin-left: auto;">${Number(te.value).toFixed(2)}</span>
                        </div>`}if(te.seriesType==="line"&&te.seriesName.includes(t.value?.ticker)){const ue=y.value.indexOf(Q);if(ue>=0&&w.value[ue]){const Se=w.value[ue],ut=Se>=1e6?(Se/1e6).toFixed(2)+"M":Se>=1e3?(Se/1e3).toFixed(1)+"K":Se;de+=`<div style="display: flex; align-items: center; gap: 8px; margin: 4px 0; color: #aaa;">
                                <span style="width: 20px; height: 10px; background: rgba(156, 163, 175, 0.6);"></span>
                                <span>Volume:</span>
                                <span style="font-weight: 600; margin-left: auto;">${ut}</span>
                            </div>`}}}),l.value&&l.value.has_materiality){const te=I.value.filter(ue=>ue.value[0]===Q);te.length>0&&(de+='<div style="margin-top: 8px; border-top: 1px solid #555; padding-top: 8px; font-weight: 600;">News Events</div>',te.forEach(ue=>{const Se=ue.itemStyle.color;de+=`<div style="display: flex; align-items: center; gap: 8px; margin: 4px 0;">
                                <span style="width: 10px; height: 10px; border-radius: 50%; background: ${Se}; border: 1px solid #fff;"></span>
                                <span>${ue.materiality}:</span>
                                <span style="font-weight: 600; margin-left: auto;">${ue.count} article${ue.count>1?"s":""}</span>
                            </div>`}))}return de}},legend:{show:!0,top:10,right:10,textStyle:{fontSize:11},itemWidth:20,itemHeight:10},xAxis:{type:"category",data:y.value,axisLine:{lineStyle:{color:"#ccc"}},axisTick:{show:!1},axisLabel:{color:"#666",fontSize:11,interval:"auto",rotate:0},splitLine:{show:!1}},yAxis:[{type:"value",axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"#666",fontSize:11},splitLine:{lineStyle:{color:"#f0f0f0"}},scale:!0},...T.value!=="candle"&&A.value==="actual"?[{type:"value",name:n.value.industry_name||"Industry",position:"right",axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"#94a3b8",fontSize:10},splitLine:{show:!1},scale:!0}]:[]],series:G}}),R=async()=>{if(e.alertId)try{const H=await oe.get(`http://localhost:8000/alerts/${e.alertId}`);return t.value=H.data,H.data}catch(H){console.error("Error fetching alert detail:",H)}},B=async()=>{if(!(!Ne.value||Ne.value.length===0)){c.value=!0;try{const H=Ne.value.map(async G=>{try{const Q=(await oe.post(`http://localhost:8000/articles/${G.id}/analyze`)).data;return G.theme=Q.theme,Q.summary&&(G.summary=Q.summary),G.analysis=Q.analysis,!0}catch(Z){return console.error(`Failed to analyze article ${G.id}:`,Z),!1}});await Promise.all(H),await F()}catch(H){console.error("Error in analysis batch:",H)}finally{c.value=!1}}},F=async()=>{c.value=!0;try{const H=await oe.post(`http://localhost:8000/alerts/${e.alertId}/summary`);t.value&&(t.value.narrative_theme=H.data.narrative_theme,t.value.narrative_summary=H.data.narrative_summary,t.value.bullish_events=H.data.bullish_events,t.value.bearish_events=H.data.bearish_events,t.value.neutral_events=H.data.neutral_events,t.value.recommendation=H.data.recommendation,t.value.recommendation_reason=H.data.recommendation_reason,t.value.summary_generated_at=H.data.summary_generated_at)}catch(H){console.error("Error generating summary:",H),alert("Failed to generate summary. Please check backend logs.")}finally{c.value=!1}},V=()=>{v("Regenerate Summary","Are you sure you want to regenerate the summary? This will use AI credits.",F)},j=async H=>{try{await oe.patch(`http://localhost:8000/alerts/${e.alertId}/status`,{status:H}),t.value.status=H}catch(G){console.error("Error updating status:",G)}},J=async(H,G)=>{o.value=!0;try{let Z={period:G};if(G==="alert"&&t.value){const de=new Date(t.value.start_date),te=new Date(t.value.end_date);de.setDate(de.getDate()-10),te.setDate(te.getDate()+10);const ue=Se=>Se.toISOString().split("T")[0];Z={start_date:ue(de),end_date:ue(te)}}const Q=await oe.get(`http://localhost:8000/prices/${H}`,{params:Z});n.value=Q.data,Gr()}catch(Z){console.error("Error fetching prices:",Z)}finally{o.value=!1}},le=async(H,G,Z)=>{try{const Q=await oe.get(`http://localhost:8000/news/${H}`,{params:{start_date:G,end_date:Z}});a.value=Q.data}catch(Q){console.error("Error fetching news:",Q)}},Ht=async()=>{try{const H=await oe.get("http://localhost:8000/config");l.value=H.data}catch(H){console.error("Error fetching config:",H)}},Gr=()=>{if(!n.value.ticker||n.value.ticker.length===0)return;const H=new Map;n.value.ticker.forEach(se=>H.set(se.date,se));const G=Array.from(H.values()),Z=n.value.industry,Q=G.map(se=>se.date),de=G.map(se=>se.close),te=G.map(se=>se.volume||0),ue=G.map(se=>[se.open??se.close,se.close,se.low??Math.min(se.open||se.close,se.close),se.high??Math.max(se.open||se.close,se.close)]),Se=new Map;G.forEach(se=>Se.set(se.date,se.close));const ut=G[0].close,ra=G.map(se=>se.close/ut*100);let rr=[],nr=[];if(Z&&Z.length>0){const se=new Map(Z.map(He=>[He.date,He.close])),Wr=Z[0].close;rr=Q.map(He=>se.get(He)??null),nr=Q.map(He=>{const Ge=se.get(He);return Ge?Ge/Wr*100:null})}const na=[];if(a.value&&a.value.length>0){const se=(Ge,Ve)=>{const Ue=Ve.indexOf(Ge);if(Ue>=0)return Ue;for(let Ke=Ve.length-1;Ke>=0;Ke--)if(Ve[Ke]<=Ge)return Ke;return Ve.length>0?0:-1},Wr=["HHH","HHM","HHL","HMH","HMM","HML","HLH","HLM","HLL","MHH","MHM","MHL","MMH","MMM","MML","MLH","MLM","MLL","LHH","LHM","LHL","LMH","LMM","LML","LLH","LLM","LLL"],He=new Map;a.value.forEach(Ge=>{const Ve=se(Ge.created_date,Q),Ue=Ve>=0?Q[Ve]:null;if(!Ue)return;const Ke=Ge.materiality||"DEFAULT";He.has(Ue)||He.set(Ue,new Map);const ar=He.get(Ue);ar.set(Ke,(ar.get(Ke)||0)+1)}),He.forEach((Ge,Ve)=>{const Ue=Se.get(Ve);if(Ue===void 0)return;const Ke=Array.from(Ge.entries()).sort((Tt,ir)=>{const sr=Wr.indexOf(Tt[0]),qr=Wr.indexOf(ir[0]);return(sr===-1?999:sr)-(qr===-1?999:qr)}),ar=Ke.slice(0,3),Qi=Ke.slice(3).reduce((Tt,[,ir])=>Tt+ir,0);if(ar.reverse().forEach((Tt,ir)=>{const[sr,qr]=Tt,Bc=ir*4;na.push({value:[Ve,Ue+Bc],materiality:sr,count:qr,itemStyle:{color:O(sr)}})}),Qi>0){const Tt=ar.length*4;na.push({value:[Ve,Ue+Tt],materiality:"Others",count:Qi,itemStyle:{color:O("DEFAULT")}})}})}y.value=Q,b.value=de,_.value=ra,x.value=rr,k.value=nr,w.value=te,I.value=na,L.value=ue},Vr=rt(()=>{if(!a.value)return["All"];const H=new Set(a.value.map(G=>G.theme));return["All",...Array.from(H)]}),Ne=rt(()=>i.value==="All"?a.value:a.value.filter(H=>H.theme===i.value));yr(s,async H=>{t.value&&await J(t.value.ticker,H)}),yr(A,H=>{H==="rebased"&&(u.value="chart",T.value="line")}),yr([u,T],([H,G])=>{A.value==="rebased"&&(H!=="chart"||G!=="line")&&(A.value="actual")}),Ai(async()=>{await Ht(),await Ji()}),yr(()=>e.alertId,async H=>{H&&(t.value=null,await Ji())});const Ur=rt(()=>{if(!n.value.ticker)return new Map;const H=new Map;return n.value.ticker.forEach(G=>{H.set(G.date,G)}),H}),Gt=rt(()=>{if(!a.value)return[];const H=new Set(a.value.map(Q=>Q.materiality||"DEFAULT")),G=["HHH","HHM","HHL","HMH","HMM","HML","HLH","HLM","HLL","MHH","MHM","MHL","MMH","MMM","MML","MLH","MLM","MLL","LHH","LHM","LHL","LMH","LMM","LML","LLH","LLM","LLL"],Z=Array.from(H).sort((Q,de)=>{const te=G.indexOf(Q),ue=G.indexOf(de);return(te===-1?999:te)-(ue===-1?999:ue)});return Z.length>3?[...Z.slice(0,3),"Others"]:Z}),Nc=rt(()=>y.value.length?y.value.map((H,G)=>{b.value[G],x.value[G];const Z=Ur.value.get(H),Q={};if(Gt.value.forEach(de=>{Q[de]=0}),a.value){const de=Gt.value.filter(te=>te!=="Others");a.value.forEach(te=>{if(te.created_date===H||te.created_date.startsWith(H)){const ue=te.materiality||"DEFAULT";de.includes(ue)?Q[ue]++:Q.Others!==void 0&&Q.Others++}})}return{date:H,tickerClose:Z?.close!=null?Z.close.toFixed(2):"-",tickerRebased:b.value[G]!=null?b.value[G].toFixed(2):"-",industryRebased:x.value[G]!=null?x.value[G].toFixed(2):"-",counts:Q}}).reverse():[]),Ji=async()=>{const H=await R();H&&(await J(H.ticker,s.value),await le(H.isin,H.start_date,H.end_date),Gr())};return(H,G)=>(N(),$(xe,null,[t.value?(N(),$("div",sx,[gt(Z0,{alertData:t.value,alertId:r.alertId,newsCount:a.value?a.value.length:0,validStatuses:l.value?.valid_statuses||[],onUpdateStatus:j,onToggleAgent:G[0]||(G[0]=Z=>H.$emit("toggle-agent"))},null,8,["alertData","alertId","newsCount","validStatuses"]),S("div",ox,[gt(cb,{class:"layout-chart",chartLabels:y.value,chartOptions:M.value,viewMode:u.value,"onUpdate:viewMode":G[1]||(G[1]=Z=>u.value=Z),chartType:T.value,"onUpdate:chartType":G[2]||(G[2]=Z=>T.value=Z),priceMode:A.value,"onUpdate:priceMode":G[3]||(G[3]=Z=>A.value=Z),selectedPeriod:s.value,"onUpdate:selectedPeriod":G[4]||(G[4]=Z=>s.value=Z),isLoading:o.value,tableData:Nc.value,activeMaterialityColumns:Gt.value,config:l.value},null,8,["chartLabels","chartOptions","viewMode","chartType","priceMode","selectedPeriod","isLoading","tableData","activeMaterialityColumns","config"]),gt(ix,{class:"layout-news",news:Ne.value,themes:Vr.value,activeTheme:i.value,"onUpdate:activeTheme":G[5]||(G[5]=Z=>i.value=Z),config:l.value,onHoverMateriality:W,onLeaveMateriality:K},{summary:vi(()=>[gt(zb,{alertData:t.value,isGeneratingSummary:c.value,onRefresh:V,onAnalyze:B},null,8,["alertData","isGeneratingSummary"])]),_:1},8,["news","themes","activeTheme","config"])])])):(N(),$("div",lx,[...G[6]||(G[6]=[S("div",{class:"spinner"},null,-1),be(" Generating Dashboard...",-1)])])),gt(uu,{"is-open":h.value,title:d.value,message:p.value,"confirm-text":"Proceed",onConfirm:m,onCancel:g},null,8,["is-open","title","message"]),D.value&&P.value?(N(),$("div",{key:2,class:"details-tooltip",style:Yt({top:z.value.y+"px",left:z.value.x+"px"})},[S("div",ux,[G[7]||(G[7]=S("strong",null,"P1 (Entity):",-1)),be(" "+U(P.value.p1.score)+" - "+U(P.value.p1.reason),1)]),S("div",cx,[G[8]||(G[8]=S("strong",null,"P2 (Time):",-1)),be(" "+U(P.value.p2.score)+" - "+U(P.value.p2.reason),1)]),S("div",hx,[G[9]||(G[9]=S("strong",null,"P3 (Theme):",-1)),be(" "+U(P.value.p3.score)+" - "+U(P.value.p3.reason),1)])],4)):ce("",!0)],64))}},dx=lt(fx,[["__scopeId","data-v-d2cd98ec"]]),px={class:"sidebar"},vx={class:"sidebar-header"},gx={class:"search-box"},mx={class:"filters-row"},yx=["value"],bx=["value"],xx={class:"type-toggles"},_x={class:"list-stats"},Sx={class:"alert-list"},wx=["onClick"],kx={class:"card-header"},Ax={class:"ticker-box"},Cx={class:"ticker"},Dx={class:"date"},Tx={class:"card-body"},Lx={class:"instrument"},Ix={class:"date-range"},Mx={class:"range-date"},Ex={class:"range-date"},Rx={class:"card-footer"},Ox={class:"alert-id"},Px={class:"status-indicator"},Nx={class:"status-text"},Bx={__name:"AlertsSidebar",props:{alerts:{type:Array,required:!0},selectedId:{type:[String,Number],default:null},availableDates:{type:Array,default:()=>[]},validStatuses:{type:Array,default:()=>["NEEDS_REVIEW","ESCALATE_L2","DISMISS"]}},emits:["select","filter-date","filter-search","filter-status","filter-type"],setup(r,{emit:e}){const t=e,n=q(""),a=q(""),i=q(""),s=q(""),o=v=>{t("select",v)},l=()=>t("filter-search",n.value),u=()=>t("filter-status",a.value),c=v=>{i.value=i.value===v?"":v,t("filter-type",i.value)},h=()=>t("filter-date",s.value),f={NEEDS_REVIEW:"status-dot-warning",ESCALATE_L2:"status-dot-danger",DISMISS:"status-dot-success",Pending:"status-dot-warning",Approved:"status-dot-danger",Rejected:"status-dot-success"},d=v=>f[v]||"status-dot-warning",p=v=>v?.toLowerCase()==="buy"?"badge-buy":"badge-sell";return(v,m)=>(N(),$("div",px,[S("div",vx,[S("div",gx,[Sr(S("input",{"onUpdate:modelValue":m[0]||(m[0]=g=>n.value=g),onInput:l,type:"text",placeholder:"Search Ticker...",class:"input-search"},null,544),[[zl,n.value]])]),S("div",mx,[Sr(S("select",{"onUpdate:modelValue":m[1]||(m[1]=g=>s.value=g),onChange:h,class:"select-sm"},[m[5]||(m[5]=S("option",{value:""},"All Dates",-1)),(N(!0),$(xe,null,Ce(r.availableDates,g=>(N(),$("option",{key:g,value:g},U(g),9,yx))),128))],544),[[Ha,s.value]]),Sr(S("select",{"onUpdate:modelValue":m[2]||(m[2]=g=>a.value=g),onChange:u,class:"select-sm"},[m[6]||(m[6]=S("option",{value:""},"All Status",-1)),(N(!0),$(xe,null,Ce(r.validStatuses,g=>(N(),$("option",{key:g,value:g},U(g),9,bx))),128))],544),[[Ha,a.value]])]),S("div",xx,[S("button",{class:pe(["type-btn",{active:i.value==="Buy"}]),onClick:m[3]||(m[3]=g=>c("Buy"))},"Buy",2),S("button",{class:pe(["type-btn",{active:i.value==="Sell"}]),onClick:m[4]||(m[4]=g=>c("Sell"))},"Sell",2)]),S("div",_x,[S("span",null,U(r.alerts.length)+" Alerts",1)])]),S("div",Sx,[(N(!0),$(xe,null,Ce(r.alerts,g=>(N(),$("div",{key:g.id,class:pe(["alert-card",{active:r.selectedId===g.id}]),onClick:y=>o(g.id)},[S("div",kx,[S("div",Ax,[S("span",Cx,U(g.ticker),1),S("span",{class:pe(["type-badge",p(g.trade_type)])},U(g.trade_type),3)]),S("span",Dx,U(g.execution_date),1)]),S("div",Tx,[S("span",Lx,U(g.instrument_name),1),S("div",Ix,[S("span",Mx,"Start: "+U(g.start_date||"-"),1),S("span",Ex,"End: "+U(g.end_date||"-"),1)])]),S("div",Rx,[S("span",Ox,"Alert ID: #"+U(g.id),1),S("div",Px,[S("span",{class:pe(["status-dot",d(g.status)])},null,2),S("span",Nx,U(g.status),1)])])],10,wx))),128))])]))}},$x=lt(Bx,[["__scopeId","data-v-918eb694"]]);function Vi(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Ft=Vi();function Ac(r){Ft=r}var kr={exec:()=>null};function ae(r,e=""){let t=typeof r=="string"?r:r.source,n={replace:(a,i)=>{let s=typeof i=="string"?i:i.source;return s=s.replace(De.caret,"$1"),t=t.replace(a,s),n},getRegex:()=>new RegExp(t,e)};return n}var zx=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),De={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] +\S/,listReplaceTask:/^\[[ xX]\] +/,listTaskCheckbox:/\[[ xX]\]/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:r=>new RegExp(`^( {0,3}${r})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}#`),htmlBeginRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}<(?:[a-z].*>|!--)`,"i")},Fx=/^(?:[ \t]*(?:\n|$))+/,Hx=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Gx=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Hr=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Vx=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Ui=/(?:[*+-]|\d{1,9}[.)])/,Cc=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Dc=ae(Cc).replace(/bull/g,Ui).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Ux=ae(Cc).replace(/bull/g,Ui).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Wi=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Wx=/^[^\n]+/,qi=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,qx=ae(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",qi).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),jx=ae(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Ui).getRegex(),ea="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",ji=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Zx=ae("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",ji).replace("tag",ea).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Tc=ae(Wi).replace("hr",Hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ea).getRegex(),Xx=ae(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Tc).getRegex(),Zi={blockquote:Xx,code:Hx,def:qx,fences:Gx,heading:Vx,hr:Hr,html:Zx,lheading:Dc,list:jx,newline:Fx,paragraph:Tc,table:kr,text:Wx},ll=ae("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ea).getRegex(),Yx={...Zi,lheading:Ux,table:ll,paragraph:ae(Wi).replace("hr",Hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",ll).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ea).getRegex()},Kx={...Zi,html:ae(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",ji).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:kr,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:ae(Wi).replace("hr",Hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Dc).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Jx=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Qx=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Lc=/^( {2,}|\\)\n(?!\s*$)/,e_=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,ta=/[\p{P}\p{S}]/u,Xi=/[\s\p{P}\p{S}]/u,Ic=/[^\s\p{P}\p{S}]/u,t_=ae(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Xi).getRegex(),Mc=/(?!~)[\p{P}\p{S}]/u,r_=/(?!~)[\s\p{P}\p{S}]/u,n_=/(?:[^\s\p{P}\p{S}]|~)/u,a_=ae(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",zx?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),Ec=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,i_=ae(Ec,"u").replace(/punct/g,ta).getRegex(),s_=ae(Ec,"u").replace(/punct/g,Mc).getRegex(),Rc="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",o_=ae(Rc,"gu").replace(/notPunctSpace/g,Ic).replace(/punctSpace/g,Xi).replace(/punct/g,ta).getRegex(),l_=ae(Rc,"gu").replace(/notPunctSpace/g,n_).replace(/punctSpace/g,r_).replace(/punct/g,Mc).getRegex(),u_=ae("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Ic).replace(/punctSpace/g,Xi).replace(/punct/g,ta).getRegex(),c_=ae(/\\(punct)/,"gu").replace(/punct/g,ta).getRegex(),h_=ae(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),f_=ae(ji).replace("(?:-->|$)","-->").getRegex(),d_=ae("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",f_).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Hn=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,p_=ae(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Hn).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Oc=ae(/^!?\[(label)\]\[(ref)\]/).replace("label",Hn).replace("ref",qi).getRegex(),Pc=ae(/^!?\[(ref)\](?:\[\])?/).replace("ref",qi).getRegex(),v_=ae("reflink|nolink(?!\\()","g").replace("reflink",Oc).replace("nolink",Pc).getRegex(),ul=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,Yi={_backpedal:kr,anyPunctuation:c_,autolink:h_,blockSkip:a_,br:Lc,code:Qx,del:kr,emStrongLDelim:i_,emStrongRDelimAst:o_,emStrongRDelimUnd:u_,escape:Jx,link:p_,nolink:Pc,punctuation:t_,reflink:Oc,reflinkSearch:v_,tag:d_,text:e_,url:kr},g_={...Yi,link:ae(/^!?\[(label)\]\((.*?)\)/).replace("label",Hn).getRegex(),reflink:ae(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Hn).getRegex()},fi={...Yi,emStrongRDelimAst:l_,emStrongLDelim:s_,url:ae(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",ul).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:ae(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",ul).getRegex()},m_={...fi,br:ae(Lc).replace("{2,}","*").getRegex(),text:ae(fi.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},pn={normal:Zi,gfm:Yx,pedantic:Kx},gr={normal:Yi,gfm:fi,breaks:m_,pedantic:g_},y_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},cl=r=>y_[r];function tt(r,e){if(e){if(De.escapeTest.test(r))return r.replace(De.escapeReplace,cl)}else if(De.escapeTestNoEncode.test(r))return r.replace(De.escapeReplaceNoEncode,cl);return r}function hl(r){try{r=encodeURI(r).replace(De.percentDecode,"%")}catch{return null}return r}function fl(r,e){let t=r.replace(De.findPipe,(i,s,o)=>{let l=!1,u=s;for(;--u>=0&&o[u]==="\\";)l=!l;return l?"|":" |"}),n=t.split(De.splitPipe),a=0;if(n[0].trim()||n.shift(),n.length>0&&!n.at(-1)?.trim()&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;a<n.length;a++)n[a]=n[a].trim().replace(De.slashPipe,"|");return n}function mr(r,e,t){let n=r.length;if(n===0)return"";let a=0;for(;a<n&&r.charAt(n-a-1)===e;)a++;return r.slice(0,n-a)}function b_(r,e){if(r.indexOf(e[1])===-1)return-1;let t=0;for(let n=0;n<r.length;n++)if(r[n]==="\\")n++;else if(r[n]===e[0])t++;else if(r[n]===e[1]&&(t--,t<0))return n;return t>0?-2:-1}function dl(r,e,t,n,a){let i=e.href,s=e.title||null,o=r[1].replace(a.other.outputLinkReplace,"$1");n.state.inLink=!0;let l={type:r[0].charAt(0)==="!"?"image":"link",raw:t,href:i,title:s,text:o,tokens:n.inlineTokens(o)};return n.state.inLink=!1,l}function x_(r,e,t){let n=r.match(t.other.indentCodeCompensation);if(n===null)return e;let a=n[1];return e.split(`
`).map(i=>{let s=i.match(t.other.beginningSpace);if(s===null)return i;let[o]=s;return o.length>=a.length?i.slice(a.length):i}).join(`
`)}var Gn=class{options;rules;lexer;constructor(r){this.options=r||Ft}space(r){let e=this.rules.block.newline.exec(r);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(r){let e=this.rules.block.code.exec(r);if(e){let t=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?t:mr(t,`
`)}}}fences(r){let e=this.rules.block.fences.exec(r);if(e){let t=e[0],n=x_(t,e[3]||"",this.rules);return{type:"code",raw:t,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:n}}}heading(r){let e=this.rules.block.heading.exec(r);if(e){let t=e[2].trim();if(this.rules.other.endingHash.test(t)){let n=mr(t,"#");(this.options.pedantic||!n||this.rules.other.endingSpaceChar.test(n))&&(t=n.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(r){let e=this.rules.block.hr.exec(r);if(e)return{type:"hr",raw:mr(e[0],`
`)}}blockquote(r){let e=this.rules.block.blockquote.exec(r);if(e){let t=mr(e[0],`
`).split(`
`),n="",a="",i=[];for(;t.length>0;){let s=!1,o=[],l;for(l=0;l<t.length;l++)if(this.rules.other.blockquoteStart.test(t[l]))o.push(t[l]),s=!0;else if(!s)o.push(t[l]);else break;t=t.slice(l);let u=o.join(`
`),c=u.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}
${u}`:u,a=a?`${a}
${c}`:c;let h=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(c,i,!0),this.lexer.state.top=h,t.length===0)break;let f=i.at(-1);if(f?.type==="code")break;if(f?.type==="blockquote"){let d=f,p=d.raw+`
`+t.join(`
`),v=this.blockquote(p);i[i.length-1]=v,n=n.substring(0,n.length-d.raw.length)+v.raw,a=a.substring(0,a.length-d.text.length)+v.text;break}else if(f?.type==="list"){let d=f,p=d.raw+`
`+t.join(`
`),v=this.list(p);i[i.length-1]=v,n=n.substring(0,n.length-f.raw.length)+v.raw,a=a.substring(0,a.length-d.raw.length)+v.raw,t=p.substring(i.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:n,tokens:i,text:a}}}list(r){let e=this.rules.block.list.exec(r);if(e){let t=e[1].trim(),n=t.length>1,a={type:"list",raw:"",ordered:n,start:n?+t.slice(0,-1):"",loose:!1,items:[]};t=n?`\\d{1,9}\\${t.slice(-1)}`:`\\${t}`,this.options.pedantic&&(t=n?t:"[*+-]");let i=this.rules.other.listItemRegex(t),s=!1;for(;r;){let l=!1,u="",c="";if(!(e=i.exec(r))||this.rules.block.hr.test(r))break;u=e[0],r=r.substring(u.length);let h=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,v=>" ".repeat(3*v.length)),f=r.split(`
`,1)[0],d=!h.trim(),p=0;if(this.options.pedantic?(p=2,c=h.trimStart()):d?p=e[1].length+1:(p=e[2].search(this.rules.other.nonSpaceChar),p=p>4?1:p,c=h.slice(p),p+=e[1].length),d&&this.rules.other.blankLine.test(f)&&(u+=f+`
`,r=r.substring(f.length+1),l=!0),!l){let v=this.rules.other.nextBulletRegex(p),m=this.rules.other.hrRegex(p),g=this.rules.other.fencesBeginRegex(p),y=this.rules.other.headingBeginRegex(p),b=this.rules.other.htmlBeginRegex(p);for(;r;){let _=r.split(`
`,1)[0],x;if(f=_,this.options.pedantic?(f=f.replace(this.rules.other.listReplaceNesting,"  "),x=f):x=f.replace(this.rules.other.tabCharGlobal,"    "),g.test(f)||y.test(f)||b.test(f)||v.test(f)||m.test(f))break;if(x.search(this.rules.other.nonSpaceChar)>=p||!f.trim())c+=`
`+x.slice(p);else{if(d||h.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||g.test(h)||y.test(h)||m.test(h))break;c+=`
`+f}!d&&!f.trim()&&(d=!0),u+=_+`
`,r=r.substring(_.length+1),h=x.slice(p)}}a.loose||(s?a.loose=!0:this.rules.other.doubleBlankLine.test(u)&&(s=!0)),a.items.push({type:"list_item",raw:u,task:!!this.options.gfm&&this.rules.other.listIsTask.test(c),loose:!1,text:c,tokens:[]}),a.raw+=u}let o=a.items.at(-1);if(o)o.raw=o.raw.trimEnd(),o.text=o.text.trimEnd();else return;a.raw=a.raw.trimEnd();for(let l of a.items){if(this.lexer.state.top=!1,l.tokens=this.lexer.blockTokens(l.text,[]),l.task){if(l.text=l.text.replace(this.rules.other.listReplaceTask,""),l.tokens[0]?.type==="text"||l.tokens[0]?.type==="paragraph"){l.tokens[0].raw=l.tokens[0].raw.replace(this.rules.other.listReplaceTask,""),l.tokens[0].text=l.tokens[0].text.replace(this.rules.other.listReplaceTask,"");for(let c=this.lexer.inlineQueue.length-1;c>=0;c--)if(this.rules.other.listIsTask.test(this.lexer.inlineQueue[c].src)){this.lexer.inlineQueue[c].src=this.lexer.inlineQueue[c].src.replace(this.rules.other.listReplaceTask,"");break}}let u=this.rules.other.listTaskCheckbox.exec(l.raw);if(u){let c={type:"checkbox",raw:u[0]+" ",checked:u[0]!=="[ ]"};l.checked=c.checked,a.loose?l.tokens[0]&&["paragraph","text"].includes(l.tokens[0].type)&&"tokens"in l.tokens[0]&&l.tokens[0].tokens?(l.tokens[0].raw=c.raw+l.tokens[0].raw,l.tokens[0].text=c.raw+l.tokens[0].text,l.tokens[0].tokens.unshift(c)):l.tokens.unshift({type:"paragraph",raw:c.raw,text:c.raw,tokens:[c]}):l.tokens.unshift(c)}}if(!a.loose){let u=l.tokens.filter(h=>h.type==="space"),c=u.length>0&&u.some(h=>this.rules.other.anyLine.test(h.raw));a.loose=c}}if(a.loose)for(let l of a.items){l.loose=!0;for(let u of l.tokens)u.type==="text"&&(u.type="paragraph")}return a}}html(r){let e=this.rules.block.html.exec(r);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(r){let e=this.rules.block.def.exec(r);if(e){let t=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",a=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:t,raw:e[0],href:n,title:a}}}table(r){let e=this.rules.block.table.exec(r);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;let t=fl(e[1]),n=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),a=e[3]?.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],i={type:"table",raw:e[0],header:[],align:[],rows:[]};if(t.length===n.length){for(let s of n)this.rules.other.tableAlignRight.test(s)?i.align.push("right"):this.rules.other.tableAlignCenter.test(s)?i.align.push("center"):this.rules.other.tableAlignLeft.test(s)?i.align.push("left"):i.align.push(null);for(let s=0;s<t.length;s++)i.header.push({text:t[s],tokens:this.lexer.inline(t[s]),header:!0,align:i.align[s]});for(let s of a)i.rows.push(fl(s,i.header.length).map((o,l)=>({text:o,tokens:this.lexer.inline(o),header:!1,align:i.align[l]})));return i}}lheading(r){let e=this.rules.block.lheading.exec(r);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(r){let e=this.rules.block.paragraph.exec(r);if(e){let t=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:t,tokens:this.lexer.inline(t)}}}text(r){let e=this.rules.block.text.exec(r);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(r){let e=this.rules.inline.escape.exec(r);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(r){let e=this.rules.inline.tag.exec(r);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(r){let e=this.rules.inline.link.exec(r);if(e){let t=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(t)){if(!this.rules.other.endAngleBracket.test(t))return;let i=mr(t.slice(0,-1),"\\");if((t.length-i.length)%2===0)return}else{let i=b_(e[2],"()");if(i===-2)return;if(i>-1){let s=(e[0].indexOf("!")===0?5:4)+e[1].length+i;e[2]=e[2].substring(0,i),e[0]=e[0].substring(0,s).trim(),e[3]=""}}let n=e[2],a="";if(this.options.pedantic){let i=this.rules.other.pedanticHrefTitle.exec(n);i&&(n=i[1],a=i[3])}else a=e[3]?e[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(t)?n=n.slice(1):n=n.slice(1,-1)),dl(e,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:a&&a.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(r,e){let t;if((t=this.rules.inline.reflink.exec(r))||(t=this.rules.inline.nolink.exec(r))){let n=(t[2]||t[1]).replace(this.rules.other.multipleSpaceGlobal," "),a=e[n.toLowerCase()];if(!a){let i=t[0].charAt(0);return{type:"text",raw:i,text:i}}return dl(t,a,t[0],this.lexer,this.rules)}}emStrong(r,e,t=""){let n=this.rules.inline.emStrongLDelim.exec(r);if(!(!n||n[3]&&t.match(this.rules.other.unicodeAlphaNumeric))&&(!(n[1]||n[2])||!t||this.rules.inline.punctuation.exec(t))){let a=[...n[0]].length-1,i,s,o=a,l=0,u=n[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(u.lastIndex=0,e=e.slice(-1*r.length+a);(n=u.exec(e))!=null;){if(i=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!i)continue;if(s=[...i].length,n[3]||n[4]){o+=s;continue}else if((n[5]||n[6])&&a%3&&!((a+s)%3)){l+=s;continue}if(o-=s,o>0)continue;s=Math.min(s,s+o+l);let c=[...n[0]][0].length,h=r.slice(0,a+n.index+c+s);if(Math.min(a,s)%2){let d=h.slice(1,-1);return{type:"em",raw:h,text:d,tokens:this.lexer.inlineTokens(d)}}let f=h.slice(2,-2);return{type:"strong",raw:h,text:f,tokens:this.lexer.inlineTokens(f)}}}}codespan(r){let e=this.rules.inline.code.exec(r);if(e){let t=e[2].replace(this.rules.other.newLineCharGlobal," "),n=this.rules.other.nonSpaceChar.test(t),a=this.rules.other.startingSpaceChar.test(t)&&this.rules.other.endingSpaceChar.test(t);return n&&a&&(t=t.substring(1,t.length-1)),{type:"codespan",raw:e[0],text:t}}}br(r){let e=this.rules.inline.br.exec(r);if(e)return{type:"br",raw:e[0]}}del(r){let e=this.rules.inline.del.exec(r);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(r){let e=this.rules.inline.autolink.exec(r);if(e){let t,n;return e[2]==="@"?(t=e[1],n="mailto:"+t):(t=e[1],n=t),{type:"link",raw:e[0],text:t,href:n,tokens:[{type:"text",raw:t,text:t}]}}}url(r){let e;if(e=this.rules.inline.url.exec(r)){let t,n;if(e[2]==="@")t=e[0],n="mailto:"+t;else{let a;do a=e[0],e[0]=this.rules.inline._backpedal.exec(e[0])?.[0]??"";while(a!==e[0]);t=e[0],e[1]==="www."?n="http://"+e[0]:n=e[0]}return{type:"link",raw:e[0],text:t,href:n,tokens:[{type:"text",raw:t,text:t}]}}}inlineText(r){let e=this.rules.inline.text.exec(r);if(e){let t=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:t}}}},We=class di{tokens;options;state;inlineQueue;tokenizer;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Ft,this.options.tokenizer=this.options.tokenizer||new Gn,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={other:De,block:pn.normal,inline:gr.normal};this.options.pedantic?(t.block=pn.pedantic,t.inline=gr.pedantic):this.options.gfm&&(t.block=pn.gfm,this.options.breaks?t.inline=gr.breaks:t.inline=gr.gfm),this.tokenizer.rules=t}static get rules(){return{block:pn,inline:gr}}static lex(e,t){return new di(t).lex(e)}static lexInline(e,t){return new di(t).inlineTokens(e)}lex(e){e=e.replace(De.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){let n=this.inlineQueue[t];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],n=!1){for(this.options.pedantic&&(e=e.replace(De.tabCharGlobal,"    ").replace(De.spaceLine,""));e;){let a;if(this.options.extensions?.block?.some(s=>(a=s.call({lexer:this},e,t))?(e=e.substring(a.raw.length),t.push(a),!0):!1))continue;if(a=this.tokenizer.space(e)){e=e.substring(a.raw.length);let s=t.at(-1);a.raw.length===1&&s!==void 0?s.raw+=`
`:t.push(a);continue}if(a=this.tokenizer.code(e)){e=e.substring(a.raw.length);let s=t.at(-1);s?.type==="paragraph"||s?.type==="text"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+a.raw,s.text+=`
`+a.text,this.inlineQueue.at(-1).src=s.text):t.push(a);continue}if(a=this.tokenizer.fences(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.heading(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.hr(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.blockquote(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.list(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.html(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.def(e)){e=e.substring(a.raw.length);let s=t.at(-1);s?.type==="paragraph"||s?.type==="text"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+a.raw,s.text+=`
`+a.raw,this.inlineQueue.at(-1).src=s.text):this.tokens.links[a.tag]||(this.tokens.links[a.tag]={href:a.href,title:a.title},t.push(a));continue}if(a=this.tokenizer.table(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.lheading(e)){e=e.substring(a.raw.length),t.push(a);continue}let i=e;if(this.options.extensions?.startBlock){let s=1/0,o=e.slice(1),l;this.options.extensions.startBlock.forEach(u=>{l=u.call({lexer:this},o),typeof l=="number"&&l>=0&&(s=Math.min(s,l))}),s<1/0&&s>=0&&(i=e.substring(0,s+1))}if(this.state.top&&(a=this.tokenizer.paragraph(i))){let s=t.at(-1);n&&s?.type==="paragraph"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+a.raw,s.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):t.push(a),n=i.length!==e.length,e=e.substring(a.raw.length);continue}if(a=this.tokenizer.text(e)){e=e.substring(a.raw.length);let s=t.at(-1);s?.type==="text"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+a.raw,s.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):t.push(a);continue}if(e){let s="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(s);break}else throw new Error(s)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n=e,a=null;if(this.tokens.links){let l=Object.keys(this.tokens.links);if(l.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)l.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,a.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let i;for(;(a=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)i=a[2]?a[2].length:0,n=n.slice(0,a.index+i)+"["+"a".repeat(a[0].length-i-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);n=this.options.hooks?.emStrongMask?.call({lexer:this},n)??n;let s=!1,o="";for(;e;){s||(o=""),s=!1;let l;if(this.options.extensions?.inline?.some(c=>(l=c.call({lexer:this},e,t))?(e=e.substring(l.raw.length),t.push(l),!0):!1))continue;if(l=this.tokenizer.escape(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.tag(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.link(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(l.raw.length);let c=t.at(-1);l.type==="text"&&c?.type==="text"?(c.raw+=l.raw,c.text+=l.text):t.push(l);continue}if(l=this.tokenizer.emStrong(e,n,o)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.codespan(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.br(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.del(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.autolink(e)){e=e.substring(l.raw.length),t.push(l);continue}if(!this.state.inLink&&(l=this.tokenizer.url(e))){e=e.substring(l.raw.length),t.push(l);continue}let u=e;if(this.options.extensions?.startInline){let c=1/0,h=e.slice(1),f;this.options.extensions.startInline.forEach(d=>{f=d.call({lexer:this},h),typeof f=="number"&&f>=0&&(c=Math.min(c,f))}),c<1/0&&c>=0&&(u=e.substring(0,c+1))}if(l=this.tokenizer.inlineText(u)){e=e.substring(l.raw.length),l.raw.slice(-1)!=="_"&&(o=l.raw.slice(-1)),s=!0;let c=t.at(-1);c?.type==="text"?(c.raw+=l.raw,c.text+=l.text):t.push(l);continue}if(e){let c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return t}},Vn=class{options;parser;constructor(r){this.options=r||Ft}space(r){return""}code({text:r,lang:e,escaped:t}){let n=(e||"").match(De.notSpaceStart)?.[0],a=r.replace(De.endingNewline,"")+`
`;return n?'<pre><code class="language-'+tt(n)+'">'+(t?a:tt(a,!0))+`</code></pre>
`:"<pre><code>"+(t?a:tt(a,!0))+`</code></pre>
`}blockquote({tokens:r}){return`<blockquote>
${this.parser.parse(r)}</blockquote>
`}html({text:r}){return r}def(r){return""}heading({tokens:r,depth:e}){return`<h${e}>${this.parser.parseInline(r)}</h${e}>
`}hr(r){return`<hr>
`}list(r){let e=r.ordered,t=r.start,n="";for(let s=0;s<r.items.length;s++){let o=r.items[s];n+=this.listitem(o)}let a=e?"ol":"ul",i=e&&t!==1?' start="'+t+'"':"";return"<"+a+i+`>
`+n+"</"+a+`>
`}listitem(r){return`<li>${this.parser.parse(r.tokens)}</li>
`}checkbox({checked:r}){return"<input "+(r?'checked="" ':"")+'disabled="" type="checkbox"> '}paragraph({tokens:r}){return`<p>${this.parser.parseInline(r)}</p>
`}table(r){let e="",t="";for(let a=0;a<r.header.length;a++)t+=this.tablecell(r.header[a]);e+=this.tablerow({text:t});let n="";for(let a=0;a<r.rows.length;a++){let i=r.rows[a];t="";for(let s=0;s<i.length;s++)t+=this.tablecell(i[s]);n+=this.tablerow({text:t})}return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+n+`</table>
`}tablerow({text:r}){return`<tr>
${r}</tr>
`}tablecell(r){let e=this.parser.parseInline(r.tokens),t=r.header?"th":"td";return(r.align?`<${t} align="${r.align}">`:`<${t}>`)+e+`</${t}>
`}strong({tokens:r}){return`<strong>${this.parser.parseInline(r)}</strong>`}em({tokens:r}){return`<em>${this.parser.parseInline(r)}</em>`}codespan({text:r}){return`<code>${tt(r,!0)}</code>`}br(r){return"<br>"}del({tokens:r}){return`<del>${this.parser.parseInline(r)}</del>`}link({href:r,title:e,tokens:t}){let n=this.parser.parseInline(t),a=hl(r);if(a===null)return n;r=a;let i='<a href="'+r+'"';return e&&(i+=' title="'+tt(e)+'"'),i+=">"+n+"</a>",i}image({href:r,title:e,text:t,tokens:n}){n&&(t=this.parser.parseInline(n,this.parser.textRenderer));let a=hl(r);if(a===null)return tt(t);r=a;let i=`<img src="${r}" alt="${t}"`;return e&&(i+=` title="${tt(e)}"`),i+=">",i}text(r){return"tokens"in r&&r.tokens?this.parser.parseInline(r.tokens):"escaped"in r&&r.escaped?r.text:tt(r.text)}},Ki=class{strong({text:r}){return r}em({text:r}){return r}codespan({text:r}){return r}del({text:r}){return r}html({text:r}){return r}text({text:r}){return r}link({text:r}){return""+r}image({text:r}){return""+r}br(){return""}checkbox({raw:r}){return r}},qe=class pi{options;renderer;textRenderer;constructor(e){this.options=e||Ft,this.options.renderer=this.options.renderer||new Vn,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Ki}static parse(e,t){return new pi(t).parse(e)}static parseInline(e,t){return new pi(t).parseInline(e)}parse(e){let t="";for(let n=0;n<e.length;n++){let a=e[n];if(this.options.extensions?.renderers?.[a.type]){let s=a,o=this.options.extensions.renderers[s.type].call({parser:this},s);if(o!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(s.type)){t+=o||"";continue}}let i=a;switch(i.type){case"space":{t+=this.renderer.space(i);break}case"hr":{t+=this.renderer.hr(i);break}case"heading":{t+=this.renderer.heading(i);break}case"code":{t+=this.renderer.code(i);break}case"table":{t+=this.renderer.table(i);break}case"blockquote":{t+=this.renderer.blockquote(i);break}case"list":{t+=this.renderer.list(i);break}case"checkbox":{t+=this.renderer.checkbox(i);break}case"html":{t+=this.renderer.html(i);break}case"def":{t+=this.renderer.def(i);break}case"paragraph":{t+=this.renderer.paragraph(i);break}case"text":{t+=this.renderer.text(i);break}default:{let s='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return t}parseInline(e,t=this.renderer){let n="";for(let a=0;a<e.length;a++){let i=e[a];if(this.options.extensions?.renderers?.[i.type]){let o=this.options.extensions.renderers[i.type].call({parser:this},i);if(o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){n+=o||"";continue}}let s=i;switch(s.type){case"escape":{n+=t.text(s);break}case"html":{n+=t.html(s);break}case"link":{n+=t.link(s);break}case"image":{n+=t.image(s);break}case"checkbox":{n+=t.checkbox(s);break}case"strong":{n+=t.strong(s);break}case"em":{n+=t.em(s);break}case"codespan":{n+=t.codespan(s);break}case"br":{n+=t.br(s);break}case"del":{n+=t.del(s);break}case"text":{n+=t.text(s);break}default:{let o='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return n}},xr=class{options;block;constructor(r){this.options=r||Ft}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(r){return r}postprocess(r){return r}processAllTokens(r){return r}emStrongMask(r){return r}provideLexer(){return this.block?We.lex:We.lexInline}provideParser(){return this.block?qe.parse:qe.parseInline}},__=class{defaults=Vi();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=qe;Renderer=Vn;TextRenderer=Ki;Lexer=We;Tokenizer=Gn;Hooks=xr;constructor(...r){this.use(...r)}walkTokens(r,e){let t=[];for(let n of r)switch(t=t.concat(e.call(this,n)),n.type){case"table":{let a=n;for(let i of a.header)t=t.concat(this.walkTokens(i.tokens,e));for(let i of a.rows)for(let s of i)t=t.concat(this.walkTokens(s.tokens,e));break}case"list":{let a=n;t=t.concat(this.walkTokens(a.items,e));break}default:{let a=n;this.defaults.extensions?.childTokens?.[a.type]?this.defaults.extensions.childTokens[a.type].forEach(i=>{let s=a[i].flat(1/0);t=t.concat(this.walkTokens(s,e))}):a.tokens&&(t=t.concat(this.walkTokens(a.tokens,e)))}}return t}use(...r){let e=this.defaults.extensions||{renderers:{},childTokens:{}};return r.forEach(t=>{let n={...t};if(n.async=this.defaults.async||n.async||!1,t.extensions&&(t.extensions.forEach(a=>{if(!a.name)throw new Error("extension name required");if("renderer"in a){let i=e.renderers[a.name];i?e.renderers[a.name]=function(...s){let o=a.renderer.apply(this,s);return o===!1&&(o=i.apply(this,s)),o}:e.renderers[a.name]=a.renderer}if("tokenizer"in a){if(!a.level||a.level!=="block"&&a.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let i=e[a.level];i?i.unshift(a.tokenizer):e[a.level]=[a.tokenizer],a.start&&(a.level==="block"?e.startBlock?e.startBlock.push(a.start):e.startBlock=[a.start]:a.level==="inline"&&(e.startInline?e.startInline.push(a.start):e.startInline=[a.start]))}"childTokens"in a&&a.childTokens&&(e.childTokens[a.name]=a.childTokens)}),n.extensions=e),t.renderer){let a=this.defaults.renderer||new Vn(this.defaults);for(let i in t.renderer){if(!(i in a))throw new Error(`renderer '${i}' does not exist`);if(["options","parser"].includes(i))continue;let s=i,o=t.renderer[s],l=a[s];a[s]=(...u)=>{let c=o.apply(a,u);return c===!1&&(c=l.apply(a,u)),c||""}}n.renderer=a}if(t.tokenizer){let a=this.defaults.tokenizer||new Gn(this.defaults);for(let i in t.tokenizer){if(!(i in a))throw new Error(`tokenizer '${i}' does not exist`);if(["options","rules","lexer"].includes(i))continue;let s=i,o=t.tokenizer[s],l=a[s];a[s]=(...u)=>{let c=o.apply(a,u);return c===!1&&(c=l.apply(a,u)),c}}n.tokenizer=a}if(t.hooks){let a=this.defaults.hooks||new xr;for(let i in t.hooks){if(!(i in a))throw new Error(`hook '${i}' does not exist`);if(["options","block"].includes(i))continue;let s=i,o=t.hooks[s],l=a[s];xr.passThroughHooks.has(i)?a[s]=u=>{if(this.defaults.async&&xr.passThroughHooksRespectAsync.has(i))return(async()=>{let h=await o.call(a,u);return l.call(a,h)})();let c=o.call(a,u);return l.call(a,c)}:a[s]=(...u)=>{if(this.defaults.async)return(async()=>{let h=await o.apply(a,u);return h===!1&&(h=await l.apply(a,u)),h})();let c=o.apply(a,u);return c===!1&&(c=l.apply(a,u)),c}}n.hooks=a}if(t.walkTokens){let a=this.defaults.walkTokens,i=t.walkTokens;n.walkTokens=function(s){let o=[];return o.push(i.call(this,s)),a&&(o=o.concat(a.call(this,s))),o}}this.defaults={...this.defaults,...n}}),this}setOptions(r){return this.defaults={...this.defaults,...r},this}lexer(r,e){return We.lex(r,e??this.defaults)}parser(r,e){return qe.parse(r,e??this.defaults)}parseMarkdown(r){return(e,t)=>{let n={...t},a={...this.defaults,...n},i=this.onError(!!a.silent,!!a.async);if(this.defaults.async===!0&&n.async===!1)return i(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof e>"u"||e===null)return i(new Error("marked(): input parameter is undefined or null"));if(typeof e!="string")return i(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));if(a.hooks&&(a.hooks.options=a,a.hooks.block=r),a.async)return(async()=>{let s=a.hooks?await a.hooks.preprocess(e):e,o=await(a.hooks?await a.hooks.provideLexer():r?We.lex:We.lexInline)(s,a),l=a.hooks?await a.hooks.processAllTokens(o):o;a.walkTokens&&await Promise.all(this.walkTokens(l,a.walkTokens));let u=await(a.hooks?await a.hooks.provideParser():r?qe.parse:qe.parseInline)(l,a);return a.hooks?await a.hooks.postprocess(u):u})().catch(i);try{a.hooks&&(e=a.hooks.preprocess(e));let s=(a.hooks?a.hooks.provideLexer():r?We.lex:We.lexInline)(e,a);a.hooks&&(s=a.hooks.processAllTokens(s)),a.walkTokens&&this.walkTokens(s,a.walkTokens);let o=(a.hooks?a.hooks.provideParser():r?qe.parse:qe.parseInline)(s,a);return a.hooks&&(o=a.hooks.postprocess(o)),o}catch(s){return i(s)}}}onError(r,e){return t=>{if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,r){let n="<p>An error occurred:</p><pre>"+tt(t.message+"",!0)+"</pre>";return e?Promise.resolve(n):n}if(e)return Promise.reject(t);throw t}}},$t=new __;function re(r,e){return $t.parse(r,e)}re.options=re.setOptions=function(r){return $t.setOptions(r),re.defaults=$t.defaults,Ac(re.defaults),re};re.getDefaults=Vi;re.defaults=Ft;re.use=function(...r){return $t.use(...r),re.defaults=$t.defaults,Ac(re.defaults),re};re.walkTokens=function(r,e){return $t.walkTokens(r,e)};re.parseInline=$t.parseInline;re.Parser=qe;re.parser=qe.parse;re.Renderer=Vn;re.TextRenderer=Ki;re.Lexer=We;re.lexer=We.lex;re.Tokenizer=Gn;re.Hooks=xr;re.parse=re;re.options;re.setOptions;re.use;re.walkTokens;re.parseInline;qe.parse;We.lex;const S_={class:"panel-header"},w_={class:"header-actions"},k_={key:0,class:"context-switch-divider"},A_={class:"divider-content"},C_={class:"date-range"},D_={key:1,class:"message-content"},T_=["innerHTML"],L_={key:1,class:"tools-container"},I_={key:0,class:"loading-container"},M_={class:"input-area"},E_=["disabled"],R_=["disabled"],O_={__name:"AgentPanel",props:{alertId:String},emits:["close"],setup(r,{emit:e}){re.setOptions({breaks:!0,gfm:!0});const t=new re.Renderer;t.link=({href:M,title:R,text:B})=>{const F=R?` title="${R}"`:"";return`<a href="${M}"${F} target="_blank" rel="noopener noreferrer">${B}</a>`},re.use({renderer:t});const n=M=>M?re.parse(M):"",a=r,i=q([]),s=q(""),o=q(!1),l=q(""),u=q(null),c=q(null),h=q(null),f=q(null);let d=null;const p=q(!1),v=q("This will permanently delete your conversation history from the server."),m=q("Delete Conversation History"),g=q(!0),y=q(!1),b=M=>{if(M){const{id:R,ticker:B,instrument_name:F,trade_type:V,start_date:j,end_date:J}=M;return`Hello! I'm your Trade Surveillance Assistant. I can see you're investigating:

**Alert ${R}** - ${B} (${F})
- **Type:** ${V}
- **Period:** ${j} to ${J}

How can I help you analyze this alert?`}return"Hello! I am your Trade Surveillance Assistant. How can I help you investigate this alert?"},_=async M=>{if(M)try{const R=await fetch(`http://localhost:8000/alerts/${M}`);if(!R.ok)throw new Error("Failed to fetch alert info");const B=await R.json(),F=h.value?h.value.ticker:null,V=B.ticker;if(h.value=B,l.value&&F===V)console.log(`[Agent] Keeping session ${l.value} for same ticker ${V}`),f.value&&f.value!==M&&(i.value.push({role:"context-switch",alertId:M,ticker:V,startDate:B.start_date,endDate:B.end_date,instrumentName:B.instrument_name}),T());else{const j=`agent_session_${V}`;let J=localStorage.getItem(j);J||(J=crypto.randomUUID(),localStorage.setItem(j,J)),l.value=J,console.log(`[Agent] Switched to session ${l.value} for ticker ${V}`),await x(l.value),i.value.length===0&&(i.value=[{role:"agent",content:b(B)}])}f.value=M}catch(R){console.error("Failed to initialize session:",R),h.value=null}},x=async M=>{i.value=[];try{const R=await fetch(`http://localhost:8000/agent/history/${M}`);if(R.ok){const B=await R.json();if(B.messages&&B.messages.length>0){i.value=B.messages,T();return}}}catch(R){console.error("Failed to fetch chat history:",R)}},k=()=>{if(!h.value)return;const M=h.value.ticker,R=crypto.randomUUID(),B=`agent_session_${M}`;localStorage.setItem(B,R),l.value=R,i.value=[{role:"agent",content:b(h.value)}]},w=()=>{g.value=!0,m.value="Delete Conversation History",v.value="This will permanently delete your conversation history for this TICKER from the server. Continue?",p.value=!0},I=()=>{p.value=!1},L=async()=>{y.value=!0,v.value="Deleting...";try{const M=await fetch(`http://localhost:8000/agent/history/${l.value}`,{method:"DELETE"}),R=await M.json();if(!M.ok||R.status==="error"){m.value="Error",v.value=`Failed to delete: ${R.message||"Unknown error"}`,g.value=!1,y.value=!1,setTimeout(()=>{p.value=!1},2e3);return}m.value="Success",v.value="Conversation history deleted successfully.",g.value=!1,y.value=!1,setTimeout(()=>{p.value=!1,k()},1500)}catch(M){console.error("Failed to delete history:",M),m.value="Error",v.value=`Failed to delete: ${M.message}`,g.value=!1,y.value=!1,setTimeout(()=>{p.value=!1},2e3)}};Ai(async()=>{await _(a.alertId)}),yr(()=>a.alertId,async M=>{M&&await _(M)});const T=async()=>{await ks(),u.value&&(u.value.scrollTop=u.value.scrollHeight)},A=()=>{d&&(d.abort(),d=null),o.value=!1},O=async()=>{if(!s.value.trim()||o.value)return;const M=s.value;i.value.push({role:"user",content:M}),s.value="",o.value=!0,T();const R=i.value.length;i.value.push({role:"agent",content:"",tools:[]}),d=new AbortController;try{const B=h.value?{id:h.value.id,ticker:h.value.ticker,isin:h.value.isin,start_date:h.value.start_date,end_date:h.value.end_date,instrument_name:h.value.instrument_name,trade_type:h.value.trade_type,status:h.value.status}:null,F=await fetch("http://localhost:8000/agent/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:M,session_id:l.value,alert_context:B}),signal:d.signal});if(!F.ok)throw new Error(F.statusText);const V=F.body.getReader(),j=new TextDecoder;for(;;){const{done:J,value:le}=await V.read();if(J)break;const Gr=j.decode(le).split(`

`);for(const Vr of Gr)if(Vr.startsWith("data: "))try{const Ne=JSON.parse(Vr.slice(6));if(Ne.type==="token")i.value[R].content+=Ne.content;else if(Ne.type==="tool_start")i.value[R].tools.push({name:Ne.tool,status:"running"});else if(Ne.type==="tool_end"){const Ur=i.value[R].tools.find(Gt=>Gt.name===Ne.tool&&Gt.status==="running");Ur&&(Ur.status="done")}T()}catch{}}}catch(B){B.name==="AbortError"?i.value[R].content+=`
[Stopped by user]`:i.value[R].content+=`
[Error: ${B.message}]`}finally{o.value=!1,d=null,T(),await ks(),c.value?.focus()}},D=q(400),P=q(!1),z=M=>{P.value=!0,document.addEventListener("mousemove",W),document.addEventListener("mouseup",K),document.body.style.userSelect="none"},W=M=>{if(!P.value)return;const R=window.innerWidth-M.clientX;R>=300&&R<=800&&(D.value=R)},K=()=>{P.value=!1,document.removeEventListener("mousemove",W),document.removeEventListener("mouseup",K),document.body.style.userSelect=""};return(M,R)=>(N(),$(xe,null,[S("div",{class:"agent-panel",style:Yt({width:D.value+"px"})},[S("div",{class:"resize-handle",onMousedown:z},[...R[2]||(R[2]=[S("div",{class:"handle-line"},null,-1)])],32),S("div",S_,[R[5]||(R[5]=S("h3",null,"AI Assistant",-1)),S("div",w_,[S("button",{onClick:k,class:"action-btn",title:"Clear chat (new session)"},[...R[3]||(R[3]=[S("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[S("path",{d:"M20 20H7L3 16l9-13 8 8-5 9z"}),S("path",{d:"M6.5 13.5l5 5"})],-1)])]),S("button",{onClick:w,class:"action-btn delete-btn",title:"Delete history from server"},[...R[4]||(R[4]=[S("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[S("path",{d:"M3 6h18M8 6V4a2 2 0 012-2h4a2 2 0 012 2v2m3 0v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6h14M10 11v6M14 11v6"})],-1)])]),S("button",{onClick:R[0]||(R[0]=B=>M.$emit("close")),class:"close-btn"},"")])]),S("div",{class:"messages-area",ref_key:"messagesContainer",ref:u},[(N(!0),$(xe,null,Ce(i.value,(B,F)=>(N(),$("div",{key:F,class:pe(["message",B.role])},[B.role==="context-switch"?(N(),$("div",k_,[R[8]||(R[8]=S("div",{class:"divider-line"},null,-1)),S("div",A_,[R[7]||(R[7]=S("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[S("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),S("circle",{cx:"12",cy:"12",r:"3"})],-1)),S("span",null,[R[6]||(R[6]=be("Switched to ",-1)),S("strong",null,U(B.alertId),1)]),S("span",C_,U(B.startDate)+"  "+U(B.endDate),1)]),R[9]||(R[9]=S("div",{class:"divider-line"},null,-1))])):(N(),$("div",D_,[B.content?(N(),$("div",{key:`md-${F}-${B.content.length}`,class:"text markdown-content",innerHTML:n(B.content)},null,8,T_)):ce("",!0),B.tools&&B.tools.length>0?(N(),$("div",L_,[(N(!0),$(xe,null,Ce(B.tools,V=>(N(),$("div",{key:V.name,class:"tool-badge"},[S("span",{class:pe(["status-dot",V.status])},null,2),be(" "+U(V.name),1)]))),128))])):ce("",!0)]))],2))),128)),o.value?(N(),$("div",I_,[...R[10]||(R[10]=[S("div",{class:"spinner"},null,-1)])])):ce("",!0)],512),S("div",M_,[Sr(S("input",{ref_key:"inputRef",ref:c,"onUpdate:modelValue":R[1]||(R[1]=B=>s.value=B),onKeyup:Hf(O,["enter"]),placeholder:"Ask about this alert...",disabled:o.value},null,40,E_),[[zl,s.value]]),o.value?(N(),$("button",{key:1,onClick:A,class:"stop-btn"},[...R[11]||(R[11]=[S("span",{class:"stop-icon"},"",-1),be(" Stop ",-1)])])):(N(),$("button",{key:0,onClick:O,disabled:!s.value},"Send",8,R_))])],4),gt(uu,{isOpen:p.value,title:m.value,message:v.value,confirmText:y.value?"Deleting...":"Delete",cancelText:"Cancel",showButtons:g.value,onConfirm:L,onCancel:I},null,8,["isOpen","title","message","confirmText","showButtons"])],64))}},P_=lt(O_,[["__scopeId","data-v-3ccace56"]]),N_={class:"dashboard-container"},B_={class:"app-brand"},$_={key:0},z_={class:"main-content-pane"},F_={key:0,class:"empty-state"},H_={key:1,class:"detail-wrapper"},G_={key:2,class:"empty-state"},V_={__name:"DashboardLayout",setup(r){const e=q([]),t=q([]),n=q(null),a=q(!0),i=q([]),s=q({}),o=q(["NEEDS_REVIEW","ESCALATE_L2","DISMISS"]),l=q(!1),u=q(!1),c=()=>{l.value=!l.value},h=()=>{u.value=!u.value},f=async()=>{try{const x=await oe.get("http://localhost:8000/config");s.value=x.data,Array.isArray(x.data?.valid_statuses)&&x.data.valid_statuses.length>0&&(o.value=x.data.valid_statuses)}catch(x){console.error("Error fetching config:",x)}},d=async(x=null)=>{a.value=!0;try{const k=x?{date:x}:{},w=await oe.get("http://localhost:8000/alerts",{params:k});if(e.value=w.data,m(),!x&&e.value.length>0){const I=[...new Set(e.value.map(L=>L.alert_date))].sort().reverse();i.value=I,I.length>0&&(v.value.date=I[0],m())}else m()}catch(k){console.error("Error fetching alerts:",k)}finally{a.value=!1}};Ai(async()=>{await f(),await d()});const p=x=>{n.value=x,l.value||(l.value=!0)},v=q({search:"",status:"",type:"",date:""}),m=()=>{let x=e.value;const{search:k,status:w,type:I,date:L}=v.value;if(L&&(x=x.filter(T=>T.alert_date===L)),k){const T=k.toLowerCase();x=x.filter(A=>A.ticker.toLowerCase().includes(T))}w&&(x=x.filter(T=>T.status===w)),I&&(x=x.filter(T=>T.trade_type===I)),t.value=x},g=x=>{v.value.search=x,m()},y=x=>{v.value.status=x,m()},b=x=>{v.value.type=x,m()},_=x=>{v.value.date=x,d(x||null)};return(x,k)=>(N(),$("div",N_,[S("div",{class:pe(["sidebar-pane",{collapsed:l.value}])},[S("div",B_,[l.value?ce("",!0):(N(),$("h2",$_,[...k[1]||(k[1]=[be("InsiderTrade",-1),S("span",{class:"brand-accent"},"Monitor",-1)])])),S("button",{class:"toggle-btn",onClick:c,title:"Toggle Sidebar"},U(l.value?"":""),1)]),S("div",{class:"sidebar-content",style:Yt({opacity:l.value?0:1})},[gt($x,{alerts:t.value,availableDates:i.value,selectedId:n.value,validStatuses:o.value,onSelect:p,onFilterSearch:g,onFilterStatus:y,onFilterType:b,onFilterDate:_},null,8,["alerts","availableDates","selectedId","validStatuses"])],4)],2),S("div",z_,[a.value&&e.value.length===0?(N(),$("div",F_,[...k[2]||(k[2]=[S("p",null,"Loading alerts...",-1)])])):n.value?(N(),$("div",H_,[(N(),Sn(dx,{key:n.value,alertId:n.value,onToggleAgent:h},null,8,["alertId"]))])):(N(),$("div",G_,[...k[3]||(k[3]=[S("div",{class:"empty-content"},[S("h3",null,"Select an alert to investigate"),S("p",null,"Choose an item from the sidebar to view metrics and news.")],-1)])]))]),gt(pl,{name:"slide-panel"},{default:vi(()=>[u.value?(N(),Sn(P_,{key:0,alertId:n.value,onClose:k[0]||(k[0]=w=>u.value=!1)},null,8,["alertId"])):ce("",!0)]),_:1})]))}},h1=lt(V_,[["__scopeId","data-v-b543551f"]]);export{h1 as default};
